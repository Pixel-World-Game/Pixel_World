<!DOCTYPE html><html lang="en" class="no-js">
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<script type="text/javascript" src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" charset="UTF-8" data-domain-script="6e91be4c-3145-4ea2-aa64-89d716064836" data-dLayer-ignore="true" data-document-language="true"></script><script type="text/javascript">function OptanonWrapper() {}</script><script>window.dataLayer = window.dataLayer || []; dataLayer.push({ event: 'dataLayer-initialized', user: { user_unity_id: undefined, user_logged_in: 'no' }, environment: { environment_locale: 'en-us', environment_currency: undefined }});</script><script>var offline=(location.href.indexOf('docs.unity3d.com')==-1)?true:false;if(!offline){(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=   'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);  })(window,document,'script','dataLayer','GTM-5V25JL6');}</script><link href="https://fonts.googleapis.com/css?family=Roboto&amp;display=swap" rel="stylesheet">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Unity - Manual: Building plug-ins for desktop platforms</title>
<meta property="og:image" content="https://unity3d.com/files/images/ogimg.jpg">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="https://unity.com/themes/contrib/unity_base/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFilesManual/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFilesManual/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFilesManual/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFilesManual/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFilesManual/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFilesManual/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFilesManual/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFilesManual/images/favicons/tileicon-144x144.png">
<script type="text/javascript" src="/StaticFilesConfig/UnityVersionsInfo.js"></script><script type="text/javascript" src="../StaticFilesManual/js/jquery.js?ts=20241003"></script><script type="text/javascript" src="../StaticFilesManual/js/core.js?ts=20241003"></script><script type="text/javascript" src="docdata/toc.js?ts=20241003"></script><script type="text/javascript" src="docdata/global_toc.js?ts=20241003"></script><link rel="stylesheet" type="text/css" href="../StaticFilesManual/css/core.css?ts=20241003">
<link rel="stylesheet" href="../StaticFilesManual/css/prism.css">
<script src="../StaticFilesManual/js/prism.js"></script><script src="/StaticFilesConfig/feedback/feedback.js"></script><script src="../StaticFilesManual/js/jquery.sidebar.min.js"></script><link rel="stylesheet" href="../StaticFilesManual/css/mobileoptimisation.css">
<script src="../StaticFilesManual/js/mobileoptimisation.js"></script>
</head>
<body>
<div id="DocsAnalyticsData" data-area="core" data-pagetype="manual"></div>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div id="nav-open" for="nav-input"><span></span></div>
<div class="logo"><a href="https://docs.unity3d.com"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul>
<li><a href="../Manual/index.html" class="selected">Manual</a></li>
<li><a href="../ScriptReference/index.html">Scripting API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity.com/">unity.com</a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="toggle version-number" id="VersionNumber" data-target=".otherversionscontent">
                                Version: <b>2022.3</b><div class="otherversionscontent" id="OtherVersionsContent" style="display: none;">
<ul id="OtherVersionsContentUl"></ul>
<div id="otherVersionsLegend"><ul>
<li>
<div id="supportedColour" class="legendBox"></div>Supported</li>
<li>
<div id="notFoundColour" class="legendBox"></div>Legacy</li>
</ul></div>
</div>
<div id="VersionSwitcherArrow" class="arrow versionSwitcherArrow"></div>
</div>
<div class="lang-switcher"><div class="current toggle" data-target=".lang-list">
<div class="lbl">Language
:                <span class="b">English</span>
</div>
<div class="arrow"></div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/PluginsForDesktop.html">English</a></li>
<li><a href="/cn/current/Manual/PluginsForDesktop.html">中文</a></li>
<li><a href="/ja/current/Manual/PluginsForDesktop.html">日本語</a></li>
<li><a href="/kr/current/Manual/PluginsForDesktop.html">한국어</a></li>
</ul></div>
</div></div>
</div></div>
<div class="mobileLogo"><a href="https://docs.unity3d.com"></a></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc" id="customScrollbar">
<h2>Unity Manual</h2>
<div class="search-form sidebar-search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" id="mobileSearchBtn" class="submit" value="Search">
</form></div>
<div class="toggle version-number sidebar-version-switcher" id="VersionNumber" data-target=".otherversionscontent"><form id="otherVersionsContentMobileForm"><div class="ui-field-contain">
<label for="select-native-4">Version: 2022.3</label><select name="select-native-4" id="versionsSelectMobile"><option>Select a different version</option>
<optgroup id="versionsWithThisPageMobile" label="Versions with this page"></optgroup>
<optgroup id="versionsWithoutThisPageMobile" label="Versions without this page"></optgroup></select>
</div></form></div>
<div class="lang-switcher"><div class="current toggle" data-target=".lang-list">
<div class="lbl">Language
:                <span class="b">English</span>
</div>
<div class="arrow"></div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/PluginsForDesktop.html">English</a></li>
<li><a href="/cn/current/Manual/PluginsForDesktop.html">中文</a></li>
<li><a href="/ja/current/Manual/PluginsForDesktop.html">日本語</a></li>
<li><a href="/kr/current/Manual/PluginsForDesktop.html">한국어</a></li>
</ul></div>
</div></div>
</div></div></div></div></div>
<div id="content-wrap" class="content-wrap"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="ScriptingSection.html">Scripting</a></li>
<li><a href="Plugins.html">Plug-ins</a></li>
<li>Building plug-ins for desktop platforms</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="NativePlugins.html"></a></span><div class="tip">Native plug-ins</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="NativePluginInterface.html"></a></span><div class="tip">Low-level native plug-in interface</div>
</div>
</div></div>
<div id="_leavefeedback"></div>
<h1>Building plug-ins for desktop platforms</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p>Plug-ins for desktop platforms are libraries of native code you can write in C, C++ and Objective C. This page describes <span class="tooltip"><strong>plug-ins</strong><span class="tooltiptext">A set of code created outside of Unity that creates functionality in Unity. There are two kinds of plug-ins you can use in Unity: Managed plug-ins (managed .NET assemblies created with tools like Visual Studio) and Native plug-ins (platform-specific native code libraries). <a class="tooltipMoreInfoLink" href="Plugins.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a class="tooltipMoreInfoLink" href="Glossary.html#Plug-in">Glossary</a></span></span></span> for macOS, Windows, and Linux. For more information, refer to <span class="tooltip"><a href="NativePlugins.html">Native plug-ins</a><span class="tooltiptext">A platform-specific native code library that is created outside of Unity for use in Unity. Allows you can access features like OS calls and third-party code libraries that would otherwise not be available to Unity. <a href="Plugins.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#Nativeplug-in">Glossary</a></span></span></span>.</p>

<h2>macOS plug-ins</h2>

<p>You can deploy macOS plug-ins as bundles or, if you are using the <strong><span class="tooltip"><strong>IL2CPP</strong><span class="tooltiptext">A Unity-developed scripting back-end which you can use as an alternative to Mono when building projects for some platforms. <a class="tooltipMoreInfoLink" href="IL2CPP.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a class="tooltipMoreInfoLink" href="Glossary.html#IL2CPP">Glossary</a></span></span></span></strong> <span class="tooltip"><strong>scripting backend</strong><span class="tooltiptext">A framework that powers scripting in Unity. Unity supports three different scripting backends depending on target platform: Mono, .NET and IL2CPP. Universal Windows Platform, however, supports only two: .NET and IL2CPP. <a href="scripting-backends.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#ScriptingBackend">Glossary</a></span></span></span>, loose C++ files, which you can invoke with <code>[DllImport(&quot;__Internal&quot;)]</code> syntax. For further information on loose C++ plug-ins refer to <a href="macOSIL2CPPScriptingBackend.html">C++ source code plugins for IL2CPP</a>.</p>

<p>To create the bundle project with Xcode:</p>

<ol>
<li>Open Xcode.</li>
<li>Select <strong>File</strong> &gt; <strong>New</strong> &gt; <strong>Project</strong> &gt; <strong>macOS</strong> &gt; <strong>Framework &amp; Library</strong> &gt; <strong>Bundle</strong>.</li>
</ol>

<p>For more information about working with Xcode, refer to <a href="https://developer.apple.com/documentation/xcode">Apple’s documentation on Xcode</a>.</p>

<h3>Requirements</h3>

<ul>
<li>You can build your plug-in as a universal binary that’s compatible with 64-bit architectures. Alternatively, you can provide separate dylib files.</li>
<li>If you are using C++ (<code>.cpp</code>) or Objective-C (<code>.mm</code>) to implement the plug-in, declare the functions with C linkage to avoid name mangling issues:</li>
</ul>

<pre><code>extern &quot;C&quot;
{
  float ExamplePluginFunction ();
}

</code></pre>

<h2>Windows plug-ins</h2>

<p>Plug-ins on Windows are either <code>.dll</code> files with exported functions, or loose C++ files if you are using IL2CPP. You can use most languages and development environments that can create <code>.dll</code> files to create plug-ins. You must declare any C++ functions with C linkage to avoid name mangling issues.</p>

<h2>Linux plug-ins</h2>

<p>Plug-ins on Linux are <code>.so</code> files with exported functions. Although these libraries are usually in C or C++, you can use any language. You must declare any C++ functions with C linkage to avoid name mangling issues.</p>

<p>When you build the native plug-ins for Linux, if the built library has dependencies on another native plug-in, you must specify the <code>rpath</code> for that library while compiling it. </p>

<p>Add the linker flag <code>-Wl, -rpath=$ORIGIN</code> to specify the runtime search path. The linker flag instructs the loader to find its dependencies in the current directory of the library besides searching the system search path. You can add other linker flags along with <code>-Wl, -rpath=$ORIGIN</code>, however, Unity doesn’t control them. For example, <code>/usr/bin/g++ -o binary.c.o -Wl,-rpath=$ORIGIN</code>.</p>

<p>Alternatively, you can set <code>LD_LIBRARY_PATH=dependency path</code> in the environment to instruct the loader to search that path for dependencies. Linux doesn’t automatically search the current directory for dependencies. Make sure to set the correct dependency search path because incorrect path causes missing library errors in the Unity Editor.</p>

<h2>Managing plug-ins inside Unity</h2>

<p>In Unity, the <strong>Plugin <span class="tooltip"><strong>Inspector</strong><span class="tooltiptext">A Unity window that displays information about the currently selected GameObject, asset or project settings, allowing you to inspect and edit the values. <a class="tooltipMoreInfoLink" href="UsingTheInspector.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a class="tooltipMoreInfoLink" href="Glossary.html#Inspector">Glossary</a></span></span></span></strong> manages your plug-ins. To access the <strong>Plugin Inspector</strong>, select a plug-in file in the <strong><span class="tooltip"><strong>Project window</strong><span class="tooltiptext">A window that shows the contents of your <code>Assets</code> folder (Project tab) <a href="ProjectView.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#Projectwindow">Glossary</a></span></span></span></strong>. For Standalone platforms you can choose the CPU architecture with which the library is compatible. For cross-platform plug-ins you must include the <code>.bundle</code> file (for macOS), the <code>.dll</code> file(for Windows), and the <code>.so</code> file (for Linux). Unity automatically picks the right plug-in for the target platform and includes it with the player. For further information, refer to <a href="PluginInspector.html">Import and configure plug-ins</a>.</p>

<figure>
<img src="../uploads/Main/plugin-inspector.png" alt="Plugin Inspector">
<figcaption>Plugin Inspector</figcaption>
</figure>

<h2>Invoking your plug-in from a C# script</h2>

<p>Place your built plug-in in the <strong>Assets</strong> folder or the appropriate architecture-specific sub-directory in your Unity Project. Unity then finds it by name when you invoke it from a C# script. For example: <code>[DllImport (&quot;PluginName&quot;)] private static extern float ExamplePluginFunction ();</code>
</p>

<p>
<strong>Note</strong>: Don’t include the library prefix or file extension in the<code>PluginName</code> value. For example, if the actual name of the plug-in file is <code>PluginName.dll</code> on Windows or <code>libPluginName</code> on Linux, the value should be <code>PluginName</code> in both cases.</p>

<h2>Example plug-ins</h2>

<p>You can download and use these projects to learn how to implement plug-ins in Unity.</p>

<ul>
<li>
<a href="https://github.com/Unity-Technologies/DesktopSamples/tree/master/SimplestPluginExample">Simplest Plugin Example</a>: This project implements basic operations (for example, print a number, print a string, add two floats and add two integers). This project includes Windows, macOS and Linux project files.</li>
<li>
<a class="tooltipMoreInfoLink" href="https://github.com/Unity-Technologies/NativeRenderingPlugin">Native Renderer Plugin</a>: This is a low-level rendering plug-in that renders a rotating triangle from C++ code after all regular rendering is done and fills a procedural texture from C++ code, using Texture.GetNativeTexturePtr to access it. This project includes Windows, UWP, macOS, <span class="tooltip"><strong>WebGL</strong><span class="tooltiptext">A JavaScript API that renders 2D and 3D graphics in a web browser. The Unity WebGL build option allows Unity to publish content as JavaScript programs which use HTML5 technologies and the WebGL rendering API to run Unity content in a web browser. <a href="webgl-gettingstarted.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#WebGL">Glossary</a></span></span></span> and Android files.</li>
</ul>
<!-- area:core -->
<div id="_content"></div>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="NativePlugins.html"></a></span><div class="tip">Native plug-ins</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="NativePluginInterface.html"></a></span><div class="tip">Low-level native plug-in interface</div>
</div>
</div>
</div>
<div class="footer-wrapper"><div class="footer clear">
<div class="copy">Copyright © 2024 Unity Technologies. Publication Date: 2024-10-03.</div>
<div class="menu">
<a href="https://learn.unity.com/">Tutorials</a><a href="https://answers.unity3d.com">Community Answers</a><a href="https://support.unity3d.com/hc/en-us">Knowledge Base</a><a href="https://forum.unity3d.com">Forums</a><a href="https://unity3d.com/asset-store">Asset Store</a><a href="https://docs.unity3d.com/Manual/TermsOfUse.html">Terms of use</a><a href="https://unity.com/legal">Legal</a><a href="https://unity.com/legal/privacy-policy">Privacy Policy</a><a href="https://unity.com/legal/cookie-policy">Cookies</a><a href="https://unity.com/legal/do-not-sell-my-personal-information">Do Not Sell or Share My Personal Information</a><div id="ot-sdk-btn-container"><a id="ot-sdk-btn" class="ot-sdk-show-settings" href="javascript:void(0);">Your Privacy Choices (Cookie Settings)</a></div>
</div>
</div></div>
</div></div></div>
</div>
</body>
</html>
