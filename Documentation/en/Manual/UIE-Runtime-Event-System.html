<!DOCTYPE html><html lang="en" class="no-js">
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<script type="text/javascript" src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" charset="UTF-8" data-domain-script="6e91be4c-3145-4ea2-aa64-89d716064836" data-dLayer-ignore="true" data-document-language="true"></script><script type="text/javascript">function OptanonWrapper() {}</script><script>window.dataLayer = window.dataLayer || []; dataLayer.push({ event: 'dataLayer-initialized', user: { user_unity_id: undefined, user_logged_in: 'no' }, environment: { environment_locale: 'en-us', environment_currency: undefined }});</script><script>var offline=(location.href.indexOf('docs.unity3d.com')==-1)?true:false;if(!offline){(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=   'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);  })(window,document,'script','dataLayer','GTM-5V25JL6');}</script><link href="https://fonts.googleapis.com/css?family=Roboto&amp;display=swap" rel="stylesheet">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Unity - Manual: Runtime UI event system</title>
<meta property="og:image" content="https://unity3d.com/files/images/ogimg.jpg">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="https://unity.com/themes/contrib/unity_base/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFilesManual/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFilesManual/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFilesManual/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFilesManual/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFilesManual/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFilesManual/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFilesManual/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFilesManual/images/favicons/tileicon-144x144.png">
<script type="text/javascript" src="/StaticFilesConfig/UnityVersionsInfo.js"></script><script type="text/javascript" src="../StaticFilesManual/js/jquery.js?ts=20241003"></script><script type="text/javascript" src="../StaticFilesManual/js/core.js?ts=20241003"></script><script type="text/javascript" src="docdata/toc.js?ts=20241003"></script><script type="text/javascript" src="docdata/global_toc.js?ts=20241003"></script><link rel="stylesheet" type="text/css" href="../StaticFilesManual/css/core.css?ts=20241003">
<link rel="stylesheet" href="../StaticFilesManual/css/prism.css">
<script src="../StaticFilesManual/js/prism.js"></script><script src="/StaticFilesConfig/feedback/feedback.js"></script><script src="../StaticFilesManual/js/jquery.sidebar.min.js"></script><link rel="stylesheet" href="../StaticFilesManual/css/mobileoptimisation.css">
<script src="../StaticFilesManual/js/mobileoptimisation.js"></script>
</head>
<body>
<div id="DocsAnalyticsData" data-area="none" data-pagetype="manual"></div>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div id="nav-open" for="nav-input"><span></span></div>
<div class="logo"><a href="https://docs.unity3d.com"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul>
<li><a href="../Manual/index.html" class="selected">Manual</a></li>
<li><a href="../ScriptReference/index.html">Scripting API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity.com/">unity.com</a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="toggle version-number" id="VersionNumber" data-target=".otherversionscontent">
                                Version: <b>2022.3</b><div class="otherversionscontent" id="OtherVersionsContent" style="display: none;">
<ul id="OtherVersionsContentUl"></ul>
<div id="otherVersionsLegend"><ul>
<li>
<div id="supportedColour" class="legendBox"></div>Supported</li>
<li>
<div id="notFoundColour" class="legendBox"></div>Legacy</li>
</ul></div>
</div>
<div id="VersionSwitcherArrow" class="arrow versionSwitcherArrow"></div>
</div>
<div class="lang-switcher"><div class="current toggle" data-target=".lang-list">
<div class="lbl">Language
:                <span class="b">English</span>
</div>
<div class="arrow"></div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/UIE-Runtime-Event-System.html">English</a></li>
<li><a href="/cn/current/Manual/UIE-Runtime-Event-System.html">中文</a></li>
<li><a href="/ja/current/Manual/UIE-Runtime-Event-System.html">日本語</a></li>
<li><a href="/kr/current/Manual/UIE-Runtime-Event-System.html">한국어</a></li>
</ul></div>
</div></div>
</div></div>
<div class="mobileLogo"><a href="https://docs.unity3d.com"></a></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc" id="customScrollbar">
<h2>Unity Manual</h2>
<div class="search-form sidebar-search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" id="mobileSearchBtn" class="submit" value="Search">
</form></div>
<div class="toggle version-number sidebar-version-switcher" id="VersionNumber" data-target=".otherversionscontent"><form id="otherVersionsContentMobileForm"><div class="ui-field-contain">
<label for="select-native-4">Version: 2022.3</label><select name="select-native-4" id="versionsSelectMobile"><option>Select a different version</option>
<optgroup id="versionsWithThisPageMobile" label="Versions with this page"></optgroup>
<optgroup id="versionsWithoutThisPageMobile" label="Versions without this page"></optgroup></select>
</div></form></div>
<div class="lang-switcher"><div class="current toggle" data-target=".lang-list">
<div class="lbl">Language
:                <span class="b">English</span>
</div>
<div class="arrow"></div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/UIE-Runtime-Event-System.html">English</a></li>
<li><a href="/cn/current/Manual/UIE-Runtime-Event-System.html">中文</a></li>
<li><a href="/ja/current/Manual/UIE-Runtime-Event-System.html">日本語</a></li>
<li><a href="/kr/current/Manual/UIE-Runtime-Event-System.html">한국어</a></li>
</ul></div>
</div></div>
</div></div></div></div></div>
<div id="content-wrap" class="content-wrap"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UIToolkits.html">User interface (UI)</a></li>
<li><a href="UIElements.html">UI Toolkit</a></li>
<li><a href="UIE-support-for-runtime-ui.html">Support for runtime UI</a></li>
<li>Runtime UI event system</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="UIE-Runtime-Panel-Settings.html"></a></span><div class="tip">Panel Settings properties reference</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="UIE-performance-consideration-runtime.html"></a></span><div class="tip">Performance consideration for runtime UI</div>
</div>
</div></div>
<div id="_leavefeedback"></div>
<h1>Runtime UI event system</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p>UI Toolkit uses an <span class="tooltip"><strong>event system</strong><span class="tooltiptext">A way of sending events to objects in the application based on input, be it keyboard, mouse, touch, or custom input. The Event System consists of a few components that work together to send events. <a class="tooltipMoreInfoLink" href="EventSystem.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#EventSystem">Glossary</a></span></span></span> to handle input and send events to all active panels.</p>

<p>The <span class="tooltip"><strong>UI</strong><span class="tooltiptext">(User Interface) Allows a user to interact with your application. Unity currently supports three UI systems. <a class="tooltipMoreInfoLink" href="UI-system-compare.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a class="tooltipMoreInfoLink" href="Glossary.html#UI">Glossary</a></span></span></span> Toolkit’s event system can receive events from IMGUI and the legacy <span class="tooltip"><strong>Input Manager</strong><span class="tooltiptext">Settings where you can define all the different input axes, buttons and controls for your project. <a href="class-InputManager.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#InputManager">Glossary</a></span></span></span>. Navigation events are created from axes defined in the legacy Input Manager. Other events come from the IMGUI event queue.</p>

<p>Except in specific instances, you don’t need to add a component to the <span class="tooltip"><strong>scene</strong><span class="tooltiptext">A Scene contains the environments and menus of your game. Think of each unique Scene file as a unique level. In each Scene, you place your environments, obstacles, and decorations, essentially designing and building your game in pieces. <a class="tooltipMoreInfoLink" href="CreatingScenes.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#Scene">Glossary</a></span></span></span> to use the event system.</p>

<h2>Event system with multiple Panel Settings assets</h2>

<p>If the Scene uses more than one Panel Settings asset, the event system sends pointer events to their panels according to their <strong>Sort Order</strong>. A pointer event propagates through the panels until a panel reacts to it.</p>

<p>The first panel that uses an event to affect the focused element becomes the focused panel for the event system. That panel continues to receive keyboard events until another event causes a different panel to become the focused panel.</p>

<p>
<strong>Note</strong>: Stopping an event’s propagation and giving an element focus are two separate things. For example, when you click a button, it stops the propagation and allows only the button to react to being pressed, but it doesn’t prevent the other default actions for the click, such as giving focus to the button or, in general, any focusable element that is clicked.</p>

<h2>Use uGUI with UI Toolkit</h2>

<p>You can use UI Toolkit UI Documents and uGUI components at the same time. </p>

<p>When you add your first uGUI element in the Scene, an <strong>Event System</strong> and a <strong>Standalone Input Module</strong> are automatically added to the Scene:</p>

<ul>
<li>The <a href="https://docs.unity3d.com/Packages/com.unity.ugui@1.0/manual/script-EventSystem.html"><strong>Event System</strong></a> allows uGUI objects to respond to events.</li>
<li>The <a href="https://docs.unity3d.com/Packages/com.unity.ugui@1.0/manual/script-StandaloneInputModule.html"><strong>Standalone Input Module</strong></a> dispatches events to UI Toolkit elements.</li>
</ul>

<p>The Event System reads the scene and executes events, whereas the Standalone Input Module interprets the input and requests event execution. You can replace the Standalone Input Module with other input modules. Other input modules change what input is consumed, but all events still go through the Event System to execute.</p>

<p>UI Toolkit uses the sorting order of the Panel and compares it with the sorting order of uGUI canvases and other valid raycast targets, to decide whether pointer events should be sent to a UI Toolkit element or to a uGUI object, or to something else in the scene. Similarly, UI Toolkit sets the Event System’s <code>currentSelectedGameObject</code> to make sure that when a UI Toolkit panel wants to get focus, it removes the focus from other uGUI objects, and when a uGUI object becomes selected, UI Toolkit panels automatically lose their focus.</p>

<p>To add the event system manually, select <strong>GameObject</strong> &gt; <strong>UI</strong> &gt; <strong>Event System</strong>.</p>

<h2>Use the event system and the input system with UI Toolkit</h2>

<p>When you use UI Toolkit (and uGUI) with different input systems, you need to choose different input module and event system.</p>

<p>The following table describes the required components and settings for each input system usage:</p>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;"><strong>Usage</strong></th>
	<th style="text-align:left;"><strong>Required components</strong></th>
	<th style="text-align:left;"><strong>Active Input Handling</strong></th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;"><strong>UI Toolkit elements with legacy Input Manager</strong></td>
	<td style="text-align:left;">Uses the default event system. No scene component is required.</td>
	<td style="text-align:left;">
<strong>Input Manager (Old)</strong>.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>UI Toolkit elements with Input System package</strong></td>
	<td style="text-align:left;">An <strong>Input System UI Input Module</strong> and an <strong>Event System</strong> components.</td>
	<td style="text-align:left;"><strong>Input System Package (New)</strong></td>
</tr>
<tr>
	<td style="text-align:left;"><strong>UI Toolkit elements and uGUI components with legacy Input Manager</strong></td>
	<td style="text-align:left;">A <strong>Standalone Input Module</strong> and an <strong>Event System</strong> components.</td>
	<td style="text-align:left;">
<strong>Input Manager (Old)</strong> or <strong>Both</strong>.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>UI Toolkit elements and uGUI components with Input System package</strong></td>
	<td style="text-align:left;">An <strong>Input System UI Input Module</strong> and an <strong>Event System</strong> components.</td>
	<td style="text-align:left;">
<strong>Input System Package (New)</strong> or <strong>Both</strong>
</td>
</tr>
</tbody>
</table>

<p><em>You can find the <strong>Active Input Handling</strong> setting in <strong>Edit</strong> &gt; <strong>Project Settings</strong> &gt; <strong>Player</strong> &gt; <strong>Active Input Handling</strong>.</em></p>

<h2>Use Input System package</h2>

<p>You can use UI Toolkit with the <strong>Input System</strong> package:</p>

<ol>
<li>Use the <strong>Package Manager</strong> to <a href="upm-ui-install.html">install</a> the <strong>Input System</strong> package.</li>
<li>Select <strong>Edit</strong> &gt; <strong>Project Settings</strong> &gt; <strong>Player</strong>.</li>
<li>Set <strong>Active Input Handling</strong> to <strong>Input System Package (New)</strong>.</li>
<li>Select <strong>GameObject</strong> &gt; <strong>UI</strong> &gt; <strong>Event System</strong>.
 This adds an <strong>Event System</strong> <span class="tooltip"><strong>GameObject</strong><span class="tooltiptext">The fundamental object in Unity scenes, which can represent characters, props, scenery, cameras, waypoints, and more. A GameObject’s functionality is defined by the Components attached to it. <a class="tooltipMoreInfoLink" href="class-GameObject.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a class="tooltipMoreInfoLink" href="Glossary.html#GameObject">Glossary</a></span></span></span> that includes a <strong>Standalone Input Module</strong> in the Scene. The module shows an error message along with a button in the <span class="tooltip"><strong>Inspector</strong><span class="tooltiptext">A Unity window that displays information about the currently selected GameObject, asset or project settings, allowing you to inspect and edit the values. <a href="UsingTheInspector.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#Inspector">Glossary</a></span></span></span> window.</li>
<li>Select <strong>Replace with InputSystemUIInputModule</strong> to replace the <strong>Standalone Input Module</strong> with the <strong>Input System UI Input Module</strong>. The <a href="https://docs.unity3d.com/Packages/com.unity.inputsystem@1.4/manual/UISupport.html"><strong>Input System UI Input Module</strong></a> and its accompanying <strong>Event System</strong> allows the events of both UI Toolkit and uGUI elements to be dispatched correctly.</li>
</ol>

<h2>Additional resources</h2>

<ul>
<li><a href="https://docs.unity3d.com/Packages/com.unity.inputsystem@1.4/manual/index.html">Input System</a></li>
<li><a href="com.unity.ugui.html">uGUI</a></li>
<li><a href="UIE-get-started-with-runtime-ui.html">Get started with runtime UI</a></li>
<li><a href="UIE-render-runtime-ui.html">Render UI in the Game view</a></li>
<li><a href="UIE-Runtime-Panel-Settings.html">Panel Settings properties</a></li>
<li><a href="UIE-faq-event-and-input-system.html">FAQ for input and event systems with UI Toolkit</a></li>
</ul>
<div id="_content"></div>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="UIE-Runtime-Panel-Settings.html"></a></span><div class="tip">Panel Settings properties reference</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="UIE-performance-consideration-runtime.html"></a></span><div class="tip">Performance consideration for runtime UI</div>
</div>
</div>
</div>
<div class="footer-wrapper"><div class="footer clear">
<div class="copy">Copyright © 2024 Unity Technologies. Publication Date: 2024-10-03.</div>
<div class="menu">
<a href="https://learn.unity.com/">Tutorials</a><a href="https://answers.unity3d.com">Community Answers</a><a href="https://support.unity3d.com/hc/en-us">Knowledge Base</a><a href="https://forum.unity3d.com">Forums</a><a href="https://unity3d.com/asset-store">Asset Store</a><a href="https://docs.unity3d.com/Manual/TermsOfUse.html">Terms of use</a><a href="https://unity.com/legal">Legal</a><a href="https://unity.com/legal/privacy-policy">Privacy Policy</a><a href="https://unity.com/legal/cookie-policy">Cookies</a><a href="https://unity.com/legal/do-not-sell-my-personal-information">Do Not Sell or Share My Personal Information</a><div id="ot-sdk-btn-container"><a id="ot-sdk-btn" class="ot-sdk-show-settings" href="javascript:void(0);">Your Privacy Choices (Cookie Settings)</a></div>
</div>
</div></div>
</div></div></div>
</div>
</body>
</html>
