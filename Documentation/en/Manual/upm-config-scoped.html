<!DOCTYPE html><html lang="en" class="no-js">
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<script type="text/javascript" src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" charset="UTF-8" data-domain-script="6e91be4c-3145-4ea2-aa64-89d716064836" data-dLayer-ignore="true" data-document-language="true"></script><script type="text/javascript">function OptanonWrapper() {}</script><script>window.dataLayer = window.dataLayer || []; dataLayer.push({ event: 'dataLayer-initialized', user: { user_unity_id: undefined, user_logged_in: 'no' }, environment: { environment_locale: 'en-us', environment_currency: undefined }});</script><script>var offline=(location.href.indexOf('docs.unity3d.com')==-1)?true:false;if(!offline){(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=   'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);  })(window,document,'script','dataLayer','GTM-5V25JL6');}</script><link href="https://fonts.googleapis.com/css?family=Roboto&amp;display=swap" rel="stylesheet">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Unity - Manual: Scoped registry authentication</title>
<meta property="og:image" content="https://unity3d.com/files/images/ogimg.jpg">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="https://unity.com/themes/contrib/unity_base/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFilesManual/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFilesManual/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFilesManual/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFilesManual/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFilesManual/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFilesManual/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFilesManual/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFilesManual/images/favicons/tileicon-144x144.png">
<script type="text/javascript" src="/StaticFilesConfig/UnityVersionsInfo.js"></script><script type="text/javascript" src="../StaticFilesManual/js/jquery.js?ts=20241003"></script><script type="text/javascript" src="../StaticFilesManual/js/core.js?ts=20241003"></script><script type="text/javascript" src="docdata/toc.js?ts=20241003"></script><script type="text/javascript" src="docdata/global_toc.js?ts=20241003"></script><link rel="stylesheet" type="text/css" href="../StaticFilesManual/css/core.css?ts=20241003">
<link rel="stylesheet" href="../StaticFilesManual/css/prism.css">
<script src="../StaticFilesManual/js/prism.js"></script><script src="/StaticFilesConfig/feedback/feedback.js"></script><script src="../StaticFilesManual/js/jquery.sidebar.min.js"></script><link rel="stylesheet" href="../StaticFilesManual/css/mobileoptimisation.css">
<script src="../StaticFilesManual/js/mobileoptimisation.js"></script>
</head>
<body>
<div id="DocsAnalyticsData" data-area="none" data-pagetype="manual"></div>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div id="nav-open" for="nav-input"><span></span></div>
<div class="logo"><a href="https://docs.unity3d.com"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul>
<li><a href="../Manual/index.html" class="selected">Manual</a></li>
<li><a href="../ScriptReference/index.html">Scripting API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity.com/">unity.com</a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="toggle version-number" id="VersionNumber" data-target=".otherversionscontent">
                                Version: <b>2022.3</b><div class="otherversionscontent" id="OtherVersionsContent" style="display: none;">
<ul id="OtherVersionsContentUl"></ul>
<div id="otherVersionsLegend"><ul>
<li>
<div id="supportedColour" class="legendBox"></div>Supported</li>
<li>
<div id="notFoundColour" class="legendBox"></div>Legacy</li>
</ul></div>
</div>
<div id="VersionSwitcherArrow" class="arrow versionSwitcherArrow"></div>
</div>
<div class="lang-switcher"><div class="current toggle" data-target=".lang-list">
<div class="lbl">Language
:                <span class="b">English</span>
</div>
<div class="arrow"></div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/upm-config-scoped.html">English</a></li>
<li><a href="/cn/current/Manual/upm-config-scoped.html">中文</a></li>
<li><a href="/ja/current/Manual/upm-config-scoped.html">日本語</a></li>
<li><a href="/kr/current/Manual/upm-config-scoped.html">한국어</a></li>
</ul></div>
</div></div>
</div></div>
<div class="mobileLogo"><a href="https://docs.unity3d.com"></a></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc" id="customScrollbar">
<h2>Unity Manual</h2>
<div class="search-form sidebar-search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" id="mobileSearchBtn" class="submit" value="Search">
</form></div>
<div class="toggle version-number sidebar-version-switcher" id="VersionNumber" data-target=".otherversionscontent"><form id="otherVersionsContentMobileForm"><div class="ui-field-contain">
<label for="select-native-4">Version: 2022.3</label><select name="select-native-4" id="versionsSelectMobile"><option>Select a different version</option>
<optgroup id="versionsWithThisPageMobile" label="Versions with this page"></optgroup>
<optgroup id="versionsWithoutThisPageMobile" label="Versions without this page"></optgroup></select>
</div></form></div>
<div class="lang-switcher"><div class="current toggle" data-target=".lang-list">
<div class="lbl">Language
:                <span class="b">English</span>
</div>
<div class="arrow"></div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/upm-config-scoped.html">English</a></li>
<li><a href="/cn/current/Manual/upm-config-scoped.html">中文</a></li>
<li><a href="/ja/current/Manual/upm-config-scoped.html">日本語</a></li>
<li><a href="/kr/current/Manual/upm-config-scoped.html">한국어</a></li>
</ul></div>
</div></div>
</div></div></div></div></div>
<div id="content-wrap" class="content-wrap"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="PackagesList.html">Packages and feature sets</a></li>
<li><a href="Packages.html">Unity's Package Manager</a></li>
<li><a href="upm-config.html">Configuration</a></li>
<li>Scoped registry authentication</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="upm-config-network.html"></a></span><div class="tip">Solving network issues</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="upm-config-cache.html"></a></span><div class="tip">Customize the global cache location</div>
</div>
</div></div>
<div id="_leavefeedback"></div>
<h1>Scoped registry authentication</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p>Some organizations host their own packages on private package registries that require authentication to access. If you are an employee or customer of one of those organizations, you must configure a scoped registry with npm authentication. To set this up, <a href="#token">get an npm authentication token</a> and then <a href="#configfile">add that token to your user configuration file</a>.</p>

<p><a name="token"></a></p>

<h2>1) Fetch the npm authentication token</h2>

<p>The process of creating and accessing an npm authentication token is different for each registry provider. For example, JFrog’s <a href="https://www.jfrog.com/confluence/display/JFROG/JFrog+Artifactory">Artifactory</a> repository manager uses a different procedure to generate the authentication token from npm. This is an example of a typical procedure, but you need to follow the process recommended by the specific package registry provider for your scoped registry.</p>

<p>To fetch an authentication token from npm:</p>

<ol>
<li><p>Install <a href="https://www.npmjs.com/get-npm">npm</a> locally on your computer.</p></li>
<li>
<p>From a terminal, enter the following command to log in to the registry:</p>

<p><code>$ npm login --registry &lt;registry url&gt;</code></p>
</li>
<li><p>Locate and open the generated <a href="https://docs.npmjs.com/files/npmrc">.npmrc</a> file. </p></li>
<li>
<p>Locate either the <code>_authToken</code> or the <code>_auth</code> entry and copy its value (refer to the example below).</p>

<p>Depending on the registry, the token string can be either a globally unique identifier (GUID), a token, or a proprietary-formatted string.</p>
</li>
</ol>

<h3>Examples of .npmrc files</h3>

<p>This is an example of an <code>.npmrc</code> file containing an <code>_authToken</code> attribute:</p>

<pre><code class="lang-toml">registry=https://example.com:1234/mylocation/
//example.com:1234/mylocation/:_authToken=&lt;AUTH TOKEN&gt;
</code></pre>

<p>This is an example of an <code>.npmrc</code> file containing an<code>_auth</code> attribute:</p>

<pre><code class="lang-toml">registry=https://example.com:1234/mylocation
_auth=&lt;AUTH TOKEN&gt;
email=&lt;EMAIL&gt;
always-auth=true
</code></pre>

<p><a name="configfile"></a></p>

<h2>2) Configure authentication information</h2>

<p>Store your token information for each scoped registry that requires authentication in the <a href="upm-config.html#upmconfigUser"><code>.upmconfig.toml</code> user configuration file</a> using the <code>npmAuth</code> configuration schema. Once you save this information to the configuration file, Package Manager will provide your authentication information on every request made to each registry in the file.
After you save this information to the configuration file, Package Manager will provide your authentication information on every request made to each registry in the file.</p>

<p>Follow these instructions to add your authentication information to the user configuration file:</p>

<ol>
<li><p>Locate the <a href="upm-config.html#upmconfigUser"><code>.upmconfig.toml</code> user configuration file</a>. If the file does not already exist, create an empty text file.</p></li>
<li><p>Format your authentication information using a schema, depending on whether you are using a <a href="#bearer-example">Bearer (token-based)</a> or <a href="#configbasic">Basic (Base64-encrypted)</a> authentication mechanism.</p></li>
</ol>

<pre><code class="lang-toml">[npmAuth.&quot;&lt;REGISTRY URL&gt;&quot;]
&lt;TOKEN-PROPERTY&gt; = &quot;&lt;TOKEN-VALUE&gt;&quot;
email = &quot;&lt;EMAIL&gt;&quot;
alwaysAuth = &lt;BOOLEAN&gt;
</code></pre>

<p>The information in the following table explains how to specify the configuration file values:</p>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;"><strong>Entry:</strong></th>
	<th style="text-align:left;"><strong>Description:</strong></th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;"><span style="white-space:nowrap"><code>[npmAuth.&quot;&lt;REGISTRY-URL&gt;&quot;]</code></span></td>
	<td style="text-align:left;">Required. URL for the registry. For example, <code>[npmAuth.&quot;https://example.com:8081/mylocation&quot;]</code>.</td>
</tr>
<tr>
	<td style="text-align:left;"><span style="white-space:nowrap"><code>&lt;TOKEN-PROPERTY&gt; = &quot;&lt;TOKEN-VALUE&gt;&quot;</code></span></td>
	<td style="text-align:left;">Required. The authentication token <a href="#token">generated from the npm registry</a>. This can be a GUID, a token, or a proprietary-formatted string. For example, this can be either <code>token = &quot;&lt;AUTH TOKEN&gt;&quot;</code> (Bearer) or <code>_auth = &quot;&lt;BASE64 TOKEN&gt;&quot;</code> (Basic).</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>email</strong></td>
	<td style="text-align:left;">Optional. Email address for the user matching the user’s email on the registry.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>alwaysAuth</strong></td>
	<td style="text-align:left;">Optional. Set to true if the package metadata and tarballs are not located on the same server. Typically, you can copy the value from <a href="#token">the <code>.npmrc</code> file you generated</a>.</td>
</tr>
</tbody>
</table>

<p><a name="bearer-example"></a></p>

<h4>Example using bearer authentication</h4>

<pre><code class="lang-toml">[npmAuth.&quot;http://localhost:8081/myrepository/mylocation&quot;]
token = &quot;NpmToken.2348c7ea-6f86-3dbe-86b6-f257e86569a8&quot;
alwaysAuth = true

[npmAuth.&quot;http://localhost:4873&quot;]
token = &quot;eaJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyZWFsX2dyb3VwcyI6WyJwYXNjYWxsIl0sIm5hbWUiOiJwYXNjYWxsIiwiZ3JvdXBzIjpbIn&quot;

[npmAuth.&quot;https://api.bintray.example/npm/mycompany/myregistry&quot;]
token = &quot;aGFzY2FsbDo4ZWIwNTM5NzBjNTI3OTIwYjQ4MDVkYzY2YWEzNmQxOTkyNDYzZjky&quot;
email = &quot;username@example.com&quot;
alwaysAuth = true
</code></pre>

<p><a name="configbasic"></a></p>

<h3>Configure basic authentication information</h3>

<p>These steps use Azure DevOps as an example, but the process is similar for any platform that uses a personal access token (PAT).</p>

<p>Before you begin, install Node.js if it’s not already installed.</p>

<ol>
<li><p>Get your Azure DevOps personal access token (PAT), and have it ready for a later step. If you need to regenerate your PAT, log in to Azure DevOps (<a href="https://dev.azure.com">https://dev.azure.com</a>) and go to <strong>User settings</strong> &gt; <strong>Personal access tokens</strong>. For information about using PATs, refer to the Microsoft article, <a href="https://learn.microsoft.com/en-us/azure/devops/organizations/accounts/use-personal-access-tokens-to-authenticate">Use personal access tokens</a>.</p></li>
<li>
<p>From a command line, run the following command:</p>

<pre><code class="lang-shell">node -e &quot;require('readline').createInterface({input:process.stdin,output:process.stdout,historySize:0}).question('Enter PAT&gt; ',p =&gt; {b64=Buffer.from(p.trim()).toString('base64');console.log(b64);process.exit();})&quot;
</code></pre>
</li>
<li>
<p>At the <code>Enter PAT</code> prompt, type <code>email:PAT</code>, replacing:</p>

<ul>
<li>
<code>email</code> with the email associated with your Azure DevOps account and the email specified in the <code>.upmconfig.toml</code> file</li>
<li>
<code>PAT</code> with your PAT from the earlier step</li>
</ul>
</li>
<li><p>The command returns a Base64-encrypted string. Copy that string and assign it as the value for the <code>_auth</code> key in the <code>.upmconfig.toml</code> file.</p></li>
</ol>

<p><a name="basic-example"></a></p>

<h4>Example using basic authentication</h4>

<pre><code class="lang-toml">[npmAuth.&quot;http://localhost:8081/myrepository/mylocation&quot;]
_auth = &quot;c19kaW5pcm9AaG90bWFpbC4jb206d3FzdzVhemU9Q==&quot;
email = &quot;username@example.com&quot;
alwaysAuth = true
</code></pre>
<div id="_content"></div>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="upm-config-network.html"></a></span><div class="tip">Solving network issues</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="upm-config-cache.html"></a></span><div class="tip">Customize the global cache location</div>
</div>
</div>
</div>
<div class="footer-wrapper"><div class="footer clear">
<div class="copy">Copyright © 2024 Unity Technologies. Publication Date: 2024-10-03.</div>
<div class="menu">
<a href="https://learn.unity.com/">Tutorials</a><a href="https://answers.unity3d.com">Community Answers</a><a href="https://support.unity3d.com/hc/en-us">Knowledge Base</a><a href="https://forum.unity3d.com">Forums</a><a href="https://unity3d.com/asset-store">Asset Store</a><a href="https://docs.unity3d.com/Manual/TermsOfUse.html">Terms of use</a><a href="https://unity.com/legal">Legal</a><a href="https://unity.com/legal/privacy-policy">Privacy Policy</a><a href="https://unity.com/legal/cookie-policy">Cookies</a><a href="https://unity.com/legal/do-not-sell-my-personal-information">Do Not Sell or Share My Personal Information</a><div id="ot-sdk-btn-container"><a id="ot-sdk-btn" class="ot-sdk-show-settings" href="javascript:void(0);">Your Privacy Choices (Cookie Settings)</a></div>
</div>
</div></div>
</div></div></div>
</div>
</body>
</html>
