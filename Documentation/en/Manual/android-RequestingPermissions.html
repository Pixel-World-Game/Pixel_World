<!DOCTYPE html><html lang="en" class="no-js">
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<script type="text/javascript" src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" charset="UTF-8" data-domain-script="6e91be4c-3145-4ea2-aa64-89d716064836" data-dLayer-ignore="true" data-document-language="true"></script><script type="text/javascript">function OptanonWrapper() {}</script><script>window.dataLayer = window.dataLayer || []; dataLayer.push({ event: 'dataLayer-initialized', user: { user_unity_id: undefined, user_logged_in: 'no' }, environment: { environment_locale: 'en-us', environment_currency: undefined }});</script><script>var offline=(location.href.indexOf('docs.unity3d.com')==-1)?true:false;if(!offline){(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=   'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);  })(window,document,'script','dataLayer','GTM-5V25JL6');}</script><link href="https://fonts.googleapis.com/css?family=Roboto&amp;display=swap" rel="stylesheet">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Unity - Manual: Request runtime permissions</title>
<meta property="og:image" content="https://unity3d.com/files/images/ogimg.jpg">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="https://unity.com/themes/contrib/unity_base/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFilesManual/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFilesManual/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFilesManual/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFilesManual/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFilesManual/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFilesManual/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFilesManual/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFilesManual/images/favicons/tileicon-144x144.png">
<script type="text/javascript" src="/StaticFilesConfig/UnityVersionsInfo.js"></script><script type="text/javascript" src="../StaticFilesManual/js/jquery.js?ts=20241003"></script><script type="text/javascript" src="../StaticFilesManual/js/core.js?ts=20241003"></script><script type="text/javascript" src="docdata/toc.js?ts=20241003"></script><script type="text/javascript" src="docdata/global_toc.js?ts=20241003"></script><link rel="stylesheet" type="text/css" href="../StaticFilesManual/css/core.css?ts=20241003">
<link rel="stylesheet" href="../StaticFilesManual/css/prism.css">
<script src="../StaticFilesManual/js/prism.js"></script><script src="/StaticFilesConfig/feedback/feedback.js"></script><script src="../StaticFilesManual/js/jquery.sidebar.min.js"></script><link rel="stylesheet" href="../StaticFilesManual/css/mobileoptimisation.css">
<script src="../StaticFilesManual/js/mobileoptimisation.js"></script>
</head>
<body>
<div id="DocsAnalyticsData" data-area="none" data-pagetype="manual"></div>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div id="nav-open" for="nav-input"><span></span></div>
<div class="logo"><a href="https://docs.unity3d.com"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul>
<li><a href="../Manual/index.html" class="selected">Manual</a></li>
<li><a href="../ScriptReference/index.html">Scripting API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity.com/">unity.com</a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="toggle version-number" id="VersionNumber" data-target=".otherversionscontent">
                                Version: <b>2022.3</b><div class="otherversionscontent" id="OtherVersionsContent" style="display: none;">
<ul id="OtherVersionsContentUl"></ul>
<div id="otherVersionsLegend"><ul>
<li>
<div id="supportedColour" class="legendBox"></div>Supported</li>
<li>
<div id="notFoundColour" class="legendBox"></div>Legacy</li>
</ul></div>
</div>
<div id="VersionSwitcherArrow" class="arrow versionSwitcherArrow"></div>
</div>
<div class="lang-switcher"><div class="current toggle" data-target=".lang-list">
<div class="lbl">Language
:                <span class="b">English</span>
</div>
<div class="arrow"></div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/android-RequestingPermissions.html">English</a></li>
<li><a href="/cn/current/Manual/android-RequestingPermissions.html">中文</a></li>
<li><a href="/ja/current/Manual/android-RequestingPermissions.html">日本語</a></li>
<li><a href="/kr/current/Manual/android-RequestingPermissions.html">한국어</a></li>
</ul></div>
</div></div>
</div></div>
<div class="mobileLogo"><a href="https://docs.unity3d.com"></a></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc" id="customScrollbar">
<h2>Unity Manual</h2>
<div class="search-form sidebar-search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" id="mobileSearchBtn" class="submit" value="Search">
</form></div>
<div class="toggle version-number sidebar-version-switcher" id="VersionNumber" data-target=".otherversionscontent"><form id="otherVersionsContentMobileForm"><div class="ui-field-contain">
<label for="select-native-4">Version: 2022.3</label><select name="select-native-4" id="versionsSelectMobile"><option>Select a different version</option>
<optgroup id="versionsWithThisPageMobile" label="Versions with this page"></optgroup>
<optgroup id="versionsWithoutThisPageMobile" label="Versions without this page"></optgroup></select>
</div></form></div>
<div class="lang-switcher"><div class="current toggle" data-target=".lang-list">
<div class="lbl">Language
:                <span class="b">English</span>
</div>
<div class="arrow"></div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/android-RequestingPermissions.html">English</a></li>
<li><a href="/cn/current/Manual/android-RequestingPermissions.html">中文</a></li>
<li><a href="/ja/current/Manual/android-RequestingPermissions.html">日本語</a></li>
<li><a href="/kr/current/Manual/android-RequestingPermissions.html">한국어</a></li>
</ul></div>
</div></div>
</div></div></div></div></div>
<div id="content-wrap" class="content-wrap"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="PlatformSpecific.html">Platform development  </a></li>
<li><a href="android.html">Android</a></li>
<li><a href="android-developing.html">Developing for Android</a></li>
<li><a href="android-device-features-and-permissions.html">Device features and permissions</a></li>
<li>Request runtime permissions</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="android-permissions-declare.html"></a></span><div class="tip">Declare permissions for an application</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="android-handle-crashes.html"></a></span><div class="tip">Handle Android crashes</div>
</div>
</div></div>
<div id="_leavefeedback"></div>
<h1>Request runtime permissions</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p>This page explains how to request the user’s permission for your application to access data on the device or use a device feature such as a built-in <span class="no tooltip"> camera </span> or microphone.</p>

<p>Google’s guideline for requesting permissions recommends that, if the user denies a permission request once, you should display the reason for the request and present the request again.</p>

<p>For more information on when and how to request permissions on an Android device, refer to <a href="https://developer.android.com/training/permissions/usage-notes">App permissions best practices</a> in the Android developer guide.</p>

<h2>Prerequisites</h2>

<p>The runtime permissions API requires Android version 6 (API level 23). To change your application’s target API:</p>

<ol>
<li>Select <strong>Edit</strong> &gt; <strong>Project Settings</strong>.</li>
<li>In the Project settings window, select the <strong>Player</strong> tab, then open <a href="class-PlayerSettingsAndroid.html">Android Player Settings</a>:<br><img src="../uploads/Main/android-player-settings-tab.png" alt="">
</li>
<li>In the <strong>Other Settings</strong> &gt; <strong>Identification</strong> section, set <strong>Target API Level</strong> to at least level 23.</li>
</ol>

<p>Before the application requests permission to use restricted data or a particular device feature, it must declare the permission in its <a href="android-manifest.html">Android App Manifest</a>. For more information, refer to <a href="android-permissions-declare.html">Declare permissions for an application</a>.</p>

<h2>Request permission at runtime</h2>

<p>The <a href="../ScriptReference/Android.Permission.html">Android.Permission</a> API provides functionality that you can use to check what permissions the application currently has and request permissions that the application requires but doesn’t have.</p>

<p>An overview of the process to request permission at runtime is as follows:</p>

<ol>
<li>Check whether the user has already granted the application permission. If they have, you don’t need to request it again.</li>
<li>If the user hasn’t granted permission, send a request for permission to access the data or use the device feature that the application requires.</li>
<li>If the user denies the application permission, disable the application’s functionality that requires the specific permission. If the application can’t work without this functionality, inform the user.</li>
<li>If the user still denies the application permission, it’s best practice to provide a method that lets the user manually trigger the permission request again from inside the application.</li>
</ol>

<h3>Check if the application has permission</h3>

<p>Use <a href="../ScriptReference/Android.Permission.HasUserAuthorizedPermission.html">Permission.HasUserAuthorizedPermission</a> to check if the user has already granted permission for the data or feature the application requires.</p>

<p>For a code example that shows how to use this API, refer to <a href="../ScriptReference/Android.Permission.HasUserAuthorizedPermission.html">Permission.HasUserAuthorizedPermission</a>.</p>

<h3>Send a request for permission</h3>

<p>Use <a href="../ScriptReference/Android.Permission.RequestUserPermission.html">Permission.RequestUserPermission</a> to request the permission to use the data or feature. When you call this method, Android opens the system permission dialog that the user can use to grant or deny the permission.</p>

<p>For a code example that shows how to use this API, refer to <a href="../ScriptReference/Android.Permission.RequestUserPermission.html">Permission.RequestUserPermission</a>.</p>

<p>Use <a href="../ScriptReference/Android.Permission.RequestUserPermissions.html">Permission.RequestUserPermissions</a> to request permissions to access multiple resources on the user’s device at once. This method uses an array of strings with each string representing a specific permission to access a particular resource such as the device’s <span class="no tooltip"> camera </span>, microphone, or location.</p>

<p>These methods can accept a <a href="../ScriptReference/Android.PermissionCallbacks.html">PermissionCallbacks object</a> that you can use to specify code to run after the user grants or denies the permission. You can use this to start using a device feature as soon as the user grants the permission request. For example, you can start recording from the microphone.</p>

<p>
<strong>Tip</strong>: When you request permission, it’s best practice to show the user a message that explains why the application requires the feature.</p>

<p>
<strong>Note</strong>: If the user has enabled the <strong>Do not ask me again</strong> option on the system permission dialog, or has denied the permission more than once, <code>RequestUserPermission()</code> doesn’t open the system dialog. In this case, the user must go into the application permission settings and manually enable the permission.</p>

<h3>Provide a way to manually trigger the permission request</h3>

<p>If the user denies the permission that the application requires, provide a way for the user to manually display the permission request dialog. How to do this depends on the application, but one solution is to provide a button that calls <a href="../ScriptReference/Android.Permission.RequestUserPermission.html">Permission.RequestUserPermission</a>.</p>
<div id="_content"></div>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="android-permissions-declare.html"></a></span><div class="tip">Declare permissions for an application</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="android-handle-crashes.html"></a></span><div class="tip">Handle Android crashes</div>
</div>
</div>
</div>
<div class="footer-wrapper"><div class="footer clear">
<div class="copy">Copyright © 2024 Unity Technologies. Publication Date: 2024-10-03.</div>
<div class="menu">
<a href="https://learn.unity.com/">Tutorials</a><a href="https://answers.unity3d.com">Community Answers</a><a href="https://support.unity3d.com/hc/en-us">Knowledge Base</a><a href="https://forum.unity3d.com">Forums</a><a href="https://unity3d.com/asset-store">Asset Store</a><a href="https://docs.unity3d.com/Manual/TermsOfUse.html">Terms of use</a><a href="https://unity.com/legal">Legal</a><a href="https://unity.com/legal/privacy-policy">Privacy Policy</a><a href="https://unity.com/legal/cookie-policy">Cookies</a><a href="https://unity.com/legal/do-not-sell-my-personal-information">Do Not Sell or Share My Personal Information</a><div id="ot-sdk-btn-container"><a id="ot-sdk-btn" class="ot-sdk-show-settings" href="javascript:void(0);">Your Privacy Choices (Cookie Settings)</a></div>
</div>
</div></div>
</div></div></div>
</div>
</body>
</html>
