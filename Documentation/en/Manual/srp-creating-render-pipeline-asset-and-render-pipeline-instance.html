<!DOCTYPE html><html lang="en" class="no-js">
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<script type="text/javascript" src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" charset="UTF-8" data-domain-script="6e91be4c-3145-4ea2-aa64-89d716064836" data-dLayer-ignore="true" data-document-language="true"></script><script type="text/javascript">function OptanonWrapper() {}</script><script>window.dataLayer = window.dataLayer || []; dataLayer.push({ event: 'dataLayer-initialized', user: { user_unity_id: undefined, user_logged_in: 'no' }, environment: { environment_locale: 'en-us', environment_currency: undefined }});</script><script>var offline=(location.href.indexOf('docs.unity3d.com')==-1)?true:false;if(!offline){(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=   'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);  })(window,document,'script','dataLayer','GTM-5V25JL6');}</script><link href="https://fonts.googleapis.com/css?family=Roboto&amp;display=swap" rel="stylesheet">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Unity - Manual: Creating a Render Pipeline Asset and Render Pipeline Instance in a custom render pipeline</title>
<meta property="og:image" content="https://unity3d.com/files/images/ogimg.jpg">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="https://unity.com/themes/contrib/unity_base/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFilesManual/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFilesManual/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFilesManual/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFilesManual/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFilesManual/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFilesManual/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFilesManual/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFilesManual/images/favicons/tileicon-144x144.png">
<script type="text/javascript" src="/StaticFilesConfig/UnityVersionsInfo.js"></script><script type="text/javascript" src="../StaticFilesManual/js/jquery.js?ts=20241003"></script><script type="text/javascript" src="../StaticFilesManual/js/core.js?ts=20241003"></script><script type="text/javascript" src="docdata/toc.js?ts=20241003"></script><script type="text/javascript" src="docdata/global_toc.js?ts=20241003"></script><link rel="stylesheet" type="text/css" href="../StaticFilesManual/css/core.css?ts=20241003">
<link rel="stylesheet" href="../StaticFilesManual/css/prism.css">
<script src="../StaticFilesManual/js/prism.js"></script><script src="/StaticFilesConfig/feedback/feedback.js"></script><script src="../StaticFilesManual/js/jquery.sidebar.min.js"></script><link rel="stylesheet" href="../StaticFilesManual/css/mobileoptimisation.css">
<script src="../StaticFilesManual/js/mobileoptimisation.js"></script>
</head>
<body>
<div id="DocsAnalyticsData" data-area="none" data-pagetype="manual"></div>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div id="nav-open" for="nav-input"><span></span></div>
<div class="logo"><a href="https://docs.unity3d.com"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul>
<li><a href="../Manual/index.html" class="selected">Manual</a></li>
<li><a href="../ScriptReference/index.html">Scripting API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity.com/">unity.com</a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="toggle version-number" id="VersionNumber" data-target=".otherversionscontent">
                                Version: <b>2022.3</b><div class="otherversionscontent" id="OtherVersionsContent" style="display: none;">
<ul id="OtherVersionsContentUl"></ul>
<div id="otherVersionsLegend"><ul>
<li>
<div id="supportedColour" class="legendBox"></div>Supported</li>
<li>
<div id="notFoundColour" class="legendBox"></div>Legacy</li>
</ul></div>
</div>
<div id="VersionSwitcherArrow" class="arrow versionSwitcherArrow"></div>
</div>
<div class="lang-switcher"><div class="current toggle" data-target=".lang-list">
<div class="lbl">Language
:                <span class="b">English</span>
</div>
<div class="arrow"></div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/srp-creating-render-pipeline-asset-and-render-pipeline-instance.html">English</a></li>
<li><a href="/cn/current/Manual/srp-creating-render-pipeline-asset-and-render-pipeline-instance.html">中文</a></li>
<li><a href="/ja/current/Manual/srp-creating-render-pipeline-asset-and-render-pipeline-instance.html">日本語</a></li>
<li><a href="/kr/current/Manual/srp-creating-render-pipeline-asset-and-render-pipeline-instance.html">한국어</a></li>
</ul></div>
</div></div>
</div></div>
<div class="mobileLogo"><a href="https://docs.unity3d.com"></a></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc" id="customScrollbar">
<h2>Unity Manual</h2>
<div class="search-form sidebar-search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" id="mobileSearchBtn" class="submit" value="Search">
</form></div>
<div class="toggle version-number sidebar-version-switcher" id="VersionNumber" data-target=".otherversionscontent"><form id="otherVersionsContentMobileForm"><div class="ui-field-contain">
<label for="select-native-4">Version: 2022.3</label><select name="select-native-4" id="versionsSelectMobile"><option>Select a different version</option>
<optgroup id="versionsWithThisPageMobile" label="Versions with this page"></optgroup>
<optgroup id="versionsWithoutThisPageMobile" label="Versions without this page"></optgroup></select>
</div></form></div>
<div class="lang-switcher"><div class="current toggle" data-target=".lang-list">
<div class="lbl">Language
:                <span class="b">English</span>
</div>
<div class="arrow"></div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/srp-creating-render-pipeline-asset-and-render-pipeline-instance.html">English</a></li>
<li><a href="/cn/current/Manual/srp-creating-render-pipeline-asset-and-render-pipeline-instance.html">中文</a></li>
<li><a href="/ja/current/Manual/srp-creating-render-pipeline-asset-and-render-pipeline-instance.html">日本語</a></li>
<li><a href="/kr/current/Manual/srp-creating-render-pipeline-asset-and-render-pipeline-instance.html">한국어</a></li>
</ul></div>
</div></div>
</div></div></div></div></div>
<div id="content-wrap" class="content-wrap"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="Graphics.html">Graphics</a></li>
<li><a href="render-pipelines.html">Render pipelines</a></li>
<li><a href="srp-custom.html">Creating a custom render pipeline</a></li>
<li>Creating a Render Pipeline Asset and Render Pipeline Instance in a custom render pipeline</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="srp-custom-getting-started.html"></a></span><div class="tip">Creating a custom render pipeline based on the Scriptable Render Pipeline</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="srp-creating-simple-render-loop.html"></a></span><div class="tip">Creating a simple render loop in a custom render pipeline</div>
</div>
</div></div>
<div id="_leavefeedback"></div>
<h1>Creating a Render Pipeline Asset and Render Pipeline Instance in a custom render pipeline</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p>If you are creating your own <span class="tooltip"><strong>render pipeline</strong><span class="tooltiptext">A series of operations that take the contents of a Scene, and displays them on a screen. Unity lets you choose from pre-built render pipelines, or write your own. <a class="tooltipMoreInfoLink" href="render-pipelines.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#Renderpipeline">Glossary</a></span></span></span> based on the <a href="ScriptableRenderPipeline.html">Scriptable Render Pipeline</a> (SRP), your Project must contain:</p>

<ul>
<li>A script that inherits from <a href="../ScriptReference/Rendering.RenderPipelineAsset.html">RenderPipelineAsset</a> and overrides its <code>CreatePipeline()</code> method. This script defines your Render Pipeline Asset.</li>
<li>A script that inherits from <a href="../ScriptReference/Rendering.RenderPipeline.html">RenderPipeline</a>, and overrides its <code>Render()</code> method. This script defines your Render Pipeline Instance, and is where you write your custom rendering code.</li>
<li>A Render Pipeline Asset that you have created from your <a href="../ScriptReference/Rendering.RenderPipelineAsset.html">RenderPipelineAsset</a> script. This asset acts as a factory class for your Render Pipeline Instance.</li>
</ul>

<p>Because these elements are so closely related, you should create them at the same time.</p>

<h2>Creating a basic Render Pipeline Asset and Render Pipeline Instance</h2>

<p>The following example shows how to create a script for a basic custom Render Pipeline Asset that instantiates the Render Pipeline Instance, a script that defines the Render Pipeline Instance, and the Render Pipeline Asset itself.</p>

<ol>
<li><p>Create a C# script called <em>ExampleRenderPipelineAsset.cs</em>.</p></li>
<li>
<p>Copy and paste the following code into the new script:</p>

<pre><code class="lang-csharp">using UnityEngine;
using UnityEngine.Rendering;
    
// The CreateAssetMenu attribute lets you create instances of this class in the Unity Editor.
[CreateAssetMenu(menuName = &quot;Rendering/ExampleRenderPipelineAsset&quot;)]
public class ExampleRenderPipelineAsset : RenderPipelineAsset
{
    // Unity calls this method before rendering the first frame.
    // If a setting on the Render Pipeline Asset changes, Unity destroys the current Render Pipeline Instance and calls this method again before rendering the next frame.
    protected override RenderPipeline CreatePipeline() {
        // Instantiate the Render Pipeline that this custom SRP uses for rendering.
        return new ExampleRenderPipelineInstance();
    }
}
</code></pre>
</li>
<li><p>Create a C# script called <em>ExampleRenderPipelineInstance.cs</em>.</p></li>
<li>
<p>Copy and paste the following code into the new script:</p>

<pre><code class="lang-csharp">using UnityEngine;
using UnityEngine.Rendering;
    
public class ExampleRenderPipelineInstance : RenderPipeline
{
    public ExampleRenderPipelineInstance() {
    }
    
    protected override void Render (ScriptableRenderContext context, Camera[] cameras) {
        // This is where you can write custom rendering code. Customize this method to customize your SRP.
    }
}
</code></pre>
</li>
<li><p>In the Project view, either click the add (+) button, or open the context menu and navigate to <strong>Create</strong>, and then choose <strong>Rendering</strong> &gt; <strong>Example Render Pipeline Asset</strong>. Unity creates a new Render Pipeline Asset in the Project view.</p></li>
</ol>

<h2>Creating a configurable Render Pipeline Asset and Render Pipeline Instance</h2>

<p>By default, a Render Pipeline <span class="tooltip"><strong>Asset stores</strong><span class="tooltiptext">A growing library of free and commercial assets created by Unity and members of the community. Offers a wide variety of assets, from textures, models and animations to whole project examples, tutorials and Editor extensions. <a class="tooltipMoreInfoLink" href="AssetStore.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a class="tooltipMoreInfoLink" href="Glossary.html#AssetStore">Glossary</a></span></span></span> information about which Render Pipeline Instance to use for rendering, and the default Materials and <span class="tooltip"><strong>Shaders</strong><span class="tooltiptext">A program that runs on the GPU. <a href="Shaders.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#Shader">Glossary</a></span></span></span> to use in the Editor. In your <code>RenderPipelineAsset</code> script, you can extend your Render Pipeline Asset so that it stores additional data, and you can have multiple different Render Pipeline Assets with different configurations in your Project. For example, you might use a Render Pipeline Asset to hold configuration data for each different tier of hardware. The High Definition Render Pipeline (HDRP) and the Universal Render Pipeline (URP) include examples of this.</p>

<p>The following example shows how to create a <code>RenderPipelineAsset</code> script that defines a Render Pipeline Asset with public data that you can set for each instance using the <span class="tooltip"><strong>Inspector</strong><span class="tooltiptext">A Unity window that displays information about the currently selected GameObject, asset or project settings, allowing you to inspect and edit the values. <a class="tooltipMoreInfoLink" href="UsingTheInspector.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#Inspector">Glossary</a></span></span></span>, and a Render Pipeline Instance that receives a Render Pipeline Asset in its constructor and uses data from that Render Pipeline Asset.</p>

<ol>
<li><p>Create a C# script called <em>ExampleRenderPipelineAsset.cs</em>.</p></li>
<li>
<p>Copy and paste the following code into the new script:</p>

<pre><code class="lang-csharp">using UnityEngine;
using UnityEngine.Rendering;
    
// The CreateAssetMenu attribute lets you create instances of this class in the Unity Editor.
[CreateAssetMenu(menuName = &quot;Rendering/ExampleRenderPipelineAsset&quot;)]
public class ExampleRenderPipelineAsset : RenderPipelineAsset
{
    // This data can be defined in the Inspector for each Render Pipeline Asset
    public Color exampleColor;
    public string exampleString;
    
        // Unity calls this method before rendering the first frame.
       // If a setting on the Render Pipeline Asset changes, Unity destroys the current Render Pipeline Instance and calls this method again before rendering the next frame.
    protected override RenderPipeline CreatePipeline() {
        // Instantiate the Render Pipeline that this custom SRP uses for rendering, and pass a reference to this Render Pipeline Asset.
        // The Render Pipeline Instance can then access the configuration data defined above.
        return new ExampleRenderPipelineInstance(this);
    }
}
</code></pre>
</li>
<li><p>Create a C# script called <em>ExampleRenderPipelineInstance.cs</em>.</p></li>
<li>
<p>Copy and paste the following code into the new script:</p>

<pre><code class="lang-csharp">using UnityEngine;
using UnityEngine.Rendering;
    
public class ExampleRenderPipelineInstance : RenderPipeline
{
    // Use this variable to a reference to the Render Pipeline Asset that was passed to the constructor
    private ExampleRenderPipelineAsset renderPipelineAsset;
    
    // The constructor has an instance of the ExampleRenderPipelineAsset class as its parameter.
    public ExampleRenderPipelineInstance(ExampleRenderPipelineAsset asset) {
        renderPipelineAsset = asset;
    }
    
    protected override void Render(ScriptableRenderContext context, Camera[] cameras) {
        // This is an example of using the data from the Render Pipeline Asset.
        Debug.Log(renderPipelineAsset.exampleString);
            
        // This is where you can write custom rendering code. Customize this method to customize your SRP.
    }
}

</code></pre>
</li>
<li><p>In the Project view, either click the add (+) button, or open the context menu and navigate to <strong>Create</strong>, and then choose <strong>Rendering</strong> &gt; <strong>Example Render Pipeline Asset</strong>. Unity creates a new Render Pipeline Asset in the Project view.</p></li>
</ol>
<div id="_content"></div>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="srp-custom-getting-started.html"></a></span><div class="tip">Creating a custom render pipeline based on the Scriptable Render Pipeline</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="srp-creating-simple-render-loop.html"></a></span><div class="tip">Creating a simple render loop in a custom render pipeline</div>
</div>
</div>
</div>
<div class="footer-wrapper"><div class="footer clear">
<div class="copy">Copyright © 2024 Unity Technologies. Publication Date: 2024-10-03.</div>
<div class="menu">
<a href="https://learn.unity.com/">Tutorials</a><a href="https://answers.unity3d.com">Community Answers</a><a href="https://support.unity3d.com/hc/en-us">Knowledge Base</a><a href="https://forum.unity3d.com">Forums</a><a href="https://unity3d.com/asset-store">Asset Store</a><a href="https://docs.unity3d.com/Manual/TermsOfUse.html">Terms of use</a><a href="https://unity.com/legal">Legal</a><a href="https://unity.com/legal/privacy-policy">Privacy Policy</a><a href="https://unity.com/legal/cookie-policy">Cookies</a><a href="https://unity.com/legal/do-not-sell-my-personal-information">Do Not Sell or Share My Personal Information</a><div id="ot-sdk-btn-container"><a id="ot-sdk-btn" class="ot-sdk-show-settings" href="javascript:void(0);">Your Privacy Choices (Cookie Settings)</a></div>
</div>
</div></div>
</div></div></div>
</div>
</body>
</html>
