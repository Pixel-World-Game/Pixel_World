<!DOCTYPE html><html lang="en" class="no-js">
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<script type="text/javascript" src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" charset="UTF-8" data-domain-script="6e91be4c-3145-4ea2-aa64-89d716064836" data-dLayer-ignore="true" data-document-language="true"></script><script type="text/javascript">function OptanonWrapper() {}</script><script>window.dataLayer = window.dataLayer || []; dataLayer.push({ event: 'dataLayer-initialized', user: { user_unity_id: undefined, user_logged_in: 'no' }, environment: { environment_locale: 'en-us', environment_currency: undefined }});</script><script>var offline=(location.href.indexOf('docs.unity3d.com')==-1)?true:false;if(!offline){(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=   'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);  })(window,document,'script','dataLayer','GTM-5V25JL6');}</script><link href="https://fonts.googleapis.com/css?family=Roboto&amp;display=swap" rel="stylesheet">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Unity - Manual: Create a simple transition with UI Builder and C# scripts</title>
<meta property="og:image" content="https://unity3d.com/files/images/ogimg.jpg">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="https://unity.com/themes/contrib/unity_base/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFilesManual/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFilesManual/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFilesManual/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFilesManual/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFilesManual/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFilesManual/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFilesManual/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFilesManual/images/favicons/tileicon-144x144.png">
<script type="text/javascript" src="/StaticFilesConfig/UnityVersionsInfo.js"></script><script type="text/javascript" src="../StaticFilesManual/js/jquery.js?ts=20241003"></script><script type="text/javascript" src="../StaticFilesManual/js/core.js?ts=20241003"></script><script type="text/javascript" src="docdata/toc.js?ts=20241003"></script><script type="text/javascript" src="docdata/global_toc.js?ts=20241003"></script><link rel="stylesheet" type="text/css" href="../StaticFilesManual/css/core.css?ts=20241003">
<link rel="stylesheet" href="../StaticFilesManual/css/prism.css">
<script src="../StaticFilesManual/js/prism.js"></script><script src="/StaticFilesConfig/feedback/feedback.js"></script><script src="../StaticFilesManual/js/jquery.sidebar.min.js"></script><link rel="stylesheet" href="../StaticFilesManual/css/mobileoptimisation.css">
<script src="../StaticFilesManual/js/mobileoptimisation.js"></script>
</head>
<body>
<div id="DocsAnalyticsData" data-area="none" data-pagetype="manual"></div>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div id="nav-open" for="nav-input"><span></span></div>
<div class="logo"><a href="https://docs.unity3d.com"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul>
<li><a href="../Manual/index.html" class="selected">Manual</a></li>
<li><a href="../ScriptReference/index.html">Scripting API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity.com/">unity.com</a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="toggle version-number" id="VersionNumber" data-target=".otherversionscontent">
                                Version: <b>2022.3</b><div class="otherversionscontent" id="OtherVersionsContent" style="display: none;">
<ul id="OtherVersionsContentUl"></ul>
<div id="otherVersionsLegend"><ul>
<li>
<div id="supportedColour" class="legendBox"></div>Supported</li>
<li>
<div id="notFoundColour" class="legendBox"></div>Legacy</li>
</ul></div>
</div>
<div id="VersionSwitcherArrow" class="arrow versionSwitcherArrow"></div>
</div>
<div class="lang-switcher"><div class="current toggle" data-target=".lang-list">
<div class="lbl">Language
:                <span class="b">English</span>
</div>
<div class="arrow"></div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/UIE-transition-example.html">English</a></li>
<li><a href="/cn/current/Manual/UIE-transition-example.html">中文</a></li>
<li><a href="/ja/current/Manual/UIE-transition-example.html">日本語</a></li>
<li><a href="/kr/current/Manual/UIE-transition-example.html">한국어</a></li>
</ul></div>
</div></div>
</div></div>
<div class="mobileLogo"><a href="https://docs.unity3d.com"></a></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc" id="customScrollbar">
<h2>Unity Manual</h2>
<div class="search-form sidebar-search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" id="mobileSearchBtn" class="submit" value="Search">
</form></div>
<div class="toggle version-number sidebar-version-switcher" id="VersionNumber" data-target=".otherversionscontent"><form id="otherVersionsContentMobileForm"><div class="ui-field-contain">
<label for="select-native-4">Version: 2022.3</label><select name="select-native-4" id="versionsSelectMobile"><option>Select a different version</option>
<optgroup id="versionsWithThisPageMobile" label="Versions with this page"></optgroup>
<optgroup id="versionsWithoutThisPageMobile" label="Versions without this page"></optgroup></select>
</div></form></div>
<div class="lang-switcher"><div class="current toggle" data-target=".lang-list">
<div class="lbl">Language
:                <span class="b">English</span>
</div>
<div class="arrow"></div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/UIE-transition-example.html">English</a></li>
<li><a href="/cn/current/Manual/UIE-transition-example.html">中文</a></li>
<li><a href="/ja/current/Manual/UIE-transition-example.html">日本語</a></li>
<li><a href="/kr/current/Manual/UIE-transition-example.html">한국어</a></li>
</ul></div>
</div></div>
</div></div></div></div></div>
<div id="content-wrap" class="content-wrap"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UIToolkits.html">User interface (UI)</a></li>
<li><a href="UIElements.html">UI Toolkit</a></li>
<li><a href="UIE-Events.html">Control behavior with events</a></li>
<li><a href="UIE-event-examples.html">Event examples</a></li>
<li>Create a simple transition with UI Builder and C# scripts</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="UIE-event-examples.html"></a></span><div class="tip">Event examples</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="UIE-create-drag-and-drop-ui.html"></a></span><div class="tip">Create a drag-and-drop UI inside a custom Editor window</div>
</div>
</div></div>
<div id="_leavefeedback"></div>
<h1>Create a simple transition with UI Builder and C# scripts</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p>Version: 2021.3+</p>

<p>This example demonstrates how to create simple transitions that are triggered by pseudo-classes and C# events.</p>

<h2>Example overview</h2>

<p>The example creates a custom Editor window with three labels that rotate and scale when you hover over them. The transition lasts for three seconds.</p>

<figure>
<img src="../uploads/Main/transition-example.gif" alt="">
</figure>

<p>You can find the completed files that this example creates in this <a href="https://github.com/Unity-Technologies/ui-toolkit-manual-code-examples/tree/master/create-a-transition">GitHub repository</a>.</p>

<h2>Prerequisites</h2>

<p>This guide is for developers familiar with the Unity Editor, <span class="tooltip"><strong>UI</strong><span class="tooltiptext">(User Interface) Allows a user to interact with your application. Unity currently supports three UI systems. <a class="tooltipMoreInfoLink" href="UI-system-compare.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#UI">Glossary</a></span></span></span> Toolkit, and C# scripting. Before you start, get familiar with the following:</p>

<ul>
<li><a href="UIBuilder.html">UI Builder</a></li>
<li><a href="UIE-USS.html">USS</a></li>
<li><a href="UIE-USS-Selectors-Pseudo-Classes.html">Pseudo-classes</a></li>
<li><a href="UIE-Events-Handling.html">Handle events</a></li>
</ul>

<h2>Create the Editor window files</h2>

<p>Use the menu to create the Editor window files with three default labels.</p>

<ol>
<li><p>Create a Unity project with any template.</p></li>
<li><p>Create a folder named <code>create-a-transition</code> to store the files for this example.</p></li>
<li><p>In that folder, right-click in the Project window and select <strong>Create</strong> &gt; <strong>UI Toolkit</strong> &gt; <strong>Editor Window</strong>.</p></li>
<li>
<p>In the <strong>C#</strong> box, enter <code>TransitionExample</code>. This creates the following files:</p>

<ul>
<li><code>TransitionExample.cs</code></li>
<li><code>TransitionExample.uss</code></li>
<li><code>TransitionExample.uxml</code></li>
</ul>
</li>
</ol>

<h2>Create the transition with UI Builder</h2>

<p>In UI Builder, use the <strong>StyleSheets</strong> window to create a hover style for the label, which triggers the transition. Set the transition on the label rather than the hover. If you set the transition on the hover, the transition doesn’t work if the cursor leaves the label.</p>

<ol>
<li><p>Open <code>TransitionExample.uxml</code> in the UI Builder.</p></li>
<li><p>In the <strong>StyleSheets</strong> window, click <strong>Add new selector</strong> and enter <code>Label:hover</code> to add a hover style for the label.</p></li>
<li><p>Press Enter and select <strong>Label:hover</strong> in the list of USS selectors.</p></li>
<li>In the <strong>Transform</strong> section of the <span class="tooltip"><strong>Inspector</strong><span class="tooltiptext">A Unity window that displays information about the currently selected GameObject, asset or project settings, allowing you to inspect and edit the values. <a class="tooltipMoreInfoLink" href="UsingTheInspector.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#Inspector">Glossary</a></span></span></span>, do the following to scale and rotate the labels:

<ul>
<li>In the <strong>Scale</strong> row, change the <strong>X</strong> value to <code>1.1</code>.</li>
<li>In the <strong>Rotate</strong> row, enter <code>10</code>.</li>
</ul>
</li>
<li><p>In the <strong>StyleSheets</strong> window, click <strong>Add new selector</strong> and enter <code>Label</code> to add a style for the label. </p></li>
<li><p>Press Enter and select <strong>Label</strong> in the list of USS selectors.</p></li>
<li><p>In the <strong>Transition Animations</strong> section, enter <code>3</code> in the <strong>Duration</strong> row.</p></li>
<li>
<p>Save and close the UI Builder. Your <code>TransitionExample.uss</code> file looks like the following:</p>

<pre><code class="lang-css">.custom-label {
    font-size: 20px;
    -unity-font-style: bold;
    color: rgb(68, 138, 255);
}
    
Label:hover {
    scale: 1.1 1;
    rotate: 10deg;
}
    
Label {
    transition-duration: 3s;
}
</code></pre>
</li>
<li><p>In Unity, select <strong>Window</strong> &gt; <strong>UI Toolkit</strong> &gt; <strong>Transition Example</strong>.</p></li>
<li><p>Hover over the second and third labels. The labels rotate and increase in size over three seconds. </p></li>
</ol>

<h2>Create the transition with C# scripts</h2>

<p>In C#, create the same transition you did in the previous section for the first label. Use the pointer events to trigger the transition.</p>

<ol>
<li><p>Open <code>TransitionExample.cs</code> in a text editor.</p></li>
<li>
<p>Replace the contents of <code>TransitionExample.cs</code> with the following:</p>

<pre><code class="lang-cs">using UnityEditor;
using UnityEngine;
using UnityEngine.UIElements;
using System.Collections.Generic;

public class TransitionExample : EditorWindow
{
    [SerializeField]
    VisualTreeAsset m_VisualTreeAsset;

    [MenuItem(&quot;Window/UI Toolkit/TransitionExample&quot;)]
    public static void ShowExample()
    {
        TransitionExample wnd = GetWindow&lt;TransitionExample&gt;();
        wnd.titleContent = new GUIContent(&quot;Transition Example&quot;);
    }

    public void CreateGUI()
    {
        // Each editor window contains a root VisualElement object.
        VisualElement root = rootVisualElement;

        // VisualElements objects can contain other VisualElement following a tree hierarchy.
        cSharpLabel = new Label(&quot;Hello World! From C#&quot;);
        root.Add(cSharpLabel);

        // Create transition on the new Label.
        cSharpLabel.style.transitionDuration = new List&lt;TimeValue&gt;{ new TimeValue(3) };

        // Record default rotate and scale values.
        defaultRotate = cSharpLabel.resolvedStyle.rotate;
        defaultScale = cSharpLabel.resolvedStyle.scale;

        // Set up event handlers to simulate the use of the :hover pseudo-class.
        cSharpLabel.RegisterCallback&lt;PointerOverEvent&gt;(OnPointerOver);
        cSharpLabel.RegisterCallback&lt;PointerOutEvent&gt;(OnPointerOut);

        // Instantiate UXML
        VisualElement labelFromUXML = m_VisualTreeAsset.Instantiate();
        root.Add(labelFromUXML);
    }

    // The Label created with C#.
    VisualElement cSharpLabel;

    // The default rotate and scale values for the new Label.
    Rotate defaultRotate;
    Scale defaultScale;

    void OnPointerOver(PointerOverEvent evt)
    {
        SetHover(evt.currentTarget as VisualElement, true);
    }

    void OnPointerOut(PointerOutEvent evt)
    {
        SetHover(evt.currentTarget as VisualElement, false);
    }

    // When the user enters or exits the Label, set the rotate and scale.
    void SetHover(VisualElement label, bool hover)
    {
        label.style.rotate = hover ? new(Angle.Degrees(10)) : defaultRotate;
        label.style.scale = hover ? new Vector2(1.1f, 1) : defaultScale;
    }

    // Unregister all event callbacks.
    void OnDisable()
    {
        cSharpLabel.UnregisterCallback&lt;PointerOverEvent&gt;(OnPointerOver);
        cSharpLabel.UnregisterCallback&lt;PointerOutEvent&gt;(OnPointerOut);
    }
}
</code></pre>
</li>
<li><p>In Unity, select <strong>Window</strong> &gt; <strong>UI Toolkit</strong> &gt; <strong>Transition Example</strong>.</p></li>
<li><p>Hover over the first label. The label rotates and increases in size over three seconds.</p></li>
</ol>

<h2>Additional resources</h2>

<ul>
<li><a href="UIE-Transitions.html">USS transition</a></li>
</ul>
<div id="_content"></div>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="UIE-event-examples.html"></a></span><div class="tip">Event examples</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="UIE-create-drag-and-drop-ui.html"></a></span><div class="tip">Create a drag-and-drop UI inside a custom Editor window</div>
</div>
</div>
</div>
<div class="footer-wrapper"><div class="footer clear">
<div class="copy">Copyright © 2024 Unity Technologies. Publication Date: 2024-10-03.</div>
<div class="menu">
<a href="https://learn.unity.com/">Tutorials</a><a href="https://answers.unity3d.com">Community Answers</a><a href="https://support.unity3d.com/hc/en-us">Knowledge Base</a><a href="https://forum.unity3d.com">Forums</a><a href="https://unity3d.com/asset-store">Asset Store</a><a href="https://docs.unity3d.com/Manual/TermsOfUse.html">Terms of use</a><a href="https://unity.com/legal">Legal</a><a href="https://unity.com/legal/privacy-policy">Privacy Policy</a><a href="https://unity.com/legal/cookie-policy">Cookies</a><a href="https://unity.com/legal/do-not-sell-my-personal-information">Do Not Sell or Share My Personal Information</a><div id="ot-sdk-btn-container"><a id="ot-sdk-btn" class="ot-sdk-show-settings" href="javascript:void(0);">Your Privacy Choices (Cookie Settings)</a></div>
</div>
</div></div>
</div></div></div>
</div>
</body>
</html>
