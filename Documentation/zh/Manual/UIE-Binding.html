<!DOCTYPE html><html class="no-js" lang="zh-cn">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link href="https://fonts.googleapis.com/css?family=Roboto&amp;display=swap" rel="stylesheet">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="twitter:card" content="summary">
<meta property="og:title" content="SerializedObject data binding - Unity 手册">
<title>SerializedObject data binding - Unity 手册</title>
<meta property="og:image" content="https://unity3d.com/files/images/ogimg.jpg">
<meta name="description" content="Data bindings synchronize properties of non-UI object, such as a string property on a MonoBehaviour, with properties of UI objects, such as the value property of a TextField. A binding refers to the link between the property and the visual control that modifies it.">
<meta property="og:description" content="Data bindings synchronize properties of non-UI object, such as a string property on a MonoBehaviour, with properties of UI objects, such as the value property of a TextField. A binding refers to the link between the property and the visual control that modifies it.">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="https://unity.com/themes/contrib/unity_base/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFiles/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFiles/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFiles/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFiles/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFiles/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFiles/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFiles/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFiles/images/favicons/tileicon-144x144.png">
<script type="text/javascript" src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" charset="UTF-8" data-domain-script="6e91be4c-3145-4ea2-aa64-89d716064836" data-dLayer-ignore="true" data-document-language="true"></script><script type="text/javascript">function OptanonWrapper() {}</script><script>window.dataLayer = window.dataLayer || []; dataLayer.push({ event: 'dataLayer-initialized', user: { user_unity_id: undefined, user_logged_in: 'no' }, environment: { environment_locale: '', environment_currency: undefined }});</script><script>var offline=(location.href.indexOf('docs.unity3d.com')==-1)?true:false;if(!offline){(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=   'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);  })(window,document,'script','dataLayer','GTM-5V25JL6');}</script><script>
      var docs_type = 'Manual';
      var lang = 'cn';
      var page = 'UIE-Binding';
      if(!page) page = 'index';
      var version = '2022.3';
      var docs_versions = [{version: '2023.2',version_string: '2023.2',supported: true},{version: '2023.1',version_string: '2023.1',supported: false},{version: '2022.3',version_string: '2022.3',supported: true},{version: '2022.2',version_string: '2022.2',supported: false},{version: '2022.1',version_string: '2022.1',supported: false},{version: '2021.3',version_string: '2021.3',supported: true},{version: '2021.2',version_string: '2021.2',supported: false},{version: '2021.1',version_string: '2021.1',supported: false},{version: '2020.3',version_string: '2020.3',supported: false},{version: '2020.2',version_string: '2020.2',supported: false},{version: '2020.1',version_string: '2020.1',supported: false},{version: '2019.4',version_string: '2019.4',supported: false},{version: '2019.3',version_string: '2019.3',supported: false},{version: '2019.2',version_string: '2019.2',supported: false},{version: '2019.1',version_string: '2019.1',supported: false},{version: '2018.4',version_string: '2018.4',supported: false},{version: '2018.3',version_string: '2018.3',supported: false},{version: '2018.2',version_string: '2018.2',supported: false},{version: '2018.1',version_string: '2018.1',supported: false},{version: '2017.4',version_string: '2017.4',supported: false},{version: '2017.3',version_string: '2017.3',supported: false},{version: '2017.2',version_string: '2017.2',supported: false},{version: '2017.1',version_string: '2017.1',supported: false},{version: '5.6',version_string: '560',supported: false},];</script><script type="text/javascript" src="../StaticFiles/js/jquery.js"></script><script type="text/javascript" src="../StaticFiles/js/core.js"></script><script type="text/javascript" src="../StaticFiles/js/jquery.sidebar.min.js"></script><script type="text/javascript" src="docdata/toc.js"></script><script type="text/javascript" src=""></script><script type="text/javascript" src="../StaticFiles/js/custom.js"></script><script src="/StaticFilesConfig/feedback/feedback.js"></script><link rel="stylesheet" type="text/css" href="../StaticFiles/css/core.css">
<link rel="stylesheet" type="text/css" href="../StaticFiles/css/custom.css">
<link rel="canonical" href="https://docs.unity3d.com/cn/2022.3/Manual/UIE-Binding.html">
<link rel="alternate" href="https://docs.unity3d.com/en/2022.3/Manual/UIE-Binding.html" hreflang="en">
<link rel="alternate" href="https://docs.unity3d.com/cn/2022.3/Manual/UIE-Binding.html" hreflang="zh">
<link rel="alternate" href="https://docs.unity3d.com/ja/2022.3/Manual/UIE-Binding.html" hreflang="ja">
<link rel="alternate" href="https://docs.unity3d.com/kr/2022.3/Manual/UIE-Binding.html" hreflang="ko">
<link rel="alternate" href="https://docs.unity3d.com/2022.3/Documentation/Manual/UIE-Binding.html" hreflang="x-default">
</head>
<body>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div id="nav-open" for="nav-input"><span></span></div>
<div class="logo"><a href="./index.html"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="搜索手册..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul class="menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">手册</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">脚本 API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity3d.com/">
                unity3d.com
              </a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>2022.3</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;">
<ul class="versions">
<li class="supported"><a class="docs_version_url_2023.2" href="/cn/2023.2/Manual/UIE-Binding.html">2023.2</a></li>
<li class=""><a class="docs_version_url_2023.1" href="/cn/2023.1/Manual/UIE-Binding.html">2023.1</a></li>
<li class="supported"><a class="docs_version_url_2022.3" href="/cn/2022.3/Manual/UIE-Binding.html">2022.3</a></li>
<li class=""><a class="docs_version_url_2022.2" href="/cn/2022.2/Manual/UIE-Binding.html">2022.2</a></li>
<li class=""><a class="docs_version_url_2022.1" href="/cn/2022.1/Manual/UIE-Binding.html">2022.1</a></li>
<li class="supported"><a class="docs_version_url_2021.3" href="/cn/2021.3/Manual/UIE-Binding.html">2021.3</a></li>
<li class=""><a class="docs_version_url_2021.2" href="/cn/2021.2/Manual/UIE-Binding.html">2021.2</a></li>
<li class=""><a class="docs_version_url_2021.1" href="/cn/2021.1/Manual/UIE-Binding.html">2021.1</a></li>
<li class=""><a class="docs_version_url_2020.3" href="/cn/2020.3/Manual/UIE-Binding.html">2020.3</a></li>
<li class=""><a class="docs_version_url_2020.2" href="/cn/2020.2/Manual/UIE-Binding.html">2020.2</a></li>
<li class=""><a class="docs_version_url_2020.1" href="/cn/2020.1/Manual/UIE-Binding.html">2020.1</a></li>
<li class=""><a class="docs_version_url_2019.4" href="/cn/2019.4/Manual/UIE-Binding.html">2019.4</a></li>
<li class=""><a class="docs_version_url_2019.3" href="/cn/2019.3/Manual/UIE-Binding.html">2019.3</a></li>
<li class=""><a class="docs_version_url_2019.2" href="/cn/2019.2/Manual/UIE-Binding.html">2019.2</a></li>
<li class=""><a class="docs_version_url_2019.1" href="/cn/2019.1/Manual/UIE-Binding.html">2019.1</a></li>
<li class=""><a class="docs_version_url_2018.4" href="/cn/2018.4/Manual/UIE-Binding.html">2018.4</a></li>
<li class=""><a class="docs_version_url_2018.3" href="/cn/2018.3/Manual/UIE-Binding.html">2018.3</a></li>
<li class=""><a class="docs_version_url_2018.2" href="/cn/2018.2/Manual/UIE-Binding.html">2018.2</a></li>
<li class=""><a class="docs_version_url_2018.1" href="/cn/2018.1/Manual/UIE-Binding.html">2018.1</a></li>
<li class=""><a class="docs_version_url_2017.4" href="/cn/2017.4/Manual/UIE-Binding.html">2017.4</a></li>
<li class=""><a class="docs_version_url_2017.3" href="/cn/2017.3/Manual/UIE-Binding.html">2017.3</a></li>
<li class=""><a class="docs_version_url_2017.2" href="/cn/2017.2/Manual/UIE-Binding.html">2017.2</a></li>
<li class=""><a class="docs_version_url_2017.1" href="/cn/2017.1/Manual/UIE-Binding.html">2017.1</a></li>
<li class=""><a class="docs_version_url_560" href="/cn/560/Manual/UIE-Binding.html">5.6</a></li>
<div class="versionsWithThisPage" style="display:none;"><li><p>包含此页的版本：</p></li></div>
<div class="versionsWithoutThisPage" style="display:none;"><li><p>不含此页的版本：</p></li></div>
</ul>
<ul class="description">
<li>
<div class="supported-box"></div>受支持</li>
<li>
<div class="legacy-box"></div>旧版</li>
</ul>
</div>
</div>
<ul class="nav-menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">手册</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">脚本 API</a></li>
</ul>
<div class="lang-switcher">
<div class="current toggle" data-target=".lang-list">
<div class="lbl">语言:
        <span class="b">中文</span>
</div>
<div class="arrow"></div>
</div>
<div class="lang-list" style="display:none;"><ul>
<li><a data-lang="en" href="/2022.3/Documentation/Manual/UIE-Binding.html">English</a></li>
<li><a data-lang="cn" href="/cn/2022.3/Manual/UIE-Binding.html">中文</a></li>
<li><a data-lang="ja" href="/ja/2022.3/Manual/UIE-Binding.html">日本語</a></li>
<li><a data-lang="kr" href="/kr/2022.3/Manual/UIE-Binding.html">한국어</a></li>
</ul></div>
</div>
</div></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar hidden"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc">
<h2>手册</h2>
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>2022.3</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;">
<ul class="versions">
<li class="supported"><a class="docs_version_url_2023.2" href="/cn/2023.2/Manual/UIE-Binding.html">2023.2</a></li>
<li class=""><a class="docs_version_url_2023.1" href="/cn/2023.1/Manual/UIE-Binding.html">2023.1</a></li>
<li class="supported"><a class="docs_version_url_2022.3" href="/cn/2022.3/Manual/UIE-Binding.html">2022.3</a></li>
<li class=""><a class="docs_version_url_2022.2" href="/cn/2022.2/Manual/UIE-Binding.html">2022.2</a></li>
<li class=""><a class="docs_version_url_2022.1" href="/cn/2022.1/Manual/UIE-Binding.html">2022.1</a></li>
<li class="supported"><a class="docs_version_url_2021.3" href="/cn/2021.3/Manual/UIE-Binding.html">2021.3</a></li>
<li class=""><a class="docs_version_url_2021.2" href="/cn/2021.2/Manual/UIE-Binding.html">2021.2</a></li>
<li class=""><a class="docs_version_url_2021.1" href="/cn/2021.1/Manual/UIE-Binding.html">2021.1</a></li>
<li class=""><a class="docs_version_url_2020.3" href="/cn/2020.3/Manual/UIE-Binding.html">2020.3</a></li>
<li class=""><a class="docs_version_url_2020.2" href="/cn/2020.2/Manual/UIE-Binding.html">2020.2</a></li>
<li class=""><a class="docs_version_url_2020.1" href="/cn/2020.1/Manual/UIE-Binding.html">2020.1</a></li>
<li class=""><a class="docs_version_url_2019.4" href="/cn/2019.4/Manual/UIE-Binding.html">2019.4</a></li>
<li class=""><a class="docs_version_url_2019.3" href="/cn/2019.3/Manual/UIE-Binding.html">2019.3</a></li>
<li class=""><a class="docs_version_url_2019.2" href="/cn/2019.2/Manual/UIE-Binding.html">2019.2</a></li>
<li class=""><a class="docs_version_url_2019.1" href="/cn/2019.1/Manual/UIE-Binding.html">2019.1</a></li>
<li class=""><a class="docs_version_url_2018.4" href="/cn/2018.4/Manual/UIE-Binding.html">2018.4</a></li>
<li class=""><a class="docs_version_url_2018.3" href="/cn/2018.3/Manual/UIE-Binding.html">2018.3</a></li>
<li class=""><a class="docs_version_url_2018.2" href="/cn/2018.2/Manual/UIE-Binding.html">2018.2</a></li>
<li class=""><a class="docs_version_url_2018.1" href="/cn/2018.1/Manual/UIE-Binding.html">2018.1</a></li>
<li class=""><a class="docs_version_url_2017.4" href="/cn/2017.4/Manual/UIE-Binding.html">2017.4</a></li>
<li class=""><a class="docs_version_url_2017.3" href="/cn/2017.3/Manual/UIE-Binding.html">2017.3</a></li>
<li class=""><a class="docs_version_url_2017.2" href="/cn/2017.2/Manual/UIE-Binding.html">2017.2</a></li>
<li class=""><a class="docs_version_url_2017.1" href="/cn/2017.1/Manual/UIE-Binding.html">2017.1</a></li>
<li class=""><a class="docs_version_url_560" href="/cn/560/Manual/UIE-Binding.html">5.6</a></li>
<div class="versionsWithThisPage" style="display:none;"><li><p>包含此页的版本：</p></li></div>
<div class="versionsWithoutThisPage" style="display:none;"><li><p>不含此页的版本：</p></li></div>
</ul>
<ul class="description">
<li>
<div class="supported-box"></div>受支持</li>
<li>
<div class="legacy-box"></div>旧版</li>
</ul>
</div>
</div>
<div class="clear"></div>
</div></div></div></div></div>
<div id="content-wrap" class="content-wrap opened-sidebar"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UnityManual.html">Unity User Manual 2022.3 (LTS)</a></li>
<li><a href="UIToolkits.html">Create user interfaces (UI)</a></li>
<li><a href="UIElements.html">UI 工具包</a></li>
<li><a href="UIE-support-for-editor-ui.html">Support for Editor UI</a></li>
<li>SerializedObject data binding</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="UIE-HowTo-CreateCustomInspector.html"></a></span><div class="tip">Create a Custom Inspector</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="UIE-bindable-elements.html"></a></span><div class="tip">Bindable elements reference</div>
</div>
</div></div>
<h1>SerializedObject data binding</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p>Data bindings synchronize properties of non-UI object, such as a <code>string</code> property on a <a href="../ScriptReference/MonoBehaviour.html"><code>MonoBehaviour</code></a>, with properties of UI objects, such as the <code>value</code> property of a TextField. A binding refers to the link between the property and the visual control that modifies it.</p>

<p>Use data binding to synchronize values between a property and a specific visual element, so you don’t need to write <a href="UIE-Events-Handling.html">event handlers</a> when the value changes in the UI.</p>

<p><strong>Note</strong>: SerializedObject data binding only works in the Editor, not at runtime.</p>

<h2>Serialization requirements</h2>

<p>You can only bind to <a href="../ScriptReference/SerializedProperty.html">serialized properties</a>. This means you can only bind visual elements to the following objects that are compatible with the <a href="script-Serialization.html">Serialization system</a>:</p>

<ul>
<li>User-defined <a href="../ScriptReference/ScriptableObject.html"><code>ScriptableObject</code></a> classes</li>
<li>User-defined <a href="../ScriptReference/MonoBehaviour.html"><code>MonoBehaviour</code></a> classes</li>
<li>Native Unity component types</li>
<li>Native Unity asset types</li>
<li>Primitive C# types such as <code>int</code>, <code>bool</code>, <code>float</code>, and so on.</li>
<li>Native Unity types such as <code>Vector3</code>, <code>Color</code>, <code>Object</code>, and so on.</li>
</ul>

<p><a name="value-binding"></a></p>

<h2>Value binding</h2>

<p>You can only bind the <code>value</code> property of visual elements that implement the <a href="../ScriptReference/UIElements.INotifyValueChanged_1.html"><code>INotifyValueChanged</code></a> interface. For example, you can bind <a href="../ScriptReference/UIElements.TextField-value.html"><code>TextField.value</code></a> to a <code>string</code>, but you can’t bind <a href="../ScriptReference/UIElements.VisualElement-name.html"><code>TextField.name</code></a> to a <code>string</code>. </p>

<p>You can bind between an object and any visual element that either derives from <a href="../ScriptReference/UIElements.BindableElement.html"><code>BindableElement</code></a> or implements the <a href="../ScriptReference/UIElements.IBindable.html"><code>IBindable</code></a> interface.</p>

<h2>Create a binding</h2>

<p>To create a binding, either <a href="#call-bind">call <code>Bind()</code></a> or <a href="#call-bindproperty"><code>BindProperty()</code></a>.</p>

<p><a name="call-bind"></a></p>

<h3>Call <code>Bind()</code>
</h3>

<p>You can call <a href="../ScriptReference/UIElements.BindingExtensions.Bind.html"><code>Bind()</code></a> to bind an element to a <a href="../ScriptReference/SerializedObject.html">SerializedObject</a>. Before you bind an element, you must <a href="#set-binding-path">set the binding path</a> and create a SerializedObject. </p>

<p>Use this method if you don’t have easy access to the <code>SerializedProperty</code> for the binding. See <a href="UIE-create-a-binding-csharp.html">Create a binding with a C# script</a> for an example.</p>

<p>The <a href="../ScriptReference/UIElements.BindingExtensions.Bind.html"><code>Bind()</code></a> extension method sets up an entire hierarchy of visual elements with specified <a href="../ScriptReference/UIElements.IBindable-bindingPath.html"><code>bindingPath</code></a> properties. You can call the <a href="../ScriptReference/UIElements.BindingExtensions.Bind.html"><code>Bind()</code></a> method on a single element or the parent of the hierarchy that you want to bind. For example, you can call <a href="../ScriptReference/UIElements.BindingExtensions.Bind.html"><code>Bind()</code></a> on the <code>rootVisualElement</code> of an Editor window. This binds all child elements with specified <a href="../ScriptReference/UIElements.IBindable-bindingPath.html"><code>bindingPath</code></a> properties.</p>

<p>Don’t call <a href="../ScriptReference/UIElements.BindingExtensions.Bind.html"><code>Bind()</code></a> from the <code>Editor.CreateInspectorGUI()</code> or <code>PropertyDrawer.CreatePropertyGUI()</code> override. These overrides are called automatically on the visual elements that these methods return.</p>

<h3>Call <code>Unbind()</code>
</h3>

<p>The <a href="../ScriptReference/UIElements.BindingExtensions.Unbind.html"><code>Unbind()</code></a> method stops the value tracking for the element and all its direct and indirect child elements. In general, you don’t need to call <a href="../ScriptReference/UIElements.BindingExtensions.Unbind.html"><code>Unbind()</code></a> because tracking stops when a user closes the Inspector or Editor window. Call <a href="../ScriptReference/UIElements.BindingExtensions.Unbind.html"><code>Unbind()</code></a> if you must bind elements to different targets in their lifetimes. </p>

<p>If you construct an <a href="../ScriptReference/UIElements.InspectorElement.html"><code>InspectorElement</code></a> in C# by calling its constructor, binding occurs during the constructor call. If you want to rebind an <a href="../ScriptReference/UIElements.InspectorElement.html"><code>InspectorElement</code></a> after it has been constructed, you must call <a href="../ScriptReference/UIElements.BindingExtensions.Unbind.html"><code>Unbind()</code></a> and then either call <a href="../ScriptReference/UIElements.BindingExtensions.Bind.html"><code>Bind()</code></a> explicitly or let a bind operation from a parent create a binding.</p>

<p><a name="set-binding-path"></a></p>

<h3>Set binding path</h3>

<p>If you call <a href="../ScriptReference/UIElements.BindingExtensions.Bind.html"><code>Bind()</code></a> to create the binding, you must set the visual element’s binding path to the property name of the object that you want to bind to. </p>

<p>例如：</p>

<ul>
<li>
<p>If you have the following component script:</p>

<pre><code class="lang-csharp">using UnityEngine;

public class MyComp : MonoBehaviour
{
    [SerializeField]
    int m_Count;
}
</code></pre>

<p>To bind your visual element to <code>m_Count</code>, set the binding path to <code>m_Count</code>.</p>
</li>
<li><p>If you want to bind a visual element to a GameObject’s name property, which is <code>m_Name</code>, set the binding path to <code>m_Name</code>. </p></li>
</ul>

<p>You can set the binding path in UI Builder, UXML, or with a C# script:</p>

<ul>
<li>In UI Builder, enter the binding path in the <strong>Binding Path</strong> field for a visual element in the <a href="UIB-interface-overview.html#uibuilder-inspector">Inspector</a>.</li>
<li>In UXML, set the <code>binding-path</code> attribute for a visual element. See <a href="UIE-create-a-binding-uxml-bind.html#binding-path-uxml">Define the binding path in UXML</a> for an example.</li>
<li>In C#, set <a href="../ScriptReference/UIElements.IBindable-bindingPath.html"><code>bindingPath</code></a> from the <a href="../ScriptReference/UIElements.IBindable.html"><code>IBindable</code></a> interface. See <a href="UIE-create-a-binding-csharp.html#binding-path-csharp">Bind with the binding path</a> for an example.</li>
</ul>

<p><a name="call-bindproperty"></a></p>

<h3>Call <code>BindProperty()</code>
</h3>

<p>You can call <a href="../ScriptReference/UIElements.BindingExtensions.BindProperty.html"><code>BindProperty()</code></a> to bind an element to a <a href="../ScriptReference/SerializedProperty.html"><code>SerializedProperty</code></a> directly. </p>

<p>Use this method if you already have a <code>SerializedProperty</code> object, and especially if you traverse the properties of a <a href="../ScriptReference/SerializedObject.html"><code>SerializedObject</code></a> to build a UI dynamically. See <a href="UIE-bind-without-bindpath.html">Bind without the binding path</a> for an example.</p>

<h3>Bind elements to nested properties</h3>

<p>You can bind a visual element to nested properties in the source object. To do so, combine the binding path of an element with the binding path of the first ancestor. Use this method with the following elements:</p>

<ul>
<li><a href="../ScriptReference/UIElements.BindableElement.html"><code>BindableElement</code></a></li>
<li>
<a href="../ScriptReference/UIElements.TemplateContainer.html"><code>TemplateContainer</code></a> (corresponds to the <code>&lt;Instance&gt;</code> tag in UXML)</li>
<li><a href="../ScriptReference/UIElements.GroupBox.html"><code>GroupBox</code></a></li>
</ul>

<p>See <a href="UIE-bind-to-nested-properties.html">Bind to nested properties</a> for an example.</p>

<h3>Receive callbacks when values change</h3>

<p>You can create a binding to receive a callback when a bound serialized property changes. To do so, leverage the <a href="../ScriptReference/UIElements.BindingExtensions.TrackPropertyValue.html"><code>TrackPropertyValue()</code></a> extension method, which is available to any <code>VisualElement</code>. This registers a callback that executes when the provided <code>SerializedProperty</code> changes. See <a href="UIE-create-a-binding-callback.html">Receive callbacks when a serialized property changes</a> for an example.</p>

<p>You can also create a binding to receive a callback when any properties of the bound serialized object changes. To do so, leverage the <a href="../ScriptReference/UIElements.BindingExtensions.TrackSerializedObjectValue.html"><code>TrackSerializedObjectValue()</code></a> extension method, which is available to any <code>VisualElement</code>. This registers a callback that executes when the provided <code>SerializedProperty</code> changes. See <a href="UIE-create-a-binding-callback-any-properties.html">Receive callbacks when any properties change</a> for an example.</p>

<h3>Bind custom elements</h3>

<p>You can create custom elements and bind them to serialized properties through the <a href="UIE-binding#value-binding">value binding</a> system.</p>

<p>To create bindable custom elements:</p>

<ol>
<li>
<a href="UIE-create-custom-controls.html#create-a-custom-control-class">Declare a custom element</a>.</li>
<li>Inherit the element from <code>BindableElement</code> or implement the <code>IBinding</code> interface.</li>
<li>Implement the <code>INotifyValueChanged</code> interface.</li>
<li>Implement the <code>SetValueWithoutNotify()</code> method to the <code>INotifyValueChanged</code> interface.</li>
<li>Implement the <code>value</code> property accessors to the <code>INotifyValueChanged</code> interface.</li>
</ol>

<p>See <a href="UIE-bind-to-list-without-listview.html#custom-control">Create and style a custom control</a> for an example.</p>

<p><strong>Note</strong>: You can’t bind custom data types directly to custom elements because the binding system only allows you to bind an element to a type supported by SerializedPropertyType of <code>enum</code>. This means you can’t define a class or structure, for example a struct called <code>MyStruct</code>, and bind it to an element that implements <code>INotifyValueChanged&lt;MyStruct&gt;</code>. However, you can bind to serializable nested properties of custom data types. This includes polymorphic serialization (when a field uses the <a href="../ScriptReference/SerializeReference.html"><code>[SerializeReference]</code> attribute</a>). See <a href="UIE-bind-to-custom-data-type.html">Bind a custom control to custom data type</a> for an example.</p>

<h2>最佳实践</h2>

<p>Based on the type of UI you create, binding occurs at various times. This is called bind time.</p>

<p>The following table describes the bind time of a control:</p>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;"><strong>Condition</strong></th>
	<th style="text-align:left;"><strong>Automatic bind time (assuming binding path was set)</strong></th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;"><strong>An <code>InspectorElement</code> constructed in C#</strong></td>
	<td style="text-align:left;">During the <a href="../ScriptReference/UIElements.InspectorElement-ctor.html">constructor</a> call</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>A child element that is under the return value of <a href="../ScriptReference/Editor.CreateInspectorGUI.html"><code>CreateInspectorGUI()</code></a> or <a href="../ScriptReference/PropertyDrawer.CreatePropertyGUI.html"><code>CreatePropertyGUI()</code></a> when those methods return</strong></td>
	<td style="text-align:left;">After <a href="../ScriptReference/Editor.CreateInspectorGUI.html"><code>CreateInspectorGUI()</code></a> or <a href="../ScriptReference/PropertyDrawer.CreatePropertyGUI.html"><code>CreatePropertyGUI()</code></a> returns</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>A child element that is under an element when <a href="../ScriptReference/UIElements.BindingExtensions.Bind.html"><code>Bind()</code></a> or <a href="../ScriptReference/UIElements.BindingExtensions.BindProperty.html"><code>BindProperty()</code></a> is called on the parent element</strong></td>
	<td style="text-align:left;">During the <a href="../ScriptReference/UIElements.BindingExtensions.Bind.html"><code>Bind()</code></a> or <a href="../ScriptReference/UIElements.BindingExtensions.BindProperty.html"><code>BindProperty()</code></a> call</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Other</strong></td>
	<td style="text-align:left;">No automatic binding; you must bind the element or one of its parents manually</td>
</tr>
</tbody>
</table>

<p>The following are best practices when creating a binding regarding bind time:</p>

<ul>
<li>If you create a custom <a href="../ScriptReference/Editor.html"><code>Editor</code></a> or custom <a href="../ScriptReference/PropertyDrawer.html"><code>PropertyDrawer</code></a>, set the elements’ binding paths instead of calling <a href="../ScriptReference/UIElements.BindingExtensions.Bind.html"><code>Bind()</code></a> or <a href="../ScriptReference/UIElements.BindingExtensions.BindProperty.html"><code>BindProperty()</code></a> on any visual elements that are in the <a href="UIE-VisualTree.html">visual tree</a> by the end of the body of <a href="../ScriptReference/Editor.CreateInspectorGUI.html"><code>CreateInspectorGUI()</code></a> or <code>CreatePropertyGUI()</code>. These elements are bound automatically after <a href="../ScriptReference/Editor.CreateInspectorGUI.html"><code>CreateInspectorGUI()</code></a> or <a href="../ScriptReference/PropertyDrawer.CreatePropertyGUI.html"><code>CreatePropertyGUI()</code></a> returns. However, if you add any elements to the visual tree after that point, call <a href="../ScriptReference/UIElements.BindingExtensions.Bind.html"><code>Bind()</code></a> or <a href="../ScriptReference/UIElements.BindingExtensions.BindProperty.html"><code>BindProperty()</code></a> to bind them.</li>
<li>If you create any other type of UI, call <a href="../ScriptReference/UIElements.BindingExtensions.Bind.html"><code>Bind()</code></a> or <a href="../ScriptReference/UIElements.BindingExtensions.BindProperty.html"><code>BindProperty()</code></a> regardless of the time at which the elements get added to the visual tree. If you call <a href="../ScriptReference/UIElements.BindingExtensions.Bind.html"><code>Bind()</code></a> or <a href="../ScriptReference/UIElements.BindingExtensions.BindProperty.html"><code>BindProperty()</code></a> and bind multiple controls at the same time, set the binding path of each control and then call <a href="../ScriptReference/UIElements.BindingExtensions.Bind.html"><code>Bind()</code></a> on the lowest-level parent element that encompasses all the controls. <a href="../ScriptReference/UIElements.BindingExtensions.Bind.html"><code>Bind()</code></a> binds the element on which it’s called if it has a binding path and recursively binds all its child elements if they have binding paths. To prevent a negative performance impact, don’t bind a visual element with the <a href="../ScriptReference/UIElements.BindingExtensions.Bind.html"><code>Bind()</code></a> method more than once.</li>
</ul>

<h2>Binding examples</h2>

<p>Try the following examples to learn how to code with data binding:</p>

<ul>
<li><a href="UIE-create-a-binding-csharp.html">Bind with binding path in C# script</a></li>
<li><a href="UIE-bind-without-bindpath.html">Bind without the binding path</a></li>
<li><a href="UIE-create-a-binding-uxml-bind.html">Bind with UXML and C#</a></li>
<li><a href="UIE-create-a-binding-uxml-inspector.html">Create a binding with the Inspector</a></li>
<li><a href="UIE-bind-to-nested-properties.html">Bind to nested properties</a></li>
<li><a href="UIE-bind-uxml-template.html">Bind to a UXML template</a></li>
<li><a href="UIE-create-a-binding-callback.html">Receive callbacks when a bound property changes</a></li>
<li><a href="UIE-create-a-binding-callback-any-properties.html">Receive callbacks when any bound properties change</a></li>
<li><a href="UIE-bind-to-list.html">Bind to a list with ListView</a></li>
<li><a href="UIE-bind-to-list-without-listview.html">Bind to a list without ListView</a></li>
<li><a href="UIE-bind-custom-control.html">Bind a custom control</a></li>
<li><a href="UIE-bind-to-custom-data-type.html">Bind a custom control to custom data type</a></li>
</ul>

<h2>其他资源</h2>

<ul>
<li><a href="UIE-binding-data-type-conversion.html">Binding data type conversion</a></li>
<li><a href="UIE-binding-implementation-details.html">Implementation details</a></li>
<li><a href="UIE-binding-examples.html">Binding examples</a></li>
</ul>
<div id="_content"></div>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="UIE-HowTo-CreateCustomInspector.html"></a></span><div class="tip">Create a Custom Inspector</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="UIE-bindable-elements.html"></a></span><div class="tip">Bindable elements reference</div>
</div>
</div>
</div>
<div class="footer-wrapper"><div class="footer clear">
<div class="copy">Copyright © 2022 Unity Technologies. Publication 2022.3</div>
<div class="menu">
<a href="https://learn.unity.com/">教程</a><a href="https://answers.unity3d.com">社区答案</a><a href="https://support.unity3d.com/hc/en-us">知识库</a><a href="https://forum.unity3d.com">论坛</a><a href="https://unity3d.com/asset-store">Asset Store</a><a href="https://docs.unity3d.com/Manual/TermsOfUse.html">商标和使用条款</a><a href="https://unity.com/legal">法律条款</a><a href="https://unity.com/legal/privacy-policy">隐私政策</a><a href="https://unity.com/legal/cookie-policy">Cookie</a><a href="https://unity.com/legal/do-not-sell-my-personal-information">不要出售或分享我的个人信息</a><div id="ot-sdk-btn-container"><a id="ot-sdk-btn" class="ot-sdk-show-settings" href="javascript:void(0);">Your Privacy Choices (Cookie Settings)</a></div>
</div>
</div></div>
</div></div></div>
</div>
</body>
</html>
