<!DOCTYPE html><html class="no-js" lang="zh-cn">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link href="https://fonts.googleapis.com/css?family=Roboto&amp;display=swap" rel="stylesheet">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="twitter:card" content="summary">
<meta property="og:title" content="升级到 Unity 2020 LTS - Unity 手册">
<title>升级到 Unity 2020 LTS - Unity 手册</title>
<meta property="og:image" content="https://docs.unity3d.com/cn/2022.3/uploads/Main/upgrade-guide-clear-baked-data.png">
<meta name="description" content="Note: Follow the advice in this section in release order. For example, if you need to upgrade your project from 2020 to 2022, read the 2021 upgrade guides to see if there are any changes that you need to make before you read the 2022 upgrade guides.">
<meta property="og:description" content="Note: Follow the advice in this section in release order. For example, if you need to upgrade your project from 2020 to 2022, read the 2021 upgrade guides to see if there are any changes that you need to make before you read the 2022 upgrade guides.">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="https://unity.com/themes/contrib/unity_base/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFiles/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFiles/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFiles/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFiles/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFiles/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFiles/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFiles/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFiles/images/favicons/tileicon-144x144.png">
<script type="text/javascript" src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" charset="UTF-8" data-domain-script="6e91be4c-3145-4ea2-aa64-89d716064836" data-dLayer-ignore="true" data-document-language="true"></script><script type="text/javascript">function OptanonWrapper() {}</script><script>window.dataLayer = window.dataLayer || []; dataLayer.push({ event: 'dataLayer-initialized', user: { user_unity_id: undefined, user_logged_in: 'no' }, environment: { environment_locale: '', environment_currency: undefined }});</script><script>var offline=(location.href.indexOf('docs.unity3d.com')==-1)?true:false;if(!offline){(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=   'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);  })(window,document,'script','dataLayer','GTM-5V25JL6');}</script><script>
      var docs_type = 'Manual';
      var lang = 'cn';
      var page = 'UpgradeGuide2020LTS';
      if(!page) page = 'index';
      var version = '2022.3';
      var docs_versions = [{version: '2023.2',version_string: '2023.2',supported: true},{version: '2023.1',version_string: '2023.1',supported: false},{version: '2022.3',version_string: '2022.3',supported: true},{version: '2022.2',version_string: '2022.2',supported: false},{version: '2022.1',version_string: '2022.1',supported: false},{version: '2021.3',version_string: '2021.3',supported: true},{version: '2021.2',version_string: '2021.2',supported: false},{version: '2021.1',version_string: '2021.1',supported: false},{version: '2020.3',version_string: '2020.3',supported: false},{version: '2020.2',version_string: '2020.2',supported: false},{version: '2020.1',version_string: '2020.1',supported: false},{version: '2019.4',version_string: '2019.4',supported: false},{version: '2019.3',version_string: '2019.3',supported: false},{version: '2019.2',version_string: '2019.2',supported: false},{version: '2019.1',version_string: '2019.1',supported: false},{version: '2018.4',version_string: '2018.4',supported: false},{version: '2018.3',version_string: '2018.3',supported: false},{version: '2018.2',version_string: '2018.2',supported: false},{version: '2018.1',version_string: '2018.1',supported: false},{version: '2017.4',version_string: '2017.4',supported: false},{version: '2017.3',version_string: '2017.3',supported: false},{version: '2017.2',version_string: '2017.2',supported: false},{version: '2017.1',version_string: '2017.1',supported: false},{version: '5.6',version_string: '560',supported: false},];</script><script type="text/javascript" src="../StaticFiles/js/jquery.js"></script><script type="text/javascript" src="../StaticFiles/js/core.js"></script><script type="text/javascript" src="../StaticFiles/js/jquery.sidebar.min.js"></script><script type="text/javascript" src="docdata/toc.js"></script><script type="text/javascript" src=""></script><script type="text/javascript" src="../StaticFiles/js/custom.js"></script><script src="/StaticFilesConfig/feedback/feedback.js"></script><link rel="stylesheet" type="text/css" href="../StaticFiles/css/core.css">
<link rel="stylesheet" type="text/css" href="../StaticFiles/css/custom.css">
<link rel="canonical" href="https://docs.unity3d.com/cn/2022.3/Manual/UpgradeGuide2020LTS.html">
<link rel="alternate" href="https://docs.unity3d.com/en/2022.3/Manual/UpgradeGuide2020LTS.html" hreflang="en">
<link rel="alternate" href="https://docs.unity3d.com/cn/2022.3/Manual/UpgradeGuide2020LTS.html" hreflang="zh">
<link rel="alternate" href="https://docs.unity3d.com/ja/2022.3/Manual/UpgradeGuide2020LTS.html" hreflang="ja">
<link rel="alternate" href="https://docs.unity3d.com/kr/2022.3/Manual/UpgradeGuide2020LTS.html" hreflang="ko">
<link rel="alternate" href="https://docs.unity3d.com/2022.3/Documentation/Manual/UpgradeGuide2020LTS.html" hreflang="x-default">
</head>
<body>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div id="nav-open" for="nav-input"><span></span></div>
<div class="logo"><a href="./index.html"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="搜索手册..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul class="menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">手册</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">脚本 API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity3d.com/">
                unity3d.com
              </a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>2022.3</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;">
<ul class="versions">
<li class="supported"><a class="docs_version_url_2023.2" href="/cn/2023.2/Manual/UpgradeGuide2020LTS.html">2023.2</a></li>
<li class=""><a class="docs_version_url_2023.1" href="/cn/2023.1/Manual/UpgradeGuide2020LTS.html">2023.1</a></li>
<li class="supported"><a class="docs_version_url_2022.3" href="/cn/2022.3/Manual/UpgradeGuide2020LTS.html">2022.3</a></li>
<li class=""><a class="docs_version_url_2022.2" href="/cn/2022.2/Manual/UpgradeGuide2020LTS.html">2022.2</a></li>
<li class=""><a class="docs_version_url_2022.1" href="/cn/2022.1/Manual/UpgradeGuide2020LTS.html">2022.1</a></li>
<li class="supported"><a class="docs_version_url_2021.3" href="/cn/2021.3/Manual/UpgradeGuide2020LTS.html">2021.3</a></li>
<li class=""><a class="docs_version_url_2021.2" href="/cn/2021.2/Manual/UpgradeGuide2020LTS.html">2021.2</a></li>
<li class=""><a class="docs_version_url_2021.1" href="/cn/2021.1/Manual/UpgradeGuide2020LTS.html">2021.1</a></li>
<li class=""><a class="docs_version_url_2020.3" href="/cn/2020.3/Manual/UpgradeGuide2020LTS.html">2020.3</a></li>
<li class=""><a class="docs_version_url_2020.2" href="/cn/2020.2/Manual/UpgradeGuide2020LTS.html">2020.2</a></li>
<li class=""><a class="docs_version_url_2020.1" href="/cn/2020.1/Manual/UpgradeGuide2020LTS.html">2020.1</a></li>
<li class=""><a class="docs_version_url_2019.4" href="/cn/2019.4/Manual/UpgradeGuide2020LTS.html">2019.4</a></li>
<li class=""><a class="docs_version_url_2019.3" href="/cn/2019.3/Manual/UpgradeGuide2020LTS.html">2019.3</a></li>
<li class=""><a class="docs_version_url_2019.2" href="/cn/2019.2/Manual/UpgradeGuide2020LTS.html">2019.2</a></li>
<li class=""><a class="docs_version_url_2019.1" href="/cn/2019.1/Manual/UpgradeGuide2020LTS.html">2019.1</a></li>
<li class=""><a class="docs_version_url_2018.4" href="/cn/2018.4/Manual/UpgradeGuide2020LTS.html">2018.4</a></li>
<li class=""><a class="docs_version_url_2018.3" href="/cn/2018.3/Manual/UpgradeGuide2020LTS.html">2018.3</a></li>
<li class=""><a class="docs_version_url_2018.2" href="/cn/2018.2/Manual/UpgradeGuide2020LTS.html">2018.2</a></li>
<li class=""><a class="docs_version_url_2018.1" href="/cn/2018.1/Manual/UpgradeGuide2020LTS.html">2018.1</a></li>
<li class=""><a class="docs_version_url_2017.4" href="/cn/2017.4/Manual/UpgradeGuide2020LTS.html">2017.4</a></li>
<li class=""><a class="docs_version_url_2017.3" href="/cn/2017.3/Manual/UpgradeGuide2020LTS.html">2017.3</a></li>
<li class=""><a class="docs_version_url_2017.2" href="/cn/2017.2/Manual/UpgradeGuide2020LTS.html">2017.2</a></li>
<li class=""><a class="docs_version_url_2017.1" href="/cn/2017.1/Manual/UpgradeGuide2020LTS.html">2017.1</a></li>
<li class=""><a class="docs_version_url_560" href="/cn/560/Manual/UpgradeGuide2020LTS.html">5.6</a></li>
<div class="versionsWithThisPage" style="display:none;"><li><p>包含此页的版本：</p></li></div>
<div class="versionsWithoutThisPage" style="display:none;"><li><p>不含此页的版本：</p></li></div>
</ul>
<ul class="description">
<li>
<div class="supported-box"></div>受支持</li>
<li>
<div class="legacy-box"></div>旧版</li>
</ul>
</div>
</div>
<ul class="nav-menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">手册</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">脚本 API</a></li>
</ul>
<div class="lang-switcher">
<div class="current toggle" data-target=".lang-list">
<div class="lbl">语言:
        <span class="b">中文</span>
</div>
<div class="arrow"></div>
</div>
<div class="lang-list" style="display:none;"><ul>
<li><a data-lang="en" href="/2022.3/Documentation/Manual/UpgradeGuide2020LTS.html">English</a></li>
<li><a data-lang="cn" href="/cn/2022.3/Manual/UpgradeGuide2020LTS.html">中文</a></li>
<li><a data-lang="ja" href="/ja/2022.3/Manual/UpgradeGuide2020LTS.html">日本語</a></li>
<li><a data-lang="kr" href="/kr/2022.3/Manual/UpgradeGuide2020LTS.html">한국어</a></li>
</ul></div>
</div>
</div></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar hidden"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc">
<h2>手册</h2>
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>2022.3</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;">
<ul class="versions">
<li class="supported"><a class="docs_version_url_2023.2" href="/cn/2023.2/Manual/UpgradeGuide2020LTS.html">2023.2</a></li>
<li class=""><a class="docs_version_url_2023.1" href="/cn/2023.1/Manual/UpgradeGuide2020LTS.html">2023.1</a></li>
<li class="supported"><a class="docs_version_url_2022.3" href="/cn/2022.3/Manual/UpgradeGuide2020LTS.html">2022.3</a></li>
<li class=""><a class="docs_version_url_2022.2" href="/cn/2022.2/Manual/UpgradeGuide2020LTS.html">2022.2</a></li>
<li class=""><a class="docs_version_url_2022.1" href="/cn/2022.1/Manual/UpgradeGuide2020LTS.html">2022.1</a></li>
<li class="supported"><a class="docs_version_url_2021.3" href="/cn/2021.3/Manual/UpgradeGuide2020LTS.html">2021.3</a></li>
<li class=""><a class="docs_version_url_2021.2" href="/cn/2021.2/Manual/UpgradeGuide2020LTS.html">2021.2</a></li>
<li class=""><a class="docs_version_url_2021.1" href="/cn/2021.1/Manual/UpgradeGuide2020LTS.html">2021.1</a></li>
<li class=""><a class="docs_version_url_2020.3" href="/cn/2020.3/Manual/UpgradeGuide2020LTS.html">2020.3</a></li>
<li class=""><a class="docs_version_url_2020.2" href="/cn/2020.2/Manual/UpgradeGuide2020LTS.html">2020.2</a></li>
<li class=""><a class="docs_version_url_2020.1" href="/cn/2020.1/Manual/UpgradeGuide2020LTS.html">2020.1</a></li>
<li class=""><a class="docs_version_url_2019.4" href="/cn/2019.4/Manual/UpgradeGuide2020LTS.html">2019.4</a></li>
<li class=""><a class="docs_version_url_2019.3" href="/cn/2019.3/Manual/UpgradeGuide2020LTS.html">2019.3</a></li>
<li class=""><a class="docs_version_url_2019.2" href="/cn/2019.2/Manual/UpgradeGuide2020LTS.html">2019.2</a></li>
<li class=""><a class="docs_version_url_2019.1" href="/cn/2019.1/Manual/UpgradeGuide2020LTS.html">2019.1</a></li>
<li class=""><a class="docs_version_url_2018.4" href="/cn/2018.4/Manual/UpgradeGuide2020LTS.html">2018.4</a></li>
<li class=""><a class="docs_version_url_2018.3" href="/cn/2018.3/Manual/UpgradeGuide2020LTS.html">2018.3</a></li>
<li class=""><a class="docs_version_url_2018.2" href="/cn/2018.2/Manual/UpgradeGuide2020LTS.html">2018.2</a></li>
<li class=""><a class="docs_version_url_2018.1" href="/cn/2018.1/Manual/UpgradeGuide2020LTS.html">2018.1</a></li>
<li class=""><a class="docs_version_url_2017.4" href="/cn/2017.4/Manual/UpgradeGuide2020LTS.html">2017.4</a></li>
<li class=""><a class="docs_version_url_2017.3" href="/cn/2017.3/Manual/UpgradeGuide2020LTS.html">2017.3</a></li>
<li class=""><a class="docs_version_url_2017.2" href="/cn/2017.2/Manual/UpgradeGuide2020LTS.html">2017.2</a></li>
<li class=""><a class="docs_version_url_2017.1" href="/cn/2017.1/Manual/UpgradeGuide2020LTS.html">2017.1</a></li>
<li class=""><a class="docs_version_url_560" href="/cn/560/Manual/UpgradeGuide2020LTS.html">5.6</a></li>
<div class="versionsWithThisPage" style="display:none;"><li><p>包含此页的版本：</p></li></div>
<div class="versionsWithoutThisPage" style="display:none;"><li><p>不含此页的版本：</p></li></div>
</ul>
<ul class="description">
<li>
<div class="supported-box"></div>受支持</li>
<li>
<div class="legacy-box"></div>旧版</li>
</ul>
</div>
</div>
<div class="clear"></div>
</div></div></div></div></div>
<div id="content-wrap" class="content-wrap opened-sidebar"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UnityManual.html">Unity User Manual 2022.3 (LTS)</a></li>
<li><a href="UnityOverview.html">在 Unity 中操作</a></li>
<li><a href="UpgradeGuides.html">升级 Unity</a></li>
<li>升级到 Unity 2020 LTS</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="UpgradeGuide2021LTS.html"></a></span><div class="tip">Upgrading to Unity 2021 LTS</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="UpgradeGuide2019LTS.html"></a></span><div class="tip">升级到 Unity 2019 LTS</div>
</div>
</div></div>
<h1>升级到 Unity 2020 LTS</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p><a name="TopOfPage"></a>
<strong>Note</strong>: Follow the advice in this section in release order. For example, if you need to upgrade your project from 2020 to 2022, read the 2021 upgrade guides to see if there are any changes that you need to make before you read the 2022 upgrade guides.</p>

<p>本页面列出了从 2019 版本升级到 2020 LTS 时在 Unity 2020 LTS 中可能对现有项目造成影响的更改。</p>

<p>Note that <strong>2020 LTS</strong> is also known as <strong>2020.3</strong>.</p>

<h3>页面大纲</h3>

<ul>
<li>
<a href="#MeshVertices">所有网格顶点</a>都进行变换以实现更好的 UV 展开</li>
<li><a href="#AssetBundle">所有资源包哈希都不同，因此会构建所有包</a></li>
<li><a href="#HLAPI">多玩家 HLAPI 包不会在项目升级中自动安装</a></li>
<li><a href="#ProgressiveLightmapper"> 使用渐进光照贴图改进了 LOD 烘焙</a></li>
<li><a href="#AdaptivePerformance">Adaptive Performance 重要更改</a></li>
<li><a href="#Xcode">Xcode 项目生成</a></li>
<li><a href="#ForceFields">粒子系统力场 (Particle System Force Field)</a></li>
<li><a href="#UGUIGraphic">对 UGUI Graphic 类的更改</a></li>
<li><a href="#CodeCoverage">设置代码优化以继续使用代码覆盖率</a></li>
<li><a href="#XRSupport">AR/VR 平台支持</a></li>
</ul>

<hr>

<p><a name="MeshVertices"></a></p>

<h2>所有网格顶点都进行变换以实现更好的 UV 展开</h2>

<p>Unity 可能会更改导入到项目中的 3D 对象的网格 UV。</p>

<p>Unity 会变换所有导入的网格顶点的位置以便采用 Unity 单位自动缩放。</p>

<p>From Unity 2020.1, Unity <a href="LightingGiUvs-GeneratingLightmappingUVs.html">generates lightmap UVs</a> using the transformed Mesh vertices, if you’ve enabled <strong>Generate Lightmap UVs</strong>. Prior to Unity 2020.1, Unity generated lightmap UV maps using the original imported Mesh vertex positions, before the automatic position transformation.</p>

<p>UVs generated after the vertex transformation are more accurate to the original shape and scale of your imported object.
<a href="#TopOfPage">Back to top</a>
<a name="AssetBundle"></a></p>

<h2>所有资源包哈希都不同，因此会构建所有包</h2>

<p>From Unity 2020.1, Unity generates a different hash for all asset bundles in your project. This ensures all bundles are built, including the ones with the same content but with different loadable paths.
<a href="#TopOfPage">Back to top</a>
<a name="HLAPI"></a></p>

<h2>多玩家 HLAPI 包不会在项目升级中自动安装</h2>

<p>从 Unity 2020.1 开始，如果要升级的项目具有使用多玩家 HLAPI 的脚本，请从 Package Manager 安装多玩家 HLAPI 包。</p>

<p>From Unity 2019.1 to 2019.4, Unity automatically installed the multiplayer HLAPI package when you upgraded a project created in Unity 2018.4 or earlier.
<a href="#TopOfPage">Back to top</a>
<a name="ProgressiveLightmapper"></a></p>

<h2>使用渐进光照贴图改进了 LOD 烘焙</h2>

<p>Unity 的渐进光照贴图由 CPU 和 GPU 光照贴图组成。</p>

<p>从 Unity 2020.1 开始，GPU 光照贴图支持<a href="LevelOfDetail.html">细节级别 (LOD)</a> 烘焙。</p>

<p>The CPU lightmapper uses the same baking algorithm and this lets Unity use all available CPU cores for faster baking times in Scenes with LOD values above 0.</p>

<p>若要在场景中升级 LOD，请清除烘焙光照贴图，然后重新生成它。为此需要执行以下操作：</p>

<ol>
<li>In the Unity Editor, Open <strong>Window</strong> &gt; <strong>Rendering</strong> &gt; <strong>Lighting Settings.</strong>
</li>
<li>In <strong>Debug Settings</strong>, select the drop-down menu on the <strong>Generate Lighting</strong> button, then select <strong>Clear Baked Data</strong>.<br>
 <img src="../uploads/Main/upgrade-guide-clear-baked-data.png" alt="">
</li>
<li>Select <strong>Generate Lighting</strong>.</li>
</ol>

<p><a href="#TopOfPage">返回顶部</a>
<a name="AdaptivePerformance"></a></p>

<h2>Adaptive Performance breaking changes</h2>

<p>To update Adaptive Performance from 1.0 to 2.0, see the <a href="https://docs.unity3d.com/Packages/com.unity.adaptiveperformance@2.0/manual/upgrade-guides.html">Adaptive Performance upgrade guide</a>.
<a href="#TopOfPage">Back to top</a>
<a name="Xcode"></a></p>

<h2>Xcode Project Generation</h2>

<p>MacOS 独立 Xcode 项目构建路径选择已更改。现在必须提供所需目录的路径，并在目标目录中创建 .xcodeproj 和随附文件。
MacOS 构建文件夹不能位于项目目录中。
请参阅手册页面了解 <a href="https://docs.unity3d.com/Manual/StructureOfXcodeProject.html">Xcode 项目结构</a>。</p>

<p><a href="#TopOfPage">返回顶部</a>
<a name="ForceFields"></a></p>

<h2>粒子系统力场 (Particle System Force Field)</h2>

<p>为了确保<a href="https://docs.unity3d.com/2019.4/Documentation/Manual/class-ParticleSystemForceField.html">力场</a>属性一致的行为，Unity 现在使用 30fps 的参考帧率作为模拟的基础。
如果您的应用使用不同的帧率，此更改可能会影响以下力场属性：</p>

<ul>
<li>Gravity</li>
<li>Rotation</li>
<li>Vector Fields</li>
</ul>

<p>如果这些设置的行为与早期 Unity 版本不同，请调整它们的值。</p>

<p><a href="#TopOfPage">返回顶部</a>
<a name="UGUIGraphic"></a></p>

<h2>对 UGUI Graphic 类的更改</h2>

<p><code>UnityEngine.UI.Graphic</code> 不再为 <a href="https://docs.unity3d.com/ScriptReference/CanvasRenderer.html"><code>CanvasRenderer</code></a> 组件提供 <a href="https://docs.unity3d.com/ScriptReference/RequireComponent.html"><code>RequireComponent</code></a> 属性。要更新用户编写的继承自 Graphic 的类并在 UGUI 画布中呈现，请添加以下 <code>RequireComponent</code> 属性：</p>

<pre><code>using UnityEngine;

[RequireComponent(typeof (CanvasRenderer))]
public class exampleClass: Graphic
{
  ...
}
</code></pre>

<p><a href="#TopOfPage">返回顶部</a>
<a name="CodeCoverage"></a></p>

<h2>设置代码优化以继续使用代码覆盖率</h2>

<p><a href="../ScriptReference/Compilation.CodeOptimization.html">代码优化</a>的引入改变了<a href="https://docs.unity3d.com/Packages/com.unity.testtools.codecoverage@latest">代码覆盖率包</a>的工作方式。要在 2020LTS 中继续对您的项目使用代码覆盖率包，请设置代码优化以在调试模式下编译脚本。调试模式启用 C# 调试并且需要该功能以获得准确的代码覆盖率结果。
为确保代码优化设置为调试模式，您可以执行以下操作之一：</p>

<ul>
<li>在编辑器中切换到调试模式（右下角，选择 <strong>Bug 图标</strong> &gt; <strong>Switch to debug mode</strong>）。</li>
<li>使用 CompilationPipeline API，设置 <code>CompilationPipeline.codeOptimization =CodeOptimization.Debug</code>。</li>
<li>将 <code>-debugCodeOptimization</code> 传递给命令行。</li>
</ul>

<p><a href="#TopOfPage">返回顶部</a>
<a name="XRSupport"></a></p>

<h2>AR/VR Platforms Support</h2>

<p>对于使用 Unity 2020 版本之前的 Unity 版本的现有 AR/VR 项目，本文档提供了有关升级这些项目的指南。</p>

<h3>在 Project Settings 中启用 AR/VR</h3>

<p>将现有项目升级到 Unity 2020 版本及更高版本时，应该会收到一个通知，指出已弃用的 XR 集成（以前在 Player/XR Settings 中）已禁用。</p>

<figure>
<img src="../uploads/Main/Upgrade2020-xr-image-1.png" alt="在资源导入期间，在启动 Unity 编辑器之前。">
<figcaption>在资源导入期间，在启动 Unity 编辑器之前。</figcaption>
</figure>

<p>若要启用 AR/VR，请使用 Project Settings 中的 XR Plug-in Management 并选择目标平台。</p>

<figure>
<img src="../uploads/Main/Upgrade2020-xr-image-2.png" alt="注意：建议在安装 XR Plug-in Management 之前修复任何与升级相关的脚本错误。">
<figcaption><strong>注意：</strong>建议在安装 XR Plug-in Management 之前修复任何与升级相关的脚本错误。</figcaption>
</figure>

<h4>虚拟现实</h4>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;"><strong>平台</strong></th>
	<th style="text-align:left;"><strong>构建目标</strong></th>
	<th style="text-align:left;"><strong>插件提供商</strong></th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;">Oculus Quest</td>
	<td style="text-align:left;">Android</td>
	<td style="text-align:left;">Oculus</td>
</tr>
<tr>
	<td style="text-align:left;">Oculus Rift 和 Rift S</td>
	<td style="text-align:left;">Desktop</td>
	<td style="text-align:left;">Oculus</td>
</tr>
<tr>
	<td style="text-align:left;">Windows Mixed Reality VR</td>
	<td style="text-align:left;">UWP</td>
	<td style="text-align:left;">Windows Mixed Reality</td>
</tr>
</tbody>
</table>

<h4>增强现实</h4>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;"><strong>平台</strong></th>
	<th style="text-align:left;"><strong>构建目标</strong></th>
	<th style="text-align:left;"><strong>插件提供商</strong></th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;">ARCore 设备</td>
	<td style="text-align:left;">Android</td>
	<td style="text-align:left;">ARCore</td>
</tr>
<tr>
	<td style="text-align:left;">ARKit 设备</td>
	<td style="text-align:left;">iOS</td>
	<td style="text-align:left;">ARKit</td>
</tr>
<tr>
	<td style="text-align:left;">HoloLens</td>
	<td style="text-align:left;">UWP</td>
	<td style="text-align:left;">Windows Mixed Reality</td>
</tr>
<tr>
	<td style="text-align:left;">Magic Leap One</td>
	<td style="text-align:left;">Lumin</td>
	<td style="text-align:left;">Magic Leap</td>
</tr>
</tbody>
</table>

<h3>使用最佳播放器设置</h3>

<p>确保项目的渲染和质量设置是最佳的。下表按目标平台详细介绍了推荐设置。</p>

<h4>虚拟现实</h4>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;"><strong>平台</strong></th>
	<th style="text-align:left;"><strong>图形 API</strong></th>
	<th style="text-align:left;"><strong>立体渲染模式</strong></th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;">Oculus Quest</td>
	<td style="text-align:left;">OpenGL ES 3.0</td>
	<td style="text-align:left;">多视图</td>
</tr>
<tr>
	<td style="text-align:left;">Oculus Rift 和 Rift S</td>
	<td style="text-align:left;">DX11</td>
	<td style="text-align:left;">单通道实例化</td>
</tr>
<tr>
	<td style="text-align:left;">Windows Mixed Reality VR</td>
	<td style="text-align:left;">DX11</td>
	<td style="text-align:left;">单通道实例化</td>
</tr>
</tbody>
</table>

<h4>增强现实</h4>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;"><strong>平台</strong></th>
	<th style="text-align:left;"><strong>图形 API</strong></th>
	<th style="text-align:left;"><strong>立体渲染模式</strong></th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;">ARCore 设备</td>
	<td style="text-align:left;">OpenGL ES 3.0</td>
	<td style="text-align:left;">无</td>
</tr>
<tr>
	<td style="text-align:left;">ARKit 设备</td>
	<td style="text-align:left;">Metal</td>
	<td style="text-align:left;">无</td>
</tr>
<tr>
	<td style="text-align:left;">HoloLens</td>
	<td style="text-align:left;">DX11</td>
	<td style="text-align:left;">单通道实例化</td>
</tr>
<tr>
	<td style="text-align:left;">Magic Leap One</td>
	<td style="text-align:left;">OpenGL ES 3.2</td>
	<td style="text-align:left;">单通道实例化</td>
</tr>
</tbody>
</table>

<p><strong>注意：</strong>“单通道”不再是渲染模式选项，因为“单通道实例化”性能更好。如果要从“单通道”升级到“单通道实例化”，则可能需要更新项目中的自定义着色器。</p>

<h3>渲染管线</h3>

<p>内置渲染管线、通用渲染管线和高清渲染管线在 2020.1 中全部受支持。使用我们最新的可编程渲染管线有很多好处，但这不是此升级过程中的要求。</p>

<p><strong>Note:</strong> If you are using third-party assets and/or custom shaders, you might need to update assets with shaders compatible with “single passed instanced”.</p>

<h3>场景中的摄像机</h3>

<p>如果使用 XR 交互工具包，则无需对摄像机跟踪进行更改。</p>

<p>If you are using a third-party toolkit for camera tracking (OVRCameraRig, etc), make sure you have updated to the latest version. Note that upgrading to latest versions of third-party tools might cause script errors, please reference third-party documentation.</p>

<p>如果使用跟踪姿势驱动程序进行摄像机跟踪，请参阅我们的<a href="https://docs.unity3d.com/Manual/configuring-project-for-xr.html">迁移指南</a>。</p>

<h3>Upgrading third-Party Toolkits</h3>

<p>If you use any toolkits developed by our supported platforms (Oculus Integration package, MRTK, MLTK), make sure you’re using the latest version. Note that upgrading to the latest versions of third-party tools might cause upgrade-related script errors, and you may need to reference corresponding documentation of those toolkits.</p>

<h3>常见问题解答</h3>

<h4>为什么我无法在 Project Settings 中安装 XR Plug-in Management？</h4>

<p>You may have upgrade-related script errors that must be fixed before installing XR Plug-in Management.</p>

<h4>为什么 XR Plug-in Management 中缺少 OpenVR 和 Google Cardboard？</h4>

<p>OpenVR 和 Google Cardboard XR 插件分别由 Valve 和 Google 进行开发和维护。适用于这两个平台的安装说明链接可以在我们的<a href="https://docs.unity3d.com/Manual/VROverview.html">文档</a>中找到。</p>

<h4>是否支持 Unity 输入系统？</h4>

<p>是，我们支持的平台集成与 Unity 输入系统兼容。</p>

<h4>是否支持通用渲染管线和高清渲染管线？</h4>

<p>是，我们支持的平台集成与通用渲染管线和高清渲染管线兼容。</p>

<h4>为什么我无法在 Package Manager 中查看 XR 交互工具包？</h4>

<p>The XR Interaction Toolkit is still in preview. To view preview packages in 2020.1, you must enable it using the Package Manager tab in Project Settings. When enabled, preview packages are displayed in the Unity Registry of the Package Manager.</p>

<h4>为什么 Play in Editor 不适用于我的提供程序？</h4>

<p>Play in editor 支持仅适用于为其提供程序提供独立支持的提供程序。如果提供程序未在 XR Plug-in Management 提供程序选择 UI 的独立部分中列出，则 Play in Editor 将不适用。查看提供程序文档，因为它们可能支持其他一些集成 Play in Editor 支持的方法。</p>

<h4>为什么我无法使用“单通道”渲染模式？</h4>

<p>2020.1 不再支持“单通道”，因为“单通道实例化”性能最好。如果项目曾使用“单通道”渲染，则可能需要更新项目中的着色器。将自定义着色器用于“单通道”的第三方库可能也需要更新。可以选择从“单通道”升级到“多通道”，着色器应该可正常工作，但建议以“单通道实例化”为目标以获得最佳性能。</p>

<h4>如何配置图形 API？</h4>

<p>Graphics API is configured in Player settings (“Edit” &gt; “Project Settings” &gt; “Player”).</p>

<h4>如何配置立体渲染模式？</h4>

<p>渲染模式在 Project Settings 中 XR Plug-in Management 下嵌套的提供程序特定设置中进行配置。</p>

<h4>为什么我在使用 XR 设置 API 时出现 renderScale 错误？</h4>

<p>renderScale has been removed and replaced with eyeTextureResolutionScale but that has been a script updater task since 2019.3. If you are upgrading from a Unity version prior to 2019.3, you must manually replace renderScale with eyeTextureResolutionScale.</p>

<h4>为什么 XR 交互工具包无法识别我控制器的输入（例如按钮按压）？</h4>

<p>The headset needs to be detected before any device inputs can be detected. One common issue when testing, is that many people let their headsets rest on a table while debugging their interactions. The controllers aren’t recognized until you wear the headset (or the proximity sensor inside the headset gets activated). If you don’t get any input from your device, put on your headset after starting the app, or cover the proximity sensor.</p>

<h4>我是否可以在 AR Foundation 应用程序中使用 iPhone 中的广角摄像机？</h4>

<p>ARKit 未提供用于更改摄像机 FOV 的选项。</p>

<p><a href="#TopOfPage">回到顶部</a></p>
<div id="_content"></div>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="UpgradeGuide2021LTS.html"></a></span><div class="tip">Upgrading to Unity 2021 LTS</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="UpgradeGuide2019LTS.html"></a></span><div class="tip">升级到 Unity 2019 LTS</div>
</div>
</div>
</div>
<div class="footer-wrapper"><div class="footer clear">
<div class="copy">Copyright © 2022 Unity Technologies. Publication 2022.3</div>
<div class="menu">
<a href="https://learn.unity.com/">教程</a><a href="https://answers.unity3d.com">社区答案</a><a href="https://support.unity3d.com/hc/en-us">知识库</a><a href="https://forum.unity3d.com">论坛</a><a href="https://unity3d.com/asset-store">Asset Store</a><a href="https://docs.unity3d.com/Manual/TermsOfUse.html">商标和使用条款</a><a href="https://unity.com/legal">法律条款</a><a href="https://unity.com/legal/privacy-policy">隐私政策</a><a href="https://unity.com/legal/cookie-policy">Cookie</a><a href="https://unity.com/legal/do-not-sell-my-personal-information">不要出售或分享我的个人信息</a><div id="ot-sdk-btn-container"><a id="ot-sdk-btn" class="ot-sdk-show-settings" href="javascript:void(0);">Your Privacy Choices (Cookie Settings)</a></div>
</div>
</div></div>
</div></div></div>
</div>
</body>
</html>
