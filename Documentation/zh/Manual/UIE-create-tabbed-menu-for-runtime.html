<!DOCTYPE html><html class="no-js" lang="zh-cn">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link href="https://fonts.googleapis.com/css?family=Roboto&amp;display=swap" rel="stylesheet">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="twitter:card" content="summary">
<meta property="og:title" content="Create a tabbed menu for runtime - Unity 手册">
<title>Create a tabbed menu for runtime - Unity 手册</title>
<meta property="og:image" content="https://docs.unity3d.com/cn/2022.3/uploads/Main/UIBuilder/TabbedMenu.gif">
<meta name="description" content="Version: 2021.3+">
<meta property="og:description" content="Version: 2021.3+">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="https://unity.com/themes/contrib/unity_base/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFiles/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFiles/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFiles/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFiles/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFiles/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFiles/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFiles/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFiles/images/favicons/tileicon-144x144.png">
<script type="text/javascript" src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" charset="UTF-8" data-domain-script="6e91be4c-3145-4ea2-aa64-89d716064836" data-dLayer-ignore="true" data-document-language="true"></script><script type="text/javascript">function OptanonWrapper() {}</script><script>window.dataLayer = window.dataLayer || []; dataLayer.push({ event: 'dataLayer-initialized', user: { user_unity_id: undefined, user_logged_in: 'no' }, environment: { environment_locale: '', environment_currency: undefined }});</script><script>var offline=(location.href.indexOf('docs.unity3d.com')==-1)?true:false;if(!offline){(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=   'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);  })(window,document,'script','dataLayer','GTM-5V25JL6');}</script><script>
      var docs_type = 'Manual';
      var lang = 'cn';
      var page = 'UIE-create-tabbed-menu-for-runtime';
      if(!page) page = 'index';
      var version = '2022.3';
      var docs_versions = [{version: '2023.2',version_string: '2023.2',supported: true},{version: '2023.1',version_string: '2023.1',supported: false},{version: '2022.3',version_string: '2022.3',supported: true},{version: '2022.2',version_string: '2022.2',supported: false},{version: '2022.1',version_string: '2022.1',supported: false},{version: '2021.3',version_string: '2021.3',supported: true},{version: '2021.2',version_string: '2021.2',supported: false},{version: '2021.1',version_string: '2021.1',supported: false},{version: '2020.3',version_string: '2020.3',supported: false},{version: '2020.2',version_string: '2020.2',supported: false},{version: '2020.1',version_string: '2020.1',supported: false},{version: '2019.4',version_string: '2019.4',supported: false},{version: '2019.3',version_string: '2019.3',supported: false},{version: '2019.2',version_string: '2019.2',supported: false},{version: '2019.1',version_string: '2019.1',supported: false},{version: '2018.4',version_string: '2018.4',supported: false},{version: '2018.3',version_string: '2018.3',supported: false},{version: '2018.2',version_string: '2018.2',supported: false},{version: '2018.1',version_string: '2018.1',supported: false},{version: '2017.4',version_string: '2017.4',supported: false},{version: '2017.3',version_string: '2017.3',supported: false},{version: '2017.2',version_string: '2017.2',supported: false},{version: '2017.1',version_string: '2017.1',supported: false},{version: '5.6',version_string: '560',supported: false},];</script><script type="text/javascript" src="../StaticFiles/js/jquery.js"></script><script type="text/javascript" src="../StaticFiles/js/core.js"></script><script type="text/javascript" src="../StaticFiles/js/jquery.sidebar.min.js"></script><script type="text/javascript" src="docdata/toc.js"></script><script type="text/javascript" src=""></script><script type="text/javascript" src="../StaticFiles/js/custom.js"></script><script src="/StaticFilesConfig/feedback/feedback.js"></script><link rel="stylesheet" type="text/css" href="../StaticFiles/css/core.css">
<link rel="stylesheet" type="text/css" href="../StaticFiles/css/custom.css">
<link rel="canonical" href="https://docs.unity3d.com/cn/2022.3/Manual/UIE-create-tabbed-menu-for-runtime.html">
<link rel="alternate" href="https://docs.unity3d.com/en/2022.3/Manual/UIE-create-tabbed-menu-for-runtime.html" hreflang="en">
<link rel="alternate" href="https://docs.unity3d.com/cn/2022.3/Manual/UIE-create-tabbed-menu-for-runtime.html" hreflang="zh">
<link rel="alternate" href="https://docs.unity3d.com/ja/2022.3/Manual/UIE-create-tabbed-menu-for-runtime.html" hreflang="ja">
<link rel="alternate" href="https://docs.unity3d.com/kr/2022.3/Manual/UIE-create-tabbed-menu-for-runtime.html" hreflang="ko">
<link rel="alternate" href="https://docs.unity3d.com/2022.3/Documentation/Manual/UIE-create-tabbed-menu-for-runtime.html" hreflang="x-default">
</head>
<body>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div id="nav-open" for="nav-input"><span></span></div>
<div class="logo"><a href="./index.html"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="搜索手册..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul class="menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">手册</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">脚本 API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity3d.com/">
                unity3d.com
              </a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>2022.3</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;">
<ul class="versions">
<li class="supported"><a class="docs_version_url_2023.2" href="/cn/2023.2/Manual/UIE-create-tabbed-menu-for-runtime.html">2023.2</a></li>
<li class=""><a class="docs_version_url_2023.1" href="/cn/2023.1/Manual/UIE-create-tabbed-menu-for-runtime.html">2023.1</a></li>
<li class="supported"><a class="docs_version_url_2022.3" href="/cn/2022.3/Manual/UIE-create-tabbed-menu-for-runtime.html">2022.3</a></li>
<li class=""><a class="docs_version_url_2022.2" href="/cn/2022.2/Manual/UIE-create-tabbed-menu-for-runtime.html">2022.2</a></li>
<li class=""><a class="docs_version_url_2022.1" href="/cn/2022.1/Manual/UIE-create-tabbed-menu-for-runtime.html">2022.1</a></li>
<li class="supported"><a class="docs_version_url_2021.3" href="/cn/2021.3/Manual/UIE-create-tabbed-menu-for-runtime.html">2021.3</a></li>
<li class=""><a class="docs_version_url_2021.2" href="/cn/2021.2/Manual/UIE-create-tabbed-menu-for-runtime.html">2021.2</a></li>
<li class=""><a class="docs_version_url_2021.1" href="/cn/2021.1/Manual/UIE-create-tabbed-menu-for-runtime.html">2021.1</a></li>
<li class=""><a class="docs_version_url_2020.3" href="/cn/2020.3/Manual/UIE-create-tabbed-menu-for-runtime.html">2020.3</a></li>
<li class=""><a class="docs_version_url_2020.2" href="/cn/2020.2/Manual/UIE-create-tabbed-menu-for-runtime.html">2020.2</a></li>
<li class=""><a class="docs_version_url_2020.1" href="/cn/2020.1/Manual/UIE-create-tabbed-menu-for-runtime.html">2020.1</a></li>
<li class=""><a class="docs_version_url_2019.4" href="/cn/2019.4/Manual/UIE-create-tabbed-menu-for-runtime.html">2019.4</a></li>
<li class=""><a class="docs_version_url_2019.3" href="/cn/2019.3/Manual/UIE-create-tabbed-menu-for-runtime.html">2019.3</a></li>
<li class=""><a class="docs_version_url_2019.2" href="/cn/2019.2/Manual/UIE-create-tabbed-menu-for-runtime.html">2019.2</a></li>
<li class=""><a class="docs_version_url_2019.1" href="/cn/2019.1/Manual/UIE-create-tabbed-menu-for-runtime.html">2019.1</a></li>
<li class=""><a class="docs_version_url_2018.4" href="/cn/2018.4/Manual/UIE-create-tabbed-menu-for-runtime.html">2018.4</a></li>
<li class=""><a class="docs_version_url_2018.3" href="/cn/2018.3/Manual/UIE-create-tabbed-menu-for-runtime.html">2018.3</a></li>
<li class=""><a class="docs_version_url_2018.2" href="/cn/2018.2/Manual/UIE-create-tabbed-menu-for-runtime.html">2018.2</a></li>
<li class=""><a class="docs_version_url_2018.1" href="/cn/2018.1/Manual/UIE-create-tabbed-menu-for-runtime.html">2018.1</a></li>
<li class=""><a class="docs_version_url_2017.4" href="/cn/2017.4/Manual/UIE-create-tabbed-menu-for-runtime.html">2017.4</a></li>
<li class=""><a class="docs_version_url_2017.3" href="/cn/2017.3/Manual/UIE-create-tabbed-menu-for-runtime.html">2017.3</a></li>
<li class=""><a class="docs_version_url_2017.2" href="/cn/2017.2/Manual/UIE-create-tabbed-menu-for-runtime.html">2017.2</a></li>
<li class=""><a class="docs_version_url_2017.1" href="/cn/2017.1/Manual/UIE-create-tabbed-menu-for-runtime.html">2017.1</a></li>
<li class=""><a class="docs_version_url_560" href="/cn/560/Manual/UIE-create-tabbed-menu-for-runtime.html">5.6</a></li>
<div class="versionsWithThisPage" style="display:none;"><li><p>包含此页的版本：</p></li></div>
<div class="versionsWithoutThisPage" style="display:none;"><li><p>不含此页的版本：</p></li></div>
</ul>
<ul class="description">
<li>
<div class="supported-box"></div>受支持</li>
<li>
<div class="legacy-box"></div>旧版</li>
</ul>
</div>
</div>
<ul class="nav-menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">手册</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">脚本 API</a></li>
</ul>
<div class="lang-switcher">
<div class="current toggle" data-target=".lang-list">
<div class="lbl">语言:
        <span class="b">中文</span>
</div>
<div class="arrow"></div>
</div>
<div class="lang-list" style="display:none;"><ul>
<li><a data-lang="en" href="/2022.3/Documentation/Manual/UIE-create-tabbed-menu-for-runtime.html">English</a></li>
<li><a data-lang="cn" href="/cn/2022.3/Manual/UIE-create-tabbed-menu-for-runtime.html">中文</a></li>
<li><a data-lang="ja" href="/ja/2022.3/Manual/UIE-create-tabbed-menu-for-runtime.html">日本語</a></li>
<li><a data-lang="kr" href="/kr/2022.3/Manual/UIE-create-tabbed-menu-for-runtime.html">한국어</a></li>
</ul></div>
</div>
</div></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar hidden"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc">
<h2>手册</h2>
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>2022.3</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;">
<ul class="versions">
<li class="supported"><a class="docs_version_url_2023.2" href="/cn/2023.2/Manual/UIE-create-tabbed-menu-for-runtime.html">2023.2</a></li>
<li class=""><a class="docs_version_url_2023.1" href="/cn/2023.1/Manual/UIE-create-tabbed-menu-for-runtime.html">2023.1</a></li>
<li class="supported"><a class="docs_version_url_2022.3" href="/cn/2022.3/Manual/UIE-create-tabbed-menu-for-runtime.html">2022.3</a></li>
<li class=""><a class="docs_version_url_2022.2" href="/cn/2022.2/Manual/UIE-create-tabbed-menu-for-runtime.html">2022.2</a></li>
<li class=""><a class="docs_version_url_2022.1" href="/cn/2022.1/Manual/UIE-create-tabbed-menu-for-runtime.html">2022.1</a></li>
<li class="supported"><a class="docs_version_url_2021.3" href="/cn/2021.3/Manual/UIE-create-tabbed-menu-for-runtime.html">2021.3</a></li>
<li class=""><a class="docs_version_url_2021.2" href="/cn/2021.2/Manual/UIE-create-tabbed-menu-for-runtime.html">2021.2</a></li>
<li class=""><a class="docs_version_url_2021.1" href="/cn/2021.1/Manual/UIE-create-tabbed-menu-for-runtime.html">2021.1</a></li>
<li class=""><a class="docs_version_url_2020.3" href="/cn/2020.3/Manual/UIE-create-tabbed-menu-for-runtime.html">2020.3</a></li>
<li class=""><a class="docs_version_url_2020.2" href="/cn/2020.2/Manual/UIE-create-tabbed-menu-for-runtime.html">2020.2</a></li>
<li class=""><a class="docs_version_url_2020.1" href="/cn/2020.1/Manual/UIE-create-tabbed-menu-for-runtime.html">2020.1</a></li>
<li class=""><a class="docs_version_url_2019.4" href="/cn/2019.4/Manual/UIE-create-tabbed-menu-for-runtime.html">2019.4</a></li>
<li class=""><a class="docs_version_url_2019.3" href="/cn/2019.3/Manual/UIE-create-tabbed-menu-for-runtime.html">2019.3</a></li>
<li class=""><a class="docs_version_url_2019.2" href="/cn/2019.2/Manual/UIE-create-tabbed-menu-for-runtime.html">2019.2</a></li>
<li class=""><a class="docs_version_url_2019.1" href="/cn/2019.1/Manual/UIE-create-tabbed-menu-for-runtime.html">2019.1</a></li>
<li class=""><a class="docs_version_url_2018.4" href="/cn/2018.4/Manual/UIE-create-tabbed-menu-for-runtime.html">2018.4</a></li>
<li class=""><a class="docs_version_url_2018.3" href="/cn/2018.3/Manual/UIE-create-tabbed-menu-for-runtime.html">2018.3</a></li>
<li class=""><a class="docs_version_url_2018.2" href="/cn/2018.2/Manual/UIE-create-tabbed-menu-for-runtime.html">2018.2</a></li>
<li class=""><a class="docs_version_url_2018.1" href="/cn/2018.1/Manual/UIE-create-tabbed-menu-for-runtime.html">2018.1</a></li>
<li class=""><a class="docs_version_url_2017.4" href="/cn/2017.4/Manual/UIE-create-tabbed-menu-for-runtime.html">2017.4</a></li>
<li class=""><a class="docs_version_url_2017.3" href="/cn/2017.3/Manual/UIE-create-tabbed-menu-for-runtime.html">2017.3</a></li>
<li class=""><a class="docs_version_url_2017.2" href="/cn/2017.2/Manual/UIE-create-tabbed-menu-for-runtime.html">2017.2</a></li>
<li class=""><a class="docs_version_url_2017.1" href="/cn/2017.1/Manual/UIE-create-tabbed-menu-for-runtime.html">2017.1</a></li>
<li class=""><a class="docs_version_url_560" href="/cn/560/Manual/UIE-create-tabbed-menu-for-runtime.html">5.6</a></li>
<div class="versionsWithThisPage" style="display:none;"><li><p>包含此页的版本：</p></li></div>
<div class="versionsWithoutThisPage" style="display:none;"><li><p>不含此页的版本：</p></li></div>
</ul>
<ul class="description">
<li>
<div class="supported-box"></div>受支持</li>
<li>
<div class="legacy-box"></div>旧版</li>
</ul>
</div>
</div>
<div class="clear"></div>
</div></div></div></div></div>
<div id="content-wrap" class="content-wrap opened-sidebar"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UnityManual.html">Unity User Manual 2022.3 (LTS)</a></li>
<li><a href="UIToolkits.html">Create user interfaces (UI)</a></li>
<li><a href="UIElements.html">UI 工具包</a></li>
<li><a href="UIE-structure-ui.html">Structure UI</a></li>
<li><a href="UIE-uxml-examples.html">Structure UI examples</a></li>
<li>Create a tabbed menu for runtime</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="UIE-wrap-content-inside-scrollview.html"></a></span><div class="tip">Wrap content inside a scroll view</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="UIE-create-a-popup-window.html"></a></span><div class="tip">Create a pop-up window</div>
</div>
</div></div>
<h1>Create a tabbed menu for runtime</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p><strong>Version:</strong> 2021.3+</p>

<p>Tabbed menus are common in video games and application UI. You can use UI Toolkit to create a tabbed menu for a custom Editor window or runtime. This example demonstrates how to create a tabbed menu in the sample scene. </p>

<h2>Example overview</h2>

<p>This example adds a menu in the sample scene. The menu has three tabs. Each tab presents certain content. When you click a tab, only the content associated with that tab is displayed. </p>

<figure>
<img src="../uploads/Main/UIBuilder/TabbedMenu.gif" alt="A preview of tabbed menu">
<figcaption>A preview of tabbed menu</figcaption>
</figure>

<p>To create tabbed content, you need to define the menu elements, styles, and logic.</p>

<p>You can find the completed files that this example creates in this <a href="https://github.com/Unity-Technologies/ui-toolkit-manual-code-examples/tree/master/create-a-tabbed-menu-for-runtime">GitHub repository</a>.</p>

<h2>先决条件</h2>

<p>This guide is for developers familiar with Unity, UI Toolkit, <a href="https://www.w3schools.com/css/css3_flexbox.asp">Flexbox</a>, and C# scripting. Before you start, get familiar with the following:</p>

<ul>
<li><a href="UIE-uxml-element-Label.html">Label</a></li>
<li><a href="UIE-USS.html">USS</a></li>
<li><a href="UIBuilder.html">UI Builder</a></li>
<li>
<a href="UIE-LayoutEngine.html">Positioning elements</a> with <a href="https://www.w3schools.com/css/css3_flexbox.asp">Flexbox</a>
</li>
</ul>

<h2>Define the tabbed menu elements</h2>

<p>Create two sections in your menu using the UI Builder, one for tabs and one for the content of tabs. In these sections, create three tab elements and three tab content elements.</p>

<ol>
<li><p>Create a project in Unity with any template.</p></li>
<li><p>Click <strong>GameObject</strong> &gt; <strong>UI Toolkit</strong> &gt; <strong>UI Document</strong> to add a UI Document in the sample scene.</p></li>
<li><p>Create a folder in <code>Assets</code> named <code>TabbedMenu</code> to store all your files.</p></li>
<li><p>In the <code>TabbedMenu</code> folder, create a UI Document named <code>TabbedMenu.uxml</code>.</p></li>
<li><p>Double-click <code>TabbedMenu.uxml</code> to open it in the UI Builder.</p></li>
<li><p>Add two VisualElements named <code>tabs</code> and <code>tabContent</code> under the root.</p></li>
<li>
<p>Under <code>tabs</code>, add three Label controls and give them the following Label texts:</p>

<ul>
<li><code>London</code></li>
<li><code>Paris</code></li>
<li><code>Ottawa</code></li>
</ul>
</li>
<li>
<p>Under <code>tabContent</code>, add three Label controls and give them the following Label texts:</p>

<ul>
<li><code>London is the capital city of England</code></li>
<li><code>Paris is the capital of France</code></li>
<li><code>Ottawa is the capital of Canada</code></li>
</ul>
</li>
<li>
<p>To associate the tab content with the tab, this example uses the same prefixes but different suffixes for the Label names. Each tab name has the <code>Tab</code> suffix and each tab content has the <code>Content</code> suffix. Set the tab Label names and content Label names to the following:</p>

<ul>
<li><code>LondonTab</code></li>
<li><code>ParisTab</code></li>
<li><code>OttawaTab</code></li>
<li><code>LondonContent</code></li>
<li><code>ParisContent</code></li>
<li><code>OttawaContent</code></li>
</ul>
</li>
</ol>

<p>Your UI Builder Hierarchy looks like the following:</p>

<figure>
<img src="../uploads/Main/UIBuilder/TabbedMenu-uxml.png" alt="UI Builder Hierarchy">
<figcaption>UI Builder Hierarchy</figcaption>
</figure>

<h2>Define the tabbed menu styles</h2>

<p>Define the layout for tabs and tab content using USS. You can style the tabs and the tab content the way you like. This example arranges tabs in a row and on top of the tab content. It adds a background color for the selected tab and hides the un-selected tab content.</p>

<ol>
<li><p>In the <code>TabbedMenu</code> folder, create a stylesheet named <code>TabbedMenu.uss</code>.</p></li>
<li>
<p>Open <code>TabbedMenu.uss</code> and add the following styling rules:</p>

<pre><code class="lang-css">/* Style for tabs */
#tabs {
    flex-direction: row;
    background-color: rgb(229, 223, 223);
    -unity-font-style: bold;
    font-size: 14px;
}

/* Sets each label in tabs to have the same size. */
.tab {
    flex-grow: 1;
}

/* Adds background color for the selected tab */
.currentlySelectedTab {
    background-color: rgb(173, 166, 166);
}

/* Style for tabContent */
#tabContent {
    background-color: rgb(255, 255, 255);
    font-size: 20px;
}

/* Hides the unselected tab content */
.unselectedContent {
    display: none;
}
</code></pre>
</li>
<li><p>Open <code>TabbedMenu.uxml</code> in UI Builder.</p></li>
<li><p>Click <strong>Add Existing USS</strong> and select <code>TabbedMenu.uss</code>.</p></li>
<li>
<p>Apply your styles to the UI controls:</p>

<ul>
<li>Apply <code>.tab</code> to each label under <code>tabs</code>
</li>
<li>Apply <code>.currentlySelectedTab</code> to <code>LondonTab</code>
</li>
<li>Apply <code>.unselectedContent</code> to <code>ParisContent</code> and <code>OttawaContent</code>
</li>
</ul>
</li>
</ol>

<p>The finished <code>TabbedMenu.uxml</code> looks like the following:</p>

<pre><code class="lang-xml">&lt;ui:UXML xmlns:ui="UnityEngine.UIElements" xmlns:uie="UnityEditor.UIElements" xsi="http://www.w3.org/2001/XMLSchema-instance" engine="UnityEngine.UIElements" editor="UnityEditor.UIElements" noNamespaceSchemaLocation="../../../UIElementsSchema/UIElements.xsd" editor-extension-mode="False"&gt;
   /* Your src might look different. If you save your UXML in UI Builder, USS file is referenced by the file location, fileID and guid. */
   &lt;Style src="TabbedMenu-style.uss" /&gt;
   &lt;ui:VisualElement&gt;
        &lt;ui:VisualElement name="tabs"&gt;
            &lt;ui:Label name="LondonTab" text="London" class="tab currentlySelectedTab" /&gt;
            &lt;ui:Label name="ParisTab" text="Paris" class="tab" /&gt;
            &lt;ui:Label name="OttawaTab" text="Ottawa" class="tab" /&gt;
        &lt;/ui:VisualElement&gt;
        &lt;ui:VisualElement name="tabContent"&gt;
            &lt;ui:Label text="London is the capital city of England" name="LondonContent" /&gt;
            &lt;ui:Label text="Paris is the capital of France" name="ParisContent" class="unselectedContent" /&gt;
            &lt;ui:Label text="Ottawa is the capital of Canada" name="OttawaContent" class="unselectedContent" /&gt;
        &lt;/ui:VisualElement&gt;
   &lt;/ui:VisualElement&gt;
&lt;/ui:UXML&gt;
</code></pre>

<h2>Set up the scene</h2>

<p>Create a UIDocument GameObject in the SampleScene and add the UI Document as the source asset.</p>

<ol>
<li>In the SampleScene, select <strong>GameObject</strong> &gt; <strong>UI Toolkit</strong> &gt; <strong>UI Document</strong>.</li>
<li>Select the <strong>UIDocument</strong> GameObject in the hierarchy and drag <strong>TabbedMenu.uxml</strong> from your Project window to the <strong>Source Asset</strong> field of the UI Document component in the Inspector window. This references the source asset to the UXML file you created.</li>
</ol>

<h2>Define the tabbed menu logic</h2>

<p>Create a C# script that change the displayed tab content. When a user clicks a tab, the tab’s content displays and the current content hides. Create a MonoBehaviour script that attaches the tabbed menu logic to the game.</p>

<ol>
<li>
<p>In the <code>TabbedMenu</code> folder, create a C# script named <code>TabbedMenuController.cs</code> with the following contents:</p>

<pre><code class="lang-cs">// This script defines the tab selection logic.
using UnityEngine.UIElements;

public class TabbedMenuController
{
    /* Define member variables*/
    private const string tabClassName = "tab";
    private const string currentlySelectedTabClassName = "currentlySelectedTab";
    private const string unselectedContentClassName = "unselectedContent";
    // Tab and tab content have the same prefix but different suffix
    // Define the suffix of the tab name
    private const string tabNameSuffix = "Tab";
    // Define the suffix of the tab content name
    private const string contentNameSuffix = "Content";

    private readonly VisualElement root;

    public TabbedMenuController(VisualElement root)
    {
        this.root = root;
    }

    public void RegisterTabCallbacks()
    {
        UQueryBuilder&lt;Label&gt; tabs = GetAllTabs();
        tabs.ForEach((Label tab) =&gt; {
            tab.RegisterCallback&lt;ClickEvent&gt;(TabOnClick);
        });
    }

    /* Method for the tab on-click event: 

       - If it is not selected, find other tabs that are selected, unselect them 
       - Then select the tab that was clicked on
    */
    private void TabOnClick(ClickEvent evt)
    {
        Label clickedTab = evt.currentTarget as Label;
        if (!TabIsCurrentlySelected(clickedTab))
        {
            GetAllTabs().Where(
                (tab) =&gt; tab != clickedTab &amp;&amp; TabIsCurrentlySelected(tab)
            ).ForEach(UnselectTab);
            SelectTab(clickedTab);
        }
    }
    //Method that returns a Boolean indicating whether a tab is currently selected
    private static bool TabIsCurrentlySelected(Label tab)
    {
        return tab.ClassListContains(currentlySelectedTabClassName);
    }

    private UQueryBuilder&lt;Label&gt; GetAllTabs()
    {
        return root.Query&lt;Label&gt;(className: tabClassName);
    }

    /* Method for the selected tab: 
       -  Takes a tab as a parameter and adds the currentlySelectedTab class
       -  Then finds the tab content and removes the unselectedContent class */
    private void SelectTab(Label tab)
    {
        tab.AddToClassList(currentlySelectedTabClassName);
        VisualElement content = FindContent(tab);
        content.RemoveFromClassList(unselectedContentClassName);
    }

    /* Method for the unselected tab: 
       -  Takes a tab as a parameter and removes the currentlySelectedTab class
       -  Then finds the tab content and adds the unselectedContent class */
    private void UnselectTab(Label tab)
    {
        tab.RemoveFromClassList(currentlySelectedTabClassName);
        VisualElement content = FindContent(tab);
        content.AddToClassList(unselectedContentClassName);
    }

    // Method to generate the associated tab content name by for the given tab name
    private static string GenerateContentName(Label tab) =&gt;
        tab.name.Replace(tabNameSuffix, contentNameSuffix);

    // Method that takes a tab as a parameter and returns the associated content element
    private VisualElement FindContent(Label tab)
    {
        return root.Q(GenerateContentName(tab));
    }
}
</code></pre>
</li>
<li>
<p>In the <code>TabbedMenu</code> folder, create a C# script named<code>TabbedMenu.cs</code> with the following contents:</p>

<pre><code class="lang-cs">// This script attaches the tabbed menu logic to the game.
using UnityEngine;
using UnityEngine.UIElements;

//Inherits from class `MonoBehaviour`. This makes it attachable to a game object as a component.
public class TabbedMenu : MonoBehaviour
{
    private TabbedMenuController controller;

    private void OnEnable()
    {
        UIDocument menu = GetComponent&lt;UIDocument&gt;();
        VisualElement root = menu.rootVisualElement;

        controller = new(root);

        controller.RegisterTabCallbacks();
    }
}
</code></pre>
</li>
<li><p>Select <strong>UIDocument</strong> in the SampleScene and drag the <code>TabbedMenu.cs</code> to <strong>Add Component</strong> in the Inspector. </p></li>
<li><p>Enter Play mode and click different tabs to see different contents.</p></li>
</ol>

<h2>其他资源</h2>

<ul>
<li><a href="UIE-get-started-with-runtime-ui.html">Get started with runtime UI</a></li>
<li><a href="UIE-render-runtime-ui.html">Render UI in the Game view</a></li>
<li><a href="UIE-Runtime-Panel-Settings.html">Panel Settings properties</a></li>
<li><a href="UIE-Runtime-Event-System.html">Runtime event system</a></li>
</ul>
<div id="_content"></div>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="UIE-wrap-content-inside-scrollview.html"></a></span><div class="tip">Wrap content inside a scroll view</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="UIE-create-a-popup-window.html"></a></span><div class="tip">Create a pop-up window</div>
</div>
</div>
</div>
<div class="footer-wrapper"><div class="footer clear">
<div class="copy">Copyright © 2022 Unity Technologies. Publication 2022.3</div>
<div class="menu">
<a href="https://learn.unity.com/">教程</a><a href="https://answers.unity3d.com">社区答案</a><a href="https://support.unity3d.com/hc/en-us">知识库</a><a href="https://forum.unity3d.com">论坛</a><a href="https://unity3d.com/asset-store">Asset Store</a><a href="https://docs.unity3d.com/Manual/TermsOfUse.html">商标和使用条款</a><a href="https://unity.com/legal">法律条款</a><a href="https://unity.com/legal/privacy-policy">隐私政策</a><a href="https://unity.com/legal/cookie-policy">Cookie</a><a href="https://unity.com/legal/do-not-sell-my-personal-information">不要出售或分享我的个人信息</a><div id="ot-sdk-btn-container"><a id="ot-sdk-btn" class="ot-sdk-show-settings" href="javascript:void(0);">Your Privacy Choices (Cookie Settings)</a></div>
</div>
</div></div>
</div></div></div>
</div>
</body>
</html>
