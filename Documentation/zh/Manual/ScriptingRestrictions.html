<!DOCTYPE html><html class="no-js" lang="zh-cn">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link href="https://fonts.googleapis.com/css?family=Roboto&amp;display=swap" rel="stylesheet">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="twitter:card" content="summary">
<meta property="og:title" content="脚本限制 - Unity 手册">
<title>脚本限制 - Unity 手册</title>
<meta property="og:image" content="https://unity3d.com/files/images/ogimg.jpg">
<meta name="description" content="Unity 在支持的所有平台之间提供通用的脚本 API 和体验。但是，有些平台存在固有的限制。为帮助您了解这些限制，下表描述了每个平台和脚本后端适用的限制：">
<meta property="og:description" content="Unity 在支持的所有平台之间提供通用的脚本 API 和体验。但是，有些平台存在固有的限制。为帮助您了解这些限制，下表描述了每个平台和脚本后端适用的限制：">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="https://unity.com/themes/contrib/unity_base/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFiles/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFiles/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFiles/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFiles/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFiles/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFiles/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFiles/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFiles/images/favicons/tileicon-144x144.png">
<script type="text/javascript" src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" charset="UTF-8" data-domain-script="6e91be4c-3145-4ea2-aa64-89d716064836" data-dLayer-ignore="true" data-document-language="true"></script><script type="text/javascript">function OptanonWrapper() {}</script><script>window.dataLayer = window.dataLayer || []; dataLayer.push({ event: 'dataLayer-initialized', user: { user_unity_id: undefined, user_logged_in: 'no' }, environment: { environment_locale: '', environment_currency: undefined }});</script><script>var offline=(location.href.indexOf('docs.unity3d.com')==-1)?true:false;if(!offline){(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=   'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);  })(window,document,'script','dataLayer','GTM-5V25JL6');}</script><script>
      var docs_type = 'Manual';
      var lang = 'cn';
      var page = 'ScriptingRestrictions';
      if(!page) page = 'index';
      var version = '2022.3';
      var docs_versions = [{version: '2023.2',version_string: '2023.2',supported: true},{version: '2023.1',version_string: '2023.1',supported: false},{version: '2022.3',version_string: '2022.3',supported: true},{version: '2022.2',version_string: '2022.2',supported: false},{version: '2022.1',version_string: '2022.1',supported: false},{version: '2021.3',version_string: '2021.3',supported: true},{version: '2021.2',version_string: '2021.2',supported: false},{version: '2021.1',version_string: '2021.1',supported: false},{version: '2020.3',version_string: '2020.3',supported: false},{version: '2020.2',version_string: '2020.2',supported: false},{version: '2020.1',version_string: '2020.1',supported: false},{version: '2019.4',version_string: '2019.4',supported: false},{version: '2019.3',version_string: '2019.3',supported: false},{version: '2019.2',version_string: '2019.2',supported: false},{version: '2019.1',version_string: '2019.1',supported: false},{version: '2018.4',version_string: '2018.4',supported: false},{version: '2018.3',version_string: '2018.3',supported: false},{version: '2018.2',version_string: '2018.2',supported: false},{version: '2018.1',version_string: '2018.1',supported: false},{version: '2017.4',version_string: '2017.4',supported: false},{version: '2017.3',version_string: '2017.3',supported: false},{version: '2017.2',version_string: '2017.2',supported: false},{version: '2017.1',version_string: '2017.1',supported: false},{version: '5.6',version_string: '560',supported: false},];</script><script type="text/javascript" src="../StaticFiles/js/jquery.js"></script><script type="text/javascript" src="../StaticFiles/js/core.js"></script><script type="text/javascript" src="../StaticFiles/js/jquery.sidebar.min.js"></script><script type="text/javascript" src="docdata/toc.js"></script><script type="text/javascript" src=""></script><script type="text/javascript" src="../StaticFiles/js/custom.js"></script><script src="/StaticFilesConfig/feedback/feedback.js"></script><link rel="stylesheet" type="text/css" href="../StaticFiles/css/core.css">
<link rel="stylesheet" type="text/css" href="../StaticFiles/css/custom.css">
<link rel="canonical" href="https://docs.unity3d.com/cn/2022.3/Manual/ScriptingRestrictions.html">
<link rel="alternate" href="https://docs.unity3d.com/en/2022.3/Manual/ScriptingRestrictions.html" hreflang="en">
<link rel="alternate" href="https://docs.unity3d.com/cn/2022.3/Manual/ScriptingRestrictions.html" hreflang="zh">
<link rel="alternate" href="https://docs.unity3d.com/ja/2022.3/Manual/ScriptingRestrictions.html" hreflang="ja">
<link rel="alternate" href="https://docs.unity3d.com/kr/2022.3/Manual/ScriptingRestrictions.html" hreflang="ko">
<link rel="alternate" href="https://docs.unity3d.com/2022.3/Documentation/Manual/ScriptingRestrictions.html" hreflang="x-default">
</head>
<body>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div id="nav-open" for="nav-input"><span></span></div>
<div class="logo"><a href="./index.html"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="搜索手册..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul class="menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">手册</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">脚本 API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity3d.com/">
                unity3d.com
              </a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>2022.3</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;">
<ul class="versions">
<li class="supported"><a class="docs_version_url_2023.2" href="/cn/2023.2/Manual/ScriptingRestrictions.html">2023.2</a></li>
<li class=""><a class="docs_version_url_2023.1" href="/cn/2023.1/Manual/ScriptingRestrictions.html">2023.1</a></li>
<li class="supported"><a class="docs_version_url_2022.3" href="/cn/2022.3/Manual/ScriptingRestrictions.html">2022.3</a></li>
<li class=""><a class="docs_version_url_2022.2" href="/cn/2022.2/Manual/ScriptingRestrictions.html">2022.2</a></li>
<li class=""><a class="docs_version_url_2022.1" href="/cn/2022.1/Manual/ScriptingRestrictions.html">2022.1</a></li>
<li class="supported"><a class="docs_version_url_2021.3" href="/cn/2021.3/Manual/ScriptingRestrictions.html">2021.3</a></li>
<li class=""><a class="docs_version_url_2021.2" href="/cn/2021.2/Manual/ScriptingRestrictions.html">2021.2</a></li>
<li class=""><a class="docs_version_url_2021.1" href="/cn/2021.1/Manual/ScriptingRestrictions.html">2021.1</a></li>
<li class=""><a class="docs_version_url_2020.3" href="/cn/2020.3/Manual/ScriptingRestrictions.html">2020.3</a></li>
<li class=""><a class="docs_version_url_2020.2" href="/cn/2020.2/Manual/ScriptingRestrictions.html">2020.2</a></li>
<li class=""><a class="docs_version_url_2020.1" href="/cn/2020.1/Manual/ScriptingRestrictions.html">2020.1</a></li>
<li class=""><a class="docs_version_url_2019.4" href="/cn/2019.4/Manual/ScriptingRestrictions.html">2019.4</a></li>
<li class=""><a class="docs_version_url_2019.3" href="/cn/2019.3/Manual/ScriptingRestrictions.html">2019.3</a></li>
<li class=""><a class="docs_version_url_2019.2" href="/cn/2019.2/Manual/ScriptingRestrictions.html">2019.2</a></li>
<li class=""><a class="docs_version_url_2019.1" href="/cn/2019.1/Manual/ScriptingRestrictions.html">2019.1</a></li>
<li class=""><a class="docs_version_url_2018.4" href="/cn/2018.4/Manual/ScriptingRestrictions.html">2018.4</a></li>
<li class=""><a class="docs_version_url_2018.3" href="/cn/2018.3/Manual/ScriptingRestrictions.html">2018.3</a></li>
<li class=""><a class="docs_version_url_2018.2" href="/cn/2018.2/Manual/ScriptingRestrictions.html">2018.2</a></li>
<li class=""><a class="docs_version_url_2018.1" href="/cn/2018.1/Manual/ScriptingRestrictions.html">2018.1</a></li>
<li class=""><a class="docs_version_url_2017.4" href="/cn/2017.4/Manual/ScriptingRestrictions.html">2017.4</a></li>
<li class=""><a class="docs_version_url_2017.3" href="/cn/2017.3/Manual/ScriptingRestrictions.html">2017.3</a></li>
<li class=""><a class="docs_version_url_2017.2" href="/cn/2017.2/Manual/ScriptingRestrictions.html">2017.2</a></li>
<li class=""><a class="docs_version_url_2017.1" href="/cn/2017.1/Manual/ScriptingRestrictions.html">2017.1</a></li>
<li class=""><a class="docs_version_url_560" href="/cn/560/Manual/ScriptingRestrictions.html">5.6</a></li>
<div class="versionsWithThisPage" style="display:none;"><li><p>包含此页的版本：</p></li></div>
<div class="versionsWithoutThisPage" style="display:none;"><li><p>不含此页的版本：</p></li></div>
</ul>
<ul class="description">
<li>
<div class="supported-box"></div>受支持</li>
<li>
<div class="legacy-box"></div>旧版</li>
</ul>
</div>
</div>
<ul class="nav-menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">手册</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">脚本 API</a></li>
</ul>
<div class="lang-switcher">
<div class="current toggle" data-target=".lang-list">
<div class="lbl">语言:
        <span class="b">中文</span>
</div>
<div class="arrow"></div>
</div>
<div class="lang-list" style="display:none;"><ul>
<li><a data-lang="en" href="/2022.3/Documentation/Manual/ScriptingRestrictions.html">English</a></li>
<li><a data-lang="cn" href="/cn/2022.3/Manual/ScriptingRestrictions.html">中文</a></li>
<li><a data-lang="ja" href="/ja/2022.3/Manual/ScriptingRestrictions.html">日本語</a></li>
<li><a data-lang="kr" href="/kr/2022.3/Manual/ScriptingRestrictions.html">한국어</a></li>
</ul></div>
</div>
</div></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar hidden"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc">
<h2>手册</h2>
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>2022.3</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;">
<ul class="versions">
<li class="supported"><a class="docs_version_url_2023.2" href="/cn/2023.2/Manual/ScriptingRestrictions.html">2023.2</a></li>
<li class=""><a class="docs_version_url_2023.1" href="/cn/2023.1/Manual/ScriptingRestrictions.html">2023.1</a></li>
<li class="supported"><a class="docs_version_url_2022.3" href="/cn/2022.3/Manual/ScriptingRestrictions.html">2022.3</a></li>
<li class=""><a class="docs_version_url_2022.2" href="/cn/2022.2/Manual/ScriptingRestrictions.html">2022.2</a></li>
<li class=""><a class="docs_version_url_2022.1" href="/cn/2022.1/Manual/ScriptingRestrictions.html">2022.1</a></li>
<li class="supported"><a class="docs_version_url_2021.3" href="/cn/2021.3/Manual/ScriptingRestrictions.html">2021.3</a></li>
<li class=""><a class="docs_version_url_2021.2" href="/cn/2021.2/Manual/ScriptingRestrictions.html">2021.2</a></li>
<li class=""><a class="docs_version_url_2021.1" href="/cn/2021.1/Manual/ScriptingRestrictions.html">2021.1</a></li>
<li class=""><a class="docs_version_url_2020.3" href="/cn/2020.3/Manual/ScriptingRestrictions.html">2020.3</a></li>
<li class=""><a class="docs_version_url_2020.2" href="/cn/2020.2/Manual/ScriptingRestrictions.html">2020.2</a></li>
<li class=""><a class="docs_version_url_2020.1" href="/cn/2020.1/Manual/ScriptingRestrictions.html">2020.1</a></li>
<li class=""><a class="docs_version_url_2019.4" href="/cn/2019.4/Manual/ScriptingRestrictions.html">2019.4</a></li>
<li class=""><a class="docs_version_url_2019.3" href="/cn/2019.3/Manual/ScriptingRestrictions.html">2019.3</a></li>
<li class=""><a class="docs_version_url_2019.2" href="/cn/2019.2/Manual/ScriptingRestrictions.html">2019.2</a></li>
<li class=""><a class="docs_version_url_2019.1" href="/cn/2019.1/Manual/ScriptingRestrictions.html">2019.1</a></li>
<li class=""><a class="docs_version_url_2018.4" href="/cn/2018.4/Manual/ScriptingRestrictions.html">2018.4</a></li>
<li class=""><a class="docs_version_url_2018.3" href="/cn/2018.3/Manual/ScriptingRestrictions.html">2018.3</a></li>
<li class=""><a class="docs_version_url_2018.2" href="/cn/2018.2/Manual/ScriptingRestrictions.html">2018.2</a></li>
<li class=""><a class="docs_version_url_2018.1" href="/cn/2018.1/Manual/ScriptingRestrictions.html">2018.1</a></li>
<li class=""><a class="docs_version_url_2017.4" href="/cn/2017.4/Manual/ScriptingRestrictions.html">2017.4</a></li>
<li class=""><a class="docs_version_url_2017.3" href="/cn/2017.3/Manual/ScriptingRestrictions.html">2017.3</a></li>
<li class=""><a class="docs_version_url_2017.2" href="/cn/2017.2/Manual/ScriptingRestrictions.html">2017.2</a></li>
<li class=""><a class="docs_version_url_2017.1" href="/cn/2017.1/Manual/ScriptingRestrictions.html">2017.1</a></li>
<li class=""><a class="docs_version_url_560" href="/cn/560/Manual/ScriptingRestrictions.html">5.6</a></li>
<div class="versionsWithThisPage" style="display:none;"><li><p>包含此页的版本：</p></li></div>
<div class="versionsWithoutThisPage" style="display:none;"><li><p>不含此页的版本：</p></li></div>
</ul>
<ul class="description">
<li>
<div class="supported-box"></div>受支持</li>
<li>
<div class="legacy-box"></div>旧版</li>
</ul>
</div>
</div>
<div class="clear"></div>
</div></div></div></div></div>
<div id="content-wrap" class="content-wrap opened-sidebar"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UnityManual.html">Unity User Manual 2022.3 (LTS)</a></li>
<li><a href="ScriptingSection.html">脚本</a></li>
<li><a href="unity-architecture.html">Unity 架构</a></li>
<li><a href="scripting-backends.html">脚本后端</a></li>
<li>脚本限制</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="IL2CPP-managed-stack-traces.html"></a></span><div class="tip">托管堆栈跟踪与 IL2CPP</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="ManagedCodeStripping.html"></a></span><div class="tip">托管代码剥离</div>
</div>
</div></div>
<h1>脚本限制</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p>Unity 在支持的所有平台之间提供通用的脚本 API 和体验。但是，有些平台存在固有的限制。为帮助您了解这些限制，下表描述了每个平台和脚本后端适用的限制：</p>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;"><strong>平台（脚本后端）</strong></th>
	<th style="text-align:left;"><strong>提前编译</strong></th>
	<th style="text-align:left;"><strong>Supports threads</strong></th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;">Android (IL2CPP)</td>
	<td style="text-align:left;">是</td>
	<td style="text-align:left;">是</td>
</tr>
<tr>
	<td style="text-align:left;">Android (Mono)</td>
	<td style="text-align:left;">否</td>
	<td style="text-align:left;">是</td>
</tr>
<tr>
	<td style="text-align:left;">iOS (IL2CPP)</td>
	<td style="text-align:left;">是</td>
	<td style="text-align:left;">是</td>
</tr>
<tr>
	<td style="text-align:left;">独立平台 (IL2CPP)</td>
	<td style="text-align:left;">是</td>
	<td style="text-align:left;">是</td>
</tr>
<tr>
	<td style="text-align:left;">独立平台 (Mono)</td>
	<td style="text-align:left;">否</td>
	<td style="text-align:left;">是</td>
</tr>
<tr>
	<td style="text-align:left;">通用 Windows 平台 (IL2CPP)</td>
	<td style="text-align:left;">是</td>
	<td style="text-align:left;">是</td>
</tr>
<tr>
	<td style="text-align:left;">WebGL (IL2CPP)</td>
	<td style="text-align:left;">是</td>
	<td style="text-align:left;">否</td>
</tr>
</tbody>
</table>

<p><a name="AOT"></a> </p>

<h2>Ahead-of-time compile (AOT)</h2>

<p>有些平台不允许生成运行时代码。因此，任何依赖于在目标设备上即时 (JIT) 编译的托管代码都将失败。相反，必须提前 (AOT) 编译所有托管代码。通常，这种区别并不重要，但在少数特定情况下，AOT 平台需要额外注意。</p>

<h3>Reflection</h3>

<p>Reflection is supported on AOT platforms. However if this compiler cannot infer that the code is used via reflection the code may not exist at runtime. See [[wiki:ManagedCodeStripping|Managed Code Stripping]] for more information.</p>

<h3>System.Reflection.Emit</h3>

<p>An AOT platform cannot implement any of the methods in the <code>System.Reflection.Emit</code> namespace.</p>

<h3>序列化</h3>

<p>AOT platforms might encounter issues with serialization and deserialization because of the use of reflection. If a type or method is only used via reflection as part of serialization or deserialization, the AOT compiler cannot detect that it needs to generate the code needs for the type or method.</p>

<h3>Generic Types and Methods</h3>

<p>For generic types and methods the compiler must determine which generic instances are used because different generic instances may require different code. For example the code for <code>List&lt;int&gt;</code> is different than it is for <code>List&lt;double&gt;</code>. However IL2CPP will share code for usages for reference types, so the same code will be used for <code>List&lt;object&gt;</code> and <code>List&lt;string&gt;</code>.</p>

<p>It is possible to reference generic types and methods that IL2CPP did not find a compile time in the following cases:</p>

<ol>
<li>Creating a new generic instance at runtime: <code>Activator.CreateInstance(typeof(SomeGenericType&lt;&gt;).MakeGenericType(someType));</code>
</li>
<li>Invoking a static method on a generic instance: <code>typeof(SomeGenericType&lt;&gt;).MakeGenericType(someType)).GetMethod("AMethod").Invoke(null, null);</code>
</li>
<li>Invoking a static generic method: <code>typeof(SomeType).GetMethod("GenericMethod").MakeGenericMethod(someType).Invoke(null, null);</code>
</li>
<li>Some calls to generic virtual functions that cannot be inferred at compile time.</li>
<li>Calls with deeply nested generic value types. e.g. <code>Struct&lt;Struct&lt;Struct&lt;...&lt;Struct&lt;int&gt;&gt;&gt;&gt;</code>.</li>
</ol>

<p>To support those cases IL2CPP generates generic code that will work with any type parameter. However this code is slower because it can make no assumptions on the size of the type or if it is a reference or value type. If you need to ensure that faster generic methods are generated you do the following:
* If the generic argument will always be a reference type, add the <code>where: class</code> constraint. Then IL2CPP will generate the fallback method using reference type sharing which causes no performance degradation.
* If the generic argument will always be a value type, add the <code>where: struct</code> constraint. This enables some optimizations, but since the value types can be different sizes the code will still be slower.
* Create a method named <code>UsedOnlyForAOTCodeGeneration</code> and add references to the generic types and methods you wish IL2CPP to generate. This method does not need (and probably shouldn’t) be called. The example below will ensure that a specialization for <code>GenericType&lt;MyStruct&gt;</code> will be generated.</p>

<pre><code class="lang-csharp">public void UsedOnlyForAOTCodeGeneration()
{
    // Ensure that IL2CPP will create code for MyGenericStruct
    // using MyStruct as an argument.
    new GenericType&lt;MyStruct&gt;();

    // Ensure that IL2CPP will create code for SomeType.GenericMethod
    // using MyStruct as an argument.
    new SomeType().GenericMethod&lt;MyStruct&gt;();

    public void OnMessage&lt;T&gt;(T value) 
    {
        Debug.LogFormat("Message value: {0}", value);
    }

    // Include an exception so we can be sure to know if this
    // method is ever called.
    throw new InvalidOperationException(
        "This method is used for AOT code generation only. " +
        "Do not call it at runtime.");
}
</code></pre>

<p>Note that when the “Faster (smaller) builds” setting is enabled only the single fully sharable version of generic code is compiled. This reduces the number of methods generated, reducing compile time and build size, but comes at the expense of runtime performance.</p>

<h3>从原生代码调用托管方法</h3>

<p>需要编组到 C 函数指针以便可以从原生代码调用的托管方法会在 AOT 平台上有一些限制：</p>

<ul>
<li>托管方法必须是静态方法</li>
<li>托管方法必须具有 <code>[MonoPInvokeCallback]</code> 属性</li>
<li>If the managed method is generic the <code>[MonoPInvokeCallback(Type)]</code> overload may be need to be used to specify the generic specializations that need to be supported. If so the type must be a generic instance with the correct number of generic arguments. It is possible to have multiple <code>[MonoPInvokeCallback]</code> attributes on a method as below:</li>
</ul>

<pre><code class="lang-csharp">// Generates reverse P/Invoke wrappers for NameOf&lt;long&gt; and NameOf&lt;int&gt;
// Note that the types are only used to indicate the generic arguments.
[MonoPInvokeCallback(typeof(Action&lt;long&gt;))]
[MonoPInvokeCallback(typeof(Action&lt;int&gt;))]
private static string NameOfT&lt;T&gt;(T item) 
{
    return typeof(T).Name;
}
</code></pre>

<p><a name="threads"></a> </p>

<h2>无线程</h2>

<p>有些平台不支持使用线程，因此任何使用 <code>System.Threading</code> 命名空间的托管代码都将在运行时失败。此外，.NET 类库的某些部分存在对线程的隐式依赖。一个常用的例子是 <code>System.Timers.Timer</code> 类，它依赖于对线程的支持。</p>

<h2>异常过滤器</h2>

<p>IL2CPP supports exception filters, however the execution order filter statements and catch blocks is different because IL2CPP uses C++ exceptions to implement managed exceptions. This will not be noticeable unless a filter blocks writes to a field.</p>

<h2>MarshalAs 和 FieldOffset 属性</h2>

<p>IL2CPP 不支持在运行时反射 <code>MarhsalAs</code> 和 <code>FieldOffset</code> 属性。它在编译时支持这些属性。应正确使用它们以进行正确的<a href="https://docs.microsoft.com/en-us/dotnet/framework/interop/marshaling-data-with-platform-invoke">平台调用编组</a>。</p>

<h2>动态关键字</h2>

<p>IL2CPP 不支持 C# <code>dynamic</code> 关键字。此关键字需要 JIT 编译，而 IL2CPP 无法实现。</p>

<h2>Marshal.Prelink</h2>

<p>IL2CPP does not support the <code>Marshal.Prelink</code> or <code>Marshal.PrelinkAll</code> API methods.</p>

<h2>System.Diagnostics.Process API</h2>

<p>IL2CPP doesn’t support the <code>System.Diagnostics.Process</code> API methods. For cases where this is required on desktop platforms, use the Mono scripting backend.</p>
<div id="_content"></div>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="IL2CPP-managed-stack-traces.html"></a></span><div class="tip">托管堆栈跟踪与 IL2CPP</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="ManagedCodeStripping.html"></a></span><div class="tip">托管代码剥离</div>
</div>
</div>
</div>
<div class="footer-wrapper"><div class="footer clear">
<div class="copy">Copyright © 2022 Unity Technologies. Publication 2022.3</div>
<div class="menu">
<a href="https://learn.unity.com/">教程</a><a href="https://answers.unity3d.com">社区答案</a><a href="https://support.unity3d.com/hc/en-us">知识库</a><a href="https://forum.unity3d.com">论坛</a><a href="https://unity3d.com/asset-store">Asset Store</a><a href="https://docs.unity3d.com/Manual/TermsOfUse.html">商标和使用条款</a><a href="https://unity.com/legal">法律条款</a><a href="https://unity.com/legal/privacy-policy">隐私政策</a><a href="https://unity.com/legal/cookie-policy">Cookie</a><a href="https://unity.com/legal/do-not-sell-my-personal-information">不要出售或分享我的个人信息</a><div id="ot-sdk-btn-container"><a id="ot-sdk-btn" class="ot-sdk-show-settings" href="javascript:void(0);">Your Privacy Choices (Cookie Settings)</a></div>
</div>
</div></div>
</div></div></div>
</div>
</body>
</html>
