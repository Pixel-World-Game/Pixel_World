<!DOCTYPE html><html class="no-js" lang="zh-cn">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link href="https://fonts.googleapis.com/css?family=Roboto&amp;display=swap" rel="stylesheet">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="twitter:card" content="summary">
<meta property="og:title" content="Customizing the Asset Database workflow - Unity 手册">
<title>Customizing the Asset Database workflow - Unity 手册</title>
<meta property="og:image" content="https://docs.unity3d.com/cn/2022.3/uploads/Main/AssetDatabaseCustomizingDiagram.png">
<meta name="description" content="Use the AssetDatabase class to customize your asset pipeline and create tools to access, load, create and manipulate assets with your own scripts, to extend the way the Editor works. It is an Editor class, so its features are not available at runtime in standalone builds.">
<meta property="og:description" content="Use the AssetDatabase class to customize your asset pipeline and create tools to access, load, create and manipulate assets with your own scripts, to extend the way the Editor works. It is an Editor class, so its features are not available at runtime in standalone builds.">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="https://unity.com/themes/contrib/unity_base/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFiles/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFiles/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFiles/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFiles/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFiles/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFiles/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFiles/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFiles/images/favicons/tileicon-144x144.png">
<script type="text/javascript" src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" charset="UTF-8" data-domain-script="6e91be4c-3145-4ea2-aa64-89d716064836" data-dLayer-ignore="true" data-document-language="true"></script><script type="text/javascript">function OptanonWrapper() {}</script><script>window.dataLayer = window.dataLayer || []; dataLayer.push({ event: 'dataLayer-initialized', user: { user_unity_id: undefined, user_logged_in: 'no' }, environment: { environment_locale: '', environment_currency: undefined }});</script><script>var offline=(location.href.indexOf('docs.unity3d.com')==-1)?true:false;if(!offline){(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=   'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);  })(window,document,'script','dataLayer','GTM-5V25JL6');}</script><script>
      var docs_type = 'Manual';
      var lang = 'cn';
      var page = 'AssetDatabaseCustomizingWorkflow';
      if(!page) page = 'index';
      var version = '2022.3';
      var docs_versions = [{version: '2023.2',version_string: '2023.2',supported: true},{version: '2023.1',version_string: '2023.1',supported: false},{version: '2022.3',version_string: '2022.3',supported: true},{version: '2022.2',version_string: '2022.2',supported: false},{version: '2022.1',version_string: '2022.1',supported: false},{version: '2021.3',version_string: '2021.3',supported: true},{version: '2021.2',version_string: '2021.2',supported: false},{version: '2021.1',version_string: '2021.1',supported: false},{version: '2020.3',version_string: '2020.3',supported: false},{version: '2020.2',version_string: '2020.2',supported: false},{version: '2020.1',version_string: '2020.1',supported: false},{version: '2019.4',version_string: '2019.4',supported: false},{version: '2019.3',version_string: '2019.3',supported: false},{version: '2019.2',version_string: '2019.2',supported: false},{version: '2019.1',version_string: '2019.1',supported: false},{version: '2018.4',version_string: '2018.4',supported: false},{version: '2018.3',version_string: '2018.3',supported: false},{version: '2018.2',version_string: '2018.2',supported: false},{version: '2018.1',version_string: '2018.1',supported: false},{version: '2017.4',version_string: '2017.4',supported: false},{version: '2017.3',version_string: '2017.3',supported: false},{version: '2017.2',version_string: '2017.2',supported: false},{version: '2017.1',version_string: '2017.1',supported: false},{version: '5.6',version_string: '560',supported: false},];</script><script type="text/javascript" src="../StaticFiles/js/jquery.js"></script><script type="text/javascript" src="../StaticFiles/js/core.js"></script><script type="text/javascript" src="../StaticFiles/js/jquery.sidebar.min.js"></script><script type="text/javascript" src="docdata/toc.js"></script><script type="text/javascript" src=""></script><script type="text/javascript" src="../StaticFiles/js/custom.js"></script><script src="/StaticFilesConfig/feedback/feedback.js"></script><link rel="stylesheet" type="text/css" href="../StaticFiles/css/core.css">
<link rel="stylesheet" type="text/css" href="../StaticFiles/css/custom.css">
<link rel="canonical" href="https://docs.unity3d.com/cn/2022.3/Manual/AssetDatabaseCustomizingWorkflow.html">
<link rel="alternate" href="https://docs.unity3d.com/en/2022.3/Manual/AssetDatabaseCustomizingWorkflow.html" hreflang="en">
<link rel="alternate" href="https://docs.unity3d.com/cn/2022.3/Manual/AssetDatabaseCustomizingWorkflow.html" hreflang="zh">
<link rel="alternate" href="https://docs.unity3d.com/ja/2022.3/Manual/AssetDatabaseCustomizingWorkflow.html" hreflang="ja">
<link rel="alternate" href="https://docs.unity3d.com/kr/2022.3/Manual/AssetDatabaseCustomizingWorkflow.html" hreflang="ko">
<link rel="alternate" href="https://docs.unity3d.com/2022.3/Documentation/Manual/AssetDatabaseCustomizingWorkflow.html" hreflang="x-default">
</head>
<body>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div id="nav-open" for="nav-input"><span></span></div>
<div class="logo"><a href="./index.html"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="搜索手册..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul class="menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">手册</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">脚本 API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity3d.com/">
                unity3d.com
              </a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>2022.3</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;">
<ul class="versions">
<li class="supported"><a class="docs_version_url_2023.2" href="/cn/2023.2/Manual/AssetDatabaseCustomizingWorkflow.html">2023.2</a></li>
<li class=""><a class="docs_version_url_2023.1" href="/cn/2023.1/Manual/AssetDatabaseCustomizingWorkflow.html">2023.1</a></li>
<li class="supported"><a class="docs_version_url_2022.3" href="/cn/2022.3/Manual/AssetDatabaseCustomizingWorkflow.html">2022.3</a></li>
<li class=""><a class="docs_version_url_2022.2" href="/cn/2022.2/Manual/AssetDatabaseCustomizingWorkflow.html">2022.2</a></li>
<li class=""><a class="docs_version_url_2022.1" href="/cn/2022.1/Manual/AssetDatabaseCustomizingWorkflow.html">2022.1</a></li>
<li class="supported"><a class="docs_version_url_2021.3" href="/cn/2021.3/Manual/AssetDatabaseCustomizingWorkflow.html">2021.3</a></li>
<li class=""><a class="docs_version_url_2021.2" href="/cn/2021.2/Manual/AssetDatabaseCustomizingWorkflow.html">2021.2</a></li>
<li class=""><a class="docs_version_url_2021.1" href="/cn/2021.1/Manual/AssetDatabaseCustomizingWorkflow.html">2021.1</a></li>
<li class=""><a class="docs_version_url_2020.3" href="/cn/2020.3/Manual/AssetDatabaseCustomizingWorkflow.html">2020.3</a></li>
<li class=""><a class="docs_version_url_2020.2" href="/cn/2020.2/Manual/AssetDatabaseCustomizingWorkflow.html">2020.2</a></li>
<li class=""><a class="docs_version_url_2020.1" href="/cn/2020.1/Manual/AssetDatabaseCustomizingWorkflow.html">2020.1</a></li>
<li class=""><a class="docs_version_url_2019.4" href="/cn/2019.4/Manual/AssetDatabaseCustomizingWorkflow.html">2019.4</a></li>
<li class=""><a class="docs_version_url_2019.3" href="/cn/2019.3/Manual/AssetDatabaseCustomizingWorkflow.html">2019.3</a></li>
<li class=""><a class="docs_version_url_2019.2" href="/cn/2019.2/Manual/AssetDatabaseCustomizingWorkflow.html">2019.2</a></li>
<li class=""><a class="docs_version_url_2019.1" href="/cn/2019.1/Manual/AssetDatabaseCustomizingWorkflow.html">2019.1</a></li>
<li class=""><a class="docs_version_url_2018.4" href="/cn/2018.4/Manual/AssetDatabaseCustomizingWorkflow.html">2018.4</a></li>
<li class=""><a class="docs_version_url_2018.3" href="/cn/2018.3/Manual/AssetDatabaseCustomizingWorkflow.html">2018.3</a></li>
<li class=""><a class="docs_version_url_2018.2" href="/cn/2018.2/Manual/AssetDatabaseCustomizingWorkflow.html">2018.2</a></li>
<li class=""><a class="docs_version_url_2018.1" href="/cn/2018.1/Manual/AssetDatabaseCustomizingWorkflow.html">2018.1</a></li>
<li class=""><a class="docs_version_url_2017.4" href="/cn/2017.4/Manual/AssetDatabaseCustomizingWorkflow.html">2017.4</a></li>
<li class=""><a class="docs_version_url_2017.3" href="/cn/2017.3/Manual/AssetDatabaseCustomizingWorkflow.html">2017.3</a></li>
<li class=""><a class="docs_version_url_2017.2" href="/cn/2017.2/Manual/AssetDatabaseCustomizingWorkflow.html">2017.2</a></li>
<li class=""><a class="docs_version_url_2017.1" href="/cn/2017.1/Manual/AssetDatabaseCustomizingWorkflow.html">2017.1</a></li>
<li class=""><a class="docs_version_url_560" href="/cn/560/Manual/AssetDatabaseCustomizingWorkflow.html">5.6</a></li>
<div class="versionsWithThisPage" style="display:none;"><li><p>包含此页的版本：</p></li></div>
<div class="versionsWithoutThisPage" style="display:none;"><li><p>不含此页的版本：</p></li></div>
</ul>
<ul class="description">
<li>
<div class="supported-box"></div>受支持</li>
<li>
<div class="legacy-box"></div>旧版</li>
</ul>
</div>
</div>
<ul class="nav-menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">手册</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">脚本 API</a></li>
</ul>
<div class="lang-switcher">
<div class="current toggle" data-target=".lang-list">
<div class="lbl">语言:
        <span class="b">中文</span>
</div>
<div class="arrow"></div>
</div>
<div class="lang-list" style="display:none;"><ul>
<li><a data-lang="en" href="/2022.3/Documentation/Manual/AssetDatabaseCustomizingWorkflow.html">English</a></li>
<li><a data-lang="cn" href="/cn/2022.3/Manual/AssetDatabaseCustomizingWorkflow.html">中文</a></li>
<li><a data-lang="ja" href="/ja/2022.3/Manual/AssetDatabaseCustomizingWorkflow.html">日本語</a></li>
<li><a data-lang="kr" href="/kr/2022.3/Manual/AssetDatabaseCustomizingWorkflow.html">한국어</a></li>
</ul></div>
</div>
</div></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar hidden"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc">
<h2>手册</h2>
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>2022.3</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;">
<ul class="versions">
<li class="supported"><a class="docs_version_url_2023.2" href="/cn/2023.2/Manual/AssetDatabaseCustomizingWorkflow.html">2023.2</a></li>
<li class=""><a class="docs_version_url_2023.1" href="/cn/2023.1/Manual/AssetDatabaseCustomizingWorkflow.html">2023.1</a></li>
<li class="supported"><a class="docs_version_url_2022.3" href="/cn/2022.3/Manual/AssetDatabaseCustomizingWorkflow.html">2022.3</a></li>
<li class=""><a class="docs_version_url_2022.2" href="/cn/2022.2/Manual/AssetDatabaseCustomizingWorkflow.html">2022.2</a></li>
<li class=""><a class="docs_version_url_2022.1" href="/cn/2022.1/Manual/AssetDatabaseCustomizingWorkflow.html">2022.1</a></li>
<li class="supported"><a class="docs_version_url_2021.3" href="/cn/2021.3/Manual/AssetDatabaseCustomizingWorkflow.html">2021.3</a></li>
<li class=""><a class="docs_version_url_2021.2" href="/cn/2021.2/Manual/AssetDatabaseCustomizingWorkflow.html">2021.2</a></li>
<li class=""><a class="docs_version_url_2021.1" href="/cn/2021.1/Manual/AssetDatabaseCustomizingWorkflow.html">2021.1</a></li>
<li class=""><a class="docs_version_url_2020.3" href="/cn/2020.3/Manual/AssetDatabaseCustomizingWorkflow.html">2020.3</a></li>
<li class=""><a class="docs_version_url_2020.2" href="/cn/2020.2/Manual/AssetDatabaseCustomizingWorkflow.html">2020.2</a></li>
<li class=""><a class="docs_version_url_2020.1" href="/cn/2020.1/Manual/AssetDatabaseCustomizingWorkflow.html">2020.1</a></li>
<li class=""><a class="docs_version_url_2019.4" href="/cn/2019.4/Manual/AssetDatabaseCustomizingWorkflow.html">2019.4</a></li>
<li class=""><a class="docs_version_url_2019.3" href="/cn/2019.3/Manual/AssetDatabaseCustomizingWorkflow.html">2019.3</a></li>
<li class=""><a class="docs_version_url_2019.2" href="/cn/2019.2/Manual/AssetDatabaseCustomizingWorkflow.html">2019.2</a></li>
<li class=""><a class="docs_version_url_2019.1" href="/cn/2019.1/Manual/AssetDatabaseCustomizingWorkflow.html">2019.1</a></li>
<li class=""><a class="docs_version_url_2018.4" href="/cn/2018.4/Manual/AssetDatabaseCustomizingWorkflow.html">2018.4</a></li>
<li class=""><a class="docs_version_url_2018.3" href="/cn/2018.3/Manual/AssetDatabaseCustomizingWorkflow.html">2018.3</a></li>
<li class=""><a class="docs_version_url_2018.2" href="/cn/2018.2/Manual/AssetDatabaseCustomizingWorkflow.html">2018.2</a></li>
<li class=""><a class="docs_version_url_2018.1" href="/cn/2018.1/Manual/AssetDatabaseCustomizingWorkflow.html">2018.1</a></li>
<li class=""><a class="docs_version_url_2017.4" href="/cn/2017.4/Manual/AssetDatabaseCustomizingWorkflow.html">2017.4</a></li>
<li class=""><a class="docs_version_url_2017.3" href="/cn/2017.3/Manual/AssetDatabaseCustomizingWorkflow.html">2017.3</a></li>
<li class=""><a class="docs_version_url_2017.2" href="/cn/2017.2/Manual/AssetDatabaseCustomizingWorkflow.html">2017.2</a></li>
<li class=""><a class="docs_version_url_2017.1" href="/cn/2017.1/Manual/AssetDatabaseCustomizingWorkflow.html">2017.1</a></li>
<li class=""><a class="docs_version_url_560" href="/cn/560/Manual/AssetDatabaseCustomizingWorkflow.html">5.6</a></li>
<div class="versionsWithThisPage" style="display:none;"><li><p>包含此页的版本：</p></li></div>
<div class="versionsWithoutThisPage" style="display:none;"><li><p>不含此页的版本：</p></li></div>
</ul>
<ul class="description">
<li>
<div class="supported-box"></div>受支持</li>
<li>
<div class="legacy-box"></div>旧版</li>
</ul>
</div>
</div>
<div class="clear"></div>
</div></div></div></div></div>
<div id="content-wrap" class="content-wrap opened-sidebar"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UnityManual.html">Unity User Manual 2022.3 (LTS)</a></li>
<li><a href="AssetWorkflow.html">资源工作流程</a></li>
<li><a href="AssetDatabase.html">资源数据库</a></li>
<li>Customizing the Asset Database workflow</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="AssetDatabaseRefreshing.html"></a></span><div class="tip">刷新资源数据库</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="AssetDatabaseBatching.html"></a></span><div class="tip">AssetDatabase 批处理</div>
</div>
</div></div>
<h1>Customizing the Asset Database workflow</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p>Use the <a href="../ScriptReference/AssetDatabase.html">AssetDatabase</a> class to customize your asset pipeline and create tools to access, load, create and manipulate assets with your own scripts, to extend the way the Editor works. It is an Editor class, so its features are not available at runtime in standalone builds.</p>

<h2>Customize your asset workflow</h2>

<p>The AssetDatabase class has a large number of methods that allow you to access and perform operations on assets in exactly the same way that the Unity Editor itself does. You can create, import, delete, copy, move, load, and save assets, and search the asset database.</p>

<p>This means you can create anything from simple adjustments to powerful tools and customizations to your project’s asset workflow, using Unity’s <a href="../ScriptReference/Editor.html">Editor scripting</a> and <a href="editor-EditorWindows.html">Editor window customization</a>.</p>

<p>For a simple example, see the documentation for the <a href="../ScriptReference/AssetDatabase.ForceReserializeAssets.html">AssetDatabase.ForceReserializeAssets</a> method. It shows how you can add a menu item to the Editor that gives you more control over how certain asset bundles should be upgraded when you upgrade your project to a newer version of Unity.</p>

<p>For the full list of methods available, and documentation for each of the methods, see the <a href="../ScriptReference/AssetDatabase.html">AssetDatabase scripting API</a> page.</p>

<h2>Asset objects</h2>

<p>From a scripting point of view, what Unity considers an “asset” is slightly different than what you see displayed in the Project window. The files that you place in your project’s <strong>Assets </strong>folder are the source files for your assets, but they differ conceptually to the asset objects that the Unity Editor works with. When Unity imports asset files, it processes them and generates an imported result: serialized C# objects that derive from UnityEngine.Object. From a scripting point-of-view, the assets that you have access to when scripting in the Unity Editor are these imported results.</p>

<p>For example, an asset that might start off as a binary file, such as a JPEG or PNG image file, is converted to a C# object whose type is a specialization of UnityEngine.Object. In the case of JPEG or PNG files, they are converted to serialized instances of the <a href="../ScriptReference/Texture.html">Texture</a> class, which in turn inherits from UnityEngine.Object. The serialized object data is then stored as an artifact in the Library folder. So, when you access a Texture asset with a script, you are not accessing the original JPEG or PNG file, you are accessing the serialized version of the C# Texture object that was generated when the original image file was imported. The <a href="AssetMetadata.html"><strong>.meta</strong> file which Unity creates</a> during the import process, stored next to the original asset file, contains the asset’s import settings, and contains a GUID which allows Unity to connect the original asset file with the artifact in the asset database.</p>

<figure>
<img src="../uploads/Main/AssetDatabaseCustomizingDiagram.png" alt="When you import an asset, Unity creates a .meta file in the Assets folder, and an artifact file in the Library folder">
<figcaption>When you import an asset, Unity creates a .meta file in the Assets folder, and an artifact file in the Library folder</figcaption>
</figure>

<h2>Inside asset files and artifact files</h2>

<p>Some types of asset files that Unity itself creates, such as <strong>.prefab</strong>, <strong>.scene</strong>, <strong>.asset</strong>, and <strong>.mat</strong>, already contain serialized data in their source file, so the artifact file that Unity produces and caches is very similar to the source file. The source files for these, for example a <strong>.mat</strong> material file in your project’s <strong>Assets</strong> folder, are human-readable (provided <strong><a href="class-EditorManager.html">Asset Serialization Mode</a></strong> is set to <strong>Force Text</strong>, which is the default setting). This is in contrast to binary asset files imported from external sources such as textures or audio, where the files are not normally human-readable.</p>

<p>Asset files can contain multiple serialized objects, and each of these can be considered an “asset” for the purposes of scripting with the AssetDatabase methods. For example, a <strong>.prefab</strong> asset file could contain a serialized GameObject with multiple components attached. Each of those components are also serialized as objects in the asset file, and so when accessing the contents of the prefab asset using AssetDatabase methods, the component objects within the asset file are considered <strong>sub assets</strong>, (explained in more detail below).</p>

<p>The serialized objects generated during the import process are called <strong>artifacts</strong>, and Unity stores them in the Asset Database’s cache of import artifacts, in the <strong>Library</strong> folder of your project. They are treated as cached data because Unity can always regenerate them from the source assets, using the importer settings and project settings saved in your project.</p>

<p>You can inspect the artifacts produced for the assets in your project by using the <a href="ImportActivityWindow.html">Import Activity window</a>, which reveals the specific cached artifact files that Unity generates, along with other useful information such as when the import happened, and how long it took.</p>

<p>Each artifact file name is a unique hash (a <a href="https://en.wikipedia.org/wiki/Universally_unique_identifier">GUID</a>) with no file extension. Unity separates these files into subfolders, each subfolder with a name matching the first two characters of the artifact filename. </p>

<p>These artifact files contain binary data, and are not designed to be human-readable. While it’s useful to understand that these files contain the data used by the asset database, you do not need to view, edit, or use these files directly while working with Unity. Instead, the AssetDatabase class provides the methods necessary to work with assets within the Editor.</p>

<h2>Main assets and sub-assets</h2>

<p>Because Unity can store multiple serialized objects within the same asset file, Unity has a concept of the <strong>main asset</strong> within any asset file. When Unity creates asset files that contain a single asset, such as a material, the main asset is always that single asset. For other types containing more than one serialized asset object, the main asset is always the first asset added to the file, unless otherwise specified with the <a href="../ScriptReference/AssetDatabase.SetMainObject.html">SetMainObject</a> method.</p>

<p>You can sometimes see sub-assets in the Project window of the Editor, if those sub-assets are of certain types. For example, looking at this FBX asset file containing a “Space Frigate” model in the Project window, its view has been expanded to reveal that it has a material and a mesh as sub-assets.</p>

<figure>
<img src="../uploads/Main/AssetDatabaseCustomizingSubAssets.png" alt="An FBX asset file in the Project window, showing two sub-assets, a material and mesh">
<figcaption>An FBX asset file in the Project window, showing two sub-assets, a material and mesh</figcaption>
</figure>

<p>Assets can also have sub-asset types that do not show in the Project window like this. For example, the “Space Frigate” asset file above actually contains more than the two sub-assets displayed in the Project window. You can see the real number of assets when you access the asset file using AssetDatabase methods, as demonstrated in the script below:</p>

<pre><code>using UnityEngine;
using UnityEditor;

public class Example : MonoBehaviour
{
    [MenuItem("AssetDatabase/InspectAssets")]

    private static void InspectAssets()
    {
        Object[] data = AssetDatabase.LoadAllAssetsAtPath("Assets/Space Frigate.fbx");

        Debug.Log(data.Length + " Assets");
        foreach (Object o in data)
        {
            Debug.Log(o);
        }
    }
}
</code></pre>

<p>In this case, the output would show that the imported, serialized version of this file contains six assets:</p>

<pre><code>6 Assets
Space Frigate (UnityEngine.GameObject)
space_frigate_0 (UnityEngine.Material)
space_frigate_0 (UnityEngine.Mesh)
Space Frigate (UnityEngine.Transform)
Space Frigate (UnityEngine.MeshRenderer)
Space Frigate (UnityEngine.MeshFilter)
</code></pre>

<p>This is because the GameObject, material, the mesh data itself, and each of the components that Unity automatically added to the GameObject during the import process (the Transform, the MeshFilter, and the MeshRenderer), each count as a separate serialized object. Therefore they are sub-assets of the asset file, and as far as the Asset Database API is concerned, are each a separate asset.</p>

<h2>Asset Import Order</h2>

<p>If you are scripting using the AssetDatabase class, it’s important to understand how the order of Unity’s import processes can affect your scripts, otherwise you may get unexpected results. The order is as follows:</p>

<ol>
<li>Import Script Assets (.cs, .dll, .asmdef files)</li>
<li><a href="script-compilation.html">Compilation</a></li>
<li><a href="DomainReloading.html">Domain reload</a></li>
<li>
<a href="../ScriptReference/InitializeOnLoadAttribute.html">InitializeOnLoad</a> callback</li>
<li>Import all other assets</li>
</ol>

<p>Scripts are always imported and compiled before all other regular assets, because the Editor needs to know whether there are custom <a href="../ScriptReference/AssetPostprocessor.html">asset post-processors</a> or <a href="../ScriptReference/AssetImporters.ScriptedImporter.html">scripted importers</a> in the project. This ensures that the Editor uses any new or changed importers or post-processors when importing the rest of the non-script assets.</p>

<p>The <strong><a href="../ScriptReference/InitializeOnLoadAttribute.html">InitializeOnLoad</a></strong> callback is often used to run some code on project startup or when scripts change. As shown in the list above, this callback is run after Unity reloads the domain, but before it starts importing assets. This means if you’re using the <strong>[InitializeOnLoad]</strong> callback to access assets, your code is executed <em>before</em> the current asset import cycle completes. In particular:</p>

<ul>
<li><p>For assets being imported for the first time, methods like <strong>AssetDatabase.LoadAssetAtPath, AssetDatabase.FindAssets, Shader.Find, Resources.Load</strong> will return null, since those assets have not yet been imported.</p></li>
<li><p>For assets that have already been imported at least once, methods like <strong>AssetDatabase.LoadAssetAtPath, AssetDatabase.FindAssets, Shader.Find, Resources.Load</strong> will return the previous (outdated) version of the asset if it was modified before reloading the domain, since domain reload occurs before the regular asset import phase.</p></li>
</ul>

<p>When you are writing scripted importers, asset pre-processors, and asset post-processors, you should not make your code assume that other specific assets are already imported according to any particular order. When importing, Unity groups assets into queues by type, and while the types are imported in a predefined order, assets within a queue of the same type are imported in an arbitrary order unless you use <a href="../ScriptReference/AssetImporters.ScriptedImporter.GatherDependenciesFromSourceFile.html">ScriptedImporter.GatherDependenciesFromSourceFile</a>. Using <code>GatherDependenciesFromSourceFile</code> also creates a dependency between the assets, so if one asset is modified, the other that depends on it is reimported. </p>
<div id="_content"></div>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="AssetDatabaseRefreshing.html"></a></span><div class="tip">刷新资源数据库</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="AssetDatabaseBatching.html"></a></span><div class="tip">AssetDatabase 批处理</div>
</div>
</div>
</div>
<div class="footer-wrapper"><div class="footer clear">
<div class="copy">Copyright © 2022 Unity Technologies. Publication 2022.3</div>
<div class="menu">
<a href="https://learn.unity.com/">教程</a><a href="https://answers.unity3d.com">社区答案</a><a href="https://support.unity3d.com/hc/en-us">知识库</a><a href="https://forum.unity3d.com">论坛</a><a href="https://unity3d.com/asset-store">Asset Store</a><a href="https://docs.unity3d.com/Manual/TermsOfUse.html">商标和使用条款</a><a href="https://unity.com/legal">法律条款</a><a href="https://unity.com/legal/privacy-policy">隐私政策</a><a href="https://unity.com/legal/cookie-policy">Cookie</a><a href="https://unity.com/legal/do-not-sell-my-personal-information">不要出售或分享我的个人信息</a><div id="ot-sdk-btn-container"><a id="ot-sdk-btn" class="ot-sdk-show-settings" href="javascript:void(0);">Your Privacy Choices (Cookie Settings)</a></div>
</div>
</div></div>
</div></div></div>
</div>
</body>
</html>
