<!DOCTYPE html>
<html class="no-js" lang="zh-cn">
  <head>
    <link href="https://fonts.googleapis.com/css?family=Roboto&amp;display=swap" rel="stylesheet" />
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="twitter:card" content="summary" />
    <meta property="og:title" content="SerializeReference - Unity 脚本 API" />
    <title>SerializeReference - Unity 脚本 API</title>
    <meta name="description" content="A scripting attribute that instructs Unity to serialize a field as a reference instead of as a value." />
    <meta property="og:description" content="A scripting attribute that instructs Unity to serialize a field as a reference instead of as a value." />
    <meta name="author" content="Unity Technologies" />
    <link rel="shortcut icon" href="https://unity.com/themes/contrib/unity_base/images/favicons/favicon.ico" />
    <link rel="icon" type="image/png" href="../StaticFiles/images/favicons/favicon.png" />
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFiles/images/favicons/apple-touch-icon-152x152.png" />
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFiles/images/favicons/apple-touch-icon-144x144.png" />
    <link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFiles/images/favicons/apple-touch-icon-120x120.png" />
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFiles/images/favicons/apple-touch-icon-114x114.png" />
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFiles/images/favicons/apple-touch-icon-72x72.png" />
    <link rel="apple-touch-icon-precomposed" href="../StaticFiles/images/favicons/apple-touch-icon.png" />
    <meta name="msapplication-TileColor" content="#222c37" />
    <meta name="msapplication-TileImage" content="../StaticFiles/images/favicons/tileicon-144x144.png" />
    <script type="text/javascript" src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" charset="UTF-8" data-domain-script="6e91be4c-3145-4ea2-aa64-89d716064836" data-dLayer-ignore="true" data-document-language="true">
    </script>
    <script type="text/javascript">function OptanonWrapper() {}</script>
    <script>window.dataLayer = window.dataLayer || []; dataLayer.push({ event: 'dataLayer-initialized', user: { user_unity_id: undefined, user_logged_in: 'no' }, environment: { environment_locale: '', environment_currency: undefined }});</script>
    <script>var offline=(location.href.indexOf('docs.unity3d.com')==-1)?true:false;if(!offline){(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=   'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);  })(window,document,'script','dataLayer','GTM-5V25JL6');}</script>
    <script>
      var docs_type = 'ScriptReference';
      var lang = 'cn';
      var page = 'SerializeReference';
      if(!page) page = 'index';
      var version = '2022.3';
      var docs_versions = [{version: '2023.2',version_string: '2023.2',supported: true},{version: '2023.1',version_string: '2023.1',supported: false},{version: '2022.3',version_string: '2022.3',supported: true},{version: '2022.2',version_string: '2022.2',supported: false},{version: '2022.1',version_string: '2022.1',supported: false},{version: '2021.3',version_string: '2021.3',supported: true},{version: '2021.2',version_string: '2021.2',supported: false},{version: '2021.1',version_string: '2021.1',supported: false},{version: '2020.3',version_string: '2020.3',supported: false},{version: '2020.2',version_string: '2020.2',supported: false},{version: '2020.1',version_string: '2020.1',supported: false},{version: '2019.4',version_string: '2019.4',supported: false},{version: '2019.3',version_string: '2019.3',supported: false},{version: '2019.2',version_string: '2019.2',supported: false},{version: '2019.1',version_string: '2019.1',supported: false},{version: '2018.4',version_string: '2018.4',supported: false},{version: '2018.3',version_string: '2018.3',supported: false},{version: '2018.2',version_string: '2018.2',supported: false},{version: '2018.1',version_string: '2018.1',supported: false},{version: '2017.4',version_string: '2017.4',supported: false},{version: '2017.3',version_string: '2017.3',supported: false},{version: '2017.2',version_string: '2017.2',supported: false},{version: '2017.1',version_string: '2017.1',supported: false},{version: '5.6',version_string: '560',supported: false},];</script>
    <script type="text/javascript" src="../StaticFiles/js/jquery.js">
    </script>
    <script type="text/javascript" src="../StaticFiles/js/core.js">
    </script>
    <script type="text/javascript" src="../StaticFiles/js/jquery.sidebar.min.js">
    </script>
    <script type="text/javascript" src="docdata/toc.js">
    </script>
    <script type="text/javascript" src="">
    </script>
    <script type="text/javascript" src="../StaticFiles/js/custom.js">
    </script>
    <script src="/StaticFilesConfig/feedback/feedback.js">
    </script>
    <link rel="stylesheet" type="text/css" href="../StaticFiles/css/core.css" />
    <link rel="stylesheet" type="text/css" href="../StaticFiles/css/custom.css" />
    <link rel="canonical" href="https://docs.unity3d.com/cn/2022.3/ScriptReference/SerializeReference.html" />
    <link rel="alternate" href="https://docs.unity3d.com/en/2022.3/ScriptReference/SerializeReference.html" hreflang="en" />
    <link rel="alternate" href="https://docs.unity3d.com/cn/2022.3/ScriptReference/SerializeReference.html" hreflang="zh" />
    <link rel="alternate" href="https://docs.unity3d.com/ja/2022.3/ScriptReference/SerializeReference.html" hreflang="ja" />
    <link rel="alternate" href="https://docs.unity3d.com/kr/2022.3/ScriptReference/SerializeReference.html" hreflang="ko" />
    <link rel="alternate" href="https://docs.unity3d.com/2022.3/Documentation/ScriptReference/SerializeReference.html" hreflang="x-default" />
  </head>
  <body>
    <div class="header-wrapper">
      <div id="header" class="header">
        <div class="content">
          <div class="spacer">
            <div class="menu">
              <div id="nav-open" for="nav-input">
                <span>
                </span>
              </div>
              <div class="logo">
                <a href="./index.html">
                </a>
              </div>
              <div class="search-form">
                <form action="30_search.html" method="get" class="apisearch">
                  <input type="text" name="q" placeholder="搜索脚本..." autosave="Unity Reference" results="5" class="sbox field" id="q">
                  </input>
                  <input type="submit" class="submit">
                  </input>
                </form>
              </div>
              <ul class="menu-items">
                <li class="menu-item">
                  <a href="../Manual/index.html" class="">手册</a>
                </li>
                <li class="menu-item">
                  <a href="../ScriptReference/index.html" class="selected">脚本 API</a>
                </li>
              </ul>
            </div>
          </div>
          <div class="more">
            <div class="filler">
            </div>
            <ul>
              <li>
                <a href="https://unity3d.com/">
                unity3d.com
              </a>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <div class="toolbar">
        <div class="content">
          <div class="version-switcher">
            <div class="current toggle" data-target=".version-list">
              <div class="version-number">
                <div class="d-inline-block">
          Version:
          <b>2022.3</b></div>
                <div class="d-inline-block arrow">
                </div>
              </div>
            </div>
            <div class="version-list" style="display:none;">
              <ul class="versions">
                <li class="supported">
                  <a class="docs_version_url_2023.2" href="/cn/2023.2/ScriptReference/SerializeReference.html">2023.2</a>
                </li>
                <li class="">
                  <a class="docs_version_url_2023.1" href="/cn/2023.1/ScriptReference/SerializeReference.html">2023.1</a>
                </li>
                <li class="supported">
                  <a class="docs_version_url_2022.3" href="/cn/2022.3/ScriptReference/SerializeReference.html">2022.3</a>
                </li>
                <li class="">
                  <a class="docs_version_url_2022.2" href="/cn/2022.2/ScriptReference/SerializeReference.html">2022.2</a>
                </li>
                <li class="">
                  <a class="docs_version_url_2022.1" href="/cn/2022.1/ScriptReference/SerializeReference.html">2022.1</a>
                </li>
                <li class="supported">
                  <a class="docs_version_url_2021.3" href="/cn/2021.3/ScriptReference/SerializeReference.html">2021.3</a>
                </li>
                <li class="">
                  <a class="docs_version_url_2021.2" href="/cn/2021.2/ScriptReference/SerializeReference.html">2021.2</a>
                </li>
                <li class="">
                  <a class="docs_version_url_2021.1" href="/cn/2021.1/ScriptReference/SerializeReference.html">2021.1</a>
                </li>
                <li class="">
                  <a class="docs_version_url_2020.3" href="/cn/2020.3/ScriptReference/SerializeReference.html">2020.3</a>
                </li>
                <li class="">
                  <a class="docs_version_url_2020.2" href="/cn/2020.2/ScriptReference/SerializeReference.html">2020.2</a>
                </li>
                <li class="">
                  <a class="docs_version_url_2020.1" href="/cn/2020.1/ScriptReference/SerializeReference.html">2020.1</a>
                </li>
                <li class="">
                  <a class="docs_version_url_2019.4" href="/cn/2019.4/ScriptReference/SerializeReference.html">2019.4</a>
                </li>
                <li class="">
                  <a class="docs_version_url_2019.3" href="/cn/2019.3/ScriptReference/SerializeReference.html">2019.3</a>
                </li>
                <li class="">
                  <a class="docs_version_url_2019.2" href="/cn/2019.2/ScriptReference/SerializeReference.html">2019.2</a>
                </li>
                <li class="">
                  <a class="docs_version_url_2019.1" href="/cn/2019.1/ScriptReference/SerializeReference.html">2019.1</a>
                </li>
                <li class="">
                  <a class="docs_version_url_2018.4" href="/cn/2018.4/ScriptReference/SerializeReference.html">2018.4</a>
                </li>
                <li class="">
                  <a class="docs_version_url_2018.3" href="/cn/2018.3/ScriptReference/SerializeReference.html">2018.3</a>
                </li>
                <li class="">
                  <a class="docs_version_url_2018.2" href="/cn/2018.2/ScriptReference/SerializeReference.html">2018.2</a>
                </li>
                <li class="">
                  <a class="docs_version_url_2018.1" href="/cn/2018.1/ScriptReference/SerializeReference.html">2018.1</a>
                </li>
                <li class="">
                  <a class="docs_version_url_2017.4" href="/cn/2017.4/ScriptReference/SerializeReference.html">2017.4</a>
                </li>
                <li class="">
                  <a class="docs_version_url_2017.3" href="/cn/2017.3/ScriptReference/SerializeReference.html">2017.3</a>
                </li>
                <li class="">
                  <a class="docs_version_url_2017.2" href="/cn/2017.2/ScriptReference/SerializeReference.html">2017.2</a>
                </li>
                <li class="">
                  <a class="docs_version_url_2017.1" href="/cn/2017.1/ScriptReference/SerializeReference.html">2017.1</a>
                </li>
                <li class="">
                  <a class="docs_version_url_560" href="/cn/560/ScriptReference/SerializeReference.html">5.6</a>
                </li>
                <div class="versionsWithThisPage" style="display:none;">
                  <li>
                    <p>包含此页的版本：</p>
                  </li>
                </div>
                <div class="versionsWithoutThisPage" style="display:none;">
                  <li>
                    <p>不含此页的版本：</p>
                  </li>
                </div>
              </ul>
              <ul class="description">
                <li>
                  <div class="supported-box">
                  </div>受支持</li>
                <li>
                  <div class="legacy-box">
                  </div>旧版</li>
              </ul>
            </div>
          </div>
          <ul class="nav-menu-items">
            <li class="menu-item">
              <a href="../Manual/index.html" class="">手册</a>
            </li>
            <li class="menu-item">
              <a href="../ScriptReference/index.html" class="selected">脚本 API</a>
            </li>
          </ul>
          <div class="lang-switcher">
            <div class="current toggle" data-target=".lang-list">
              <div class="lbl">语言:
        <span class="b">中文</span></div>
              <div class="arrow">
              </div>
            </div>
            <div class="lang-list" style="display:none;">
              <ul>
                <li>
                  <a data-lang="en" href="/2022.3/Documentation/ScriptReference/SerializeReference.html">English</a>
                </li>
                <li>
                  <a data-lang="cn" href="/cn/2022.3/ScriptReference/SerializeReference.html">中文</a>
                </li>
                <li>
                  <a data-lang="ja" href="/ja/2022.3/ScriptReference/SerializeReference.html">日本語</a>
                </li>
                <li>
                  <a data-lang="kr" href="/kr/2022.3/ScriptReference/SerializeReference.html">한국어</a>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div id="master-wrapper" class="master-wrapper clear">
      <div id="sidebar" class="sidebar hidden">
        <div class="sidebar-wrap">
          <div class="content">
            <div class="sidebar-menu">
              <div class="toc">
                <h2>脚本 API</h2>
                <div class="version-switcher">
                  <div class="current toggle" data-target=".version-list">
                    <div class="version-number">
                      <div class="d-inline-block">
          Version:
          <b>2022.3</b></div>
                      <div class="d-inline-block arrow">
                      </div>
                    </div>
                  </div>
                  <div class="version-list" style="display:none;">
                    <ul class="versions">
                      <li class="supported">
                        <a class="docs_version_url_2023.2" href="/cn/2023.2/ScriptReference/SerializeReference.html">2023.2</a>
                      </li>
                      <li class="">
                        <a class="docs_version_url_2023.1" href="/cn/2023.1/ScriptReference/SerializeReference.html">2023.1</a>
                      </li>
                      <li class="supported">
                        <a class="docs_version_url_2022.3" href="/cn/2022.3/ScriptReference/SerializeReference.html">2022.3</a>
                      </li>
                      <li class="">
                        <a class="docs_version_url_2022.2" href="/cn/2022.2/ScriptReference/SerializeReference.html">2022.2</a>
                      </li>
                      <li class="">
                        <a class="docs_version_url_2022.1" href="/cn/2022.1/ScriptReference/SerializeReference.html">2022.1</a>
                      </li>
                      <li class="supported">
                        <a class="docs_version_url_2021.3" href="/cn/2021.3/ScriptReference/SerializeReference.html">2021.3</a>
                      </li>
                      <li class="">
                        <a class="docs_version_url_2021.2" href="/cn/2021.2/ScriptReference/SerializeReference.html">2021.2</a>
                      </li>
                      <li class="">
                        <a class="docs_version_url_2021.1" href="/cn/2021.1/ScriptReference/SerializeReference.html">2021.1</a>
                      </li>
                      <li class="">
                        <a class="docs_version_url_2020.3" href="/cn/2020.3/ScriptReference/SerializeReference.html">2020.3</a>
                      </li>
                      <li class="">
                        <a class="docs_version_url_2020.2" href="/cn/2020.2/ScriptReference/SerializeReference.html">2020.2</a>
                      </li>
                      <li class="">
                        <a class="docs_version_url_2020.1" href="/cn/2020.1/ScriptReference/SerializeReference.html">2020.1</a>
                      </li>
                      <li class="">
                        <a class="docs_version_url_2019.4" href="/cn/2019.4/ScriptReference/SerializeReference.html">2019.4</a>
                      </li>
                      <li class="">
                        <a class="docs_version_url_2019.3" href="/cn/2019.3/ScriptReference/SerializeReference.html">2019.3</a>
                      </li>
                      <li class="">
                        <a class="docs_version_url_2019.2" href="/cn/2019.2/ScriptReference/SerializeReference.html">2019.2</a>
                      </li>
                      <li class="">
                        <a class="docs_version_url_2019.1" href="/cn/2019.1/ScriptReference/SerializeReference.html">2019.1</a>
                      </li>
                      <li class="">
                        <a class="docs_version_url_2018.4" href="/cn/2018.4/ScriptReference/SerializeReference.html">2018.4</a>
                      </li>
                      <li class="">
                        <a class="docs_version_url_2018.3" href="/cn/2018.3/ScriptReference/SerializeReference.html">2018.3</a>
                      </li>
                      <li class="">
                        <a class="docs_version_url_2018.2" href="/cn/2018.2/ScriptReference/SerializeReference.html">2018.2</a>
                      </li>
                      <li class="">
                        <a class="docs_version_url_2018.1" href="/cn/2018.1/ScriptReference/SerializeReference.html">2018.1</a>
                      </li>
                      <li class="">
                        <a class="docs_version_url_2017.4" href="/cn/2017.4/ScriptReference/SerializeReference.html">2017.4</a>
                      </li>
                      <li class="">
                        <a class="docs_version_url_2017.3" href="/cn/2017.3/ScriptReference/SerializeReference.html">2017.3</a>
                      </li>
                      <li class="">
                        <a class="docs_version_url_2017.2" href="/cn/2017.2/ScriptReference/SerializeReference.html">2017.2</a>
                      </li>
                      <li class="">
                        <a class="docs_version_url_2017.1" href="/cn/2017.1/ScriptReference/SerializeReference.html">2017.1</a>
                      </li>
                      <li class="">
                        <a class="docs_version_url_560" href="/cn/560/ScriptReference/SerializeReference.html">5.6</a>
                      </li>
                      <div class="versionsWithThisPage" style="display:none;">
                        <li>
                          <p>包含此页的版本：</p>
                        </li>
                      </div>
                      <div class="versionsWithoutThisPage" style="display:none;">
                        <li>
                          <p>不含此页的版本：</p>
                        </li>
                      </div>
                    </ul>
                    <ul class="description">
                      <li>
                        <div class="supported-box">
                        </div>受支持</li>
                      <li>
                        <div class="legacy-box">
                        </div>旧版</li>
                    </ul>
                  </div>
                </div>
                <div class="clear">
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id="content-wrap" class="content-wrap opened-sidebar">
        <div class="content-block">
          <div class="content">
            <div class="section">
              <div class="mb20 clear" id="">
                <h1 class="heading inherit">SerializeReference</h1>
                <div class="clear">
                </div>
                <p class="cl mb0 left mr10">class in UnityEngine</p>
                <div class="clear">
                </div>
                <a href="" class="switch-link gray-btn sbtn left hide">切换到手册</a>
                <div class="clear">
                </div>
              </div>
              <div class="subsection">
                <div class="signature">
                  <div class="signature-CS sig-block">
                    <span style="color:red;">
                    </span>
                  </div>
                </div>
              </div>
              <div class="subsection">
                <h2>描述</h2>
                <p>A <a href="../Manual/Attributes.html">scripting attribute</a> that instructs Unity to serialize a field as a reference instead of as a value.</p>
              </div>
              <div class="subsection">
                <p>
        See the <a href="../Manual/script-Serialization.html">serialization manual page</a> for information about serialization and the complete serialization rules.<br /><br />Without the use of the <code class="mono">[SerializeReference]</code> attribute, Unity serializes each of the fields of an object  by value or by reference, depending on the field's type, and according to these serialization rules:

        
          
            <strong>UnityEngine.Object fields, by reference:</strong>
            <br />If the field type is derived from UnityEngine.Object, Unity serializes it as a reference to that object. For example, a <a href="MonoBehaviour.html">MonoBehaviour</a> that defines a <a href="Transform.html">Transform</a> field. Fields that reference a UnityEngine.Object like this do not require the SerializeReference attribute, because the serialization for the field always records the reference to an independently-serialized object.<br /><br />
          
            <strong>Other field types, by value:</strong>
            <br />If the field type is one that Unity can automatically serialize by value (simple field types, such as int, string, <a href="Vector3.html">Vector3</a>, etc), or if it is a custom serializable class or structure marked with the <code class="mono">[Serializable]</code> attribute, it is serialized as a value.
        
        In the case of a custom serializable class, this means it serializes only the <em>data belonging to the object</em> assigned to the field, rather than a reference to the object itself. To force Unity to serialize these field types as a reference, use the <code class="mono">[SerializeReference]</code> attribute.<br />
<br />
You might want to serialize as a reference rather than a value when:<br />

        
          
            <strong>You want multiple references to the same instance of a custom serializable class.</strong>
            <br />For example, reference serialization is necessary for reference-based topologies based on custom serializable classes (such as linked lists, tree structures, or cyclical graphs). This is because the default value-based serialization stores each reference as a separate copy of the object, when fields originally shared a single reference to the same object. In particular, if you serialize a cyclical graph data structure, you must use SerializeReference to preserve the graph properly and to avoid potential freezes or crashes that can arise from the default serialization approach.<br /><br />
          
            <strong>You want to use polymorphism on fields whose type is a custom serializable class.</strong>
            <br />If you try to use <a href="https://docs.microsoft.com/en-us/dotnet/csharp/fundamentals/object-oriented/polymorphism">polymorphism</a> on custom serializable classes without the <code class="mono">[SerializeReference]</code> attribute, your derived classes' additional fields won't be preserved, and your object will instead be serialized as if it was the field's declared type. You can see polymorphism in the <code class="mono">SerializeReferencePolymorphismExample</code> class below.<br /><br />
          
            <strong>You want to serialize null values.</strong>
            <br />Value-based serialization can't represent null. Without the use of SerializeReference, null values are replaced with an inline object that has unassigned fields in the serialized data. Using SerializeReference allows you to store null references.
        
        
          <strong>Optimization</strong>
          <br />
          <br />By-value serialization is more efficient than using SerializeReference in terms of storage, memory, and loading and saving time, so you should only use SerializeReference in situations which require it.<br /><br /><strong>The host object and managed references</strong><br /><br />In the context of SerializeReference, your object which specializes <a href="MonoBehaviour.html">MonoBehaviour</a>, <a href="ScriptableObject.html">ScriptableObject</a>, <a href="AssetImporters.ScriptedImporter.html">ScriptedImporter</a> or other UnityEngine class is called the <strong>host object</strong>.  You can use SerializeReference directly on fields of the host object, or indirectly on fields of custom structures or classes that are serialized within the host object.<br /><br />The objects assigned to fields with the <code class="mono">[SerializeReference]</code> attribute in the host object are <strong>managed references</strong>. Each managed reference  has a unique ID, which the MonoBehaviour, ScriptableObject or other host object that contains the <code class="mono">[SerializeReference]</code> fields associated with it. By default, Unity generates this ID automatically; to specify an ID, use <a href="Serialization.ManagedReferenceUtility.SetManagedReferenceIdForObject.html">ManagedReferenceUtility.SetManagedReferenceIdForObject</a>.<br /><br />When you use SerializeReference, the managed reference objects are only available as shared references within the host object in which they are defined. When a host object is serialized, any managed reference objects are serialized in the "references" section of the serialized data, which is a list located after the serialization of the regular fields. Each managed reference object has an entry in the list, recording its ID, its fully qualified class name, and the value of its fields.<br /><br />You can see this serialized data for yourself if you're using the default "force text" <a href="../Manual/class-EditorManager.html">asset serialization mode</a>. To do this, assign one of the sample scripts below to a GameObject, save the scene, then open the <code class="mono">.unity</code> scene file in a text editor. Each managed reference's data is stored in the <code class="mono">.unity</code> file, under the "references:" section of the serialized MonoBehaviour data.<br /><br />The managed references are not shared between other UnityEngine.Object instances. If you assign the same custom serializable class object to fields on two different host objects, the serialized references will become separate instances. In addition, if you clone a host object with managed references, this also creates separate copies of all the managed reference objects.<br /><br />To share referenced values between multiple host objects, use <a href="ScriptableObject.html">ScriptableObject</a> instead of SerializeReference. ScriptableObject allows you to group a related set of data together as an asset. Because ScriptableObject is derived from UnityEngine.Object, you can share references to them outside of an individual host object. The serialization rules still apply to the fields on the ScriptableObject however, so you may need to use the <code class="mono">[SerializeReference]</code> attribute on fields within your ScriptableObject-derived class.<br /><br /><strong>The SerializeReference attribute is supported on fields whose type is any of the following:</strong>

        
          A regular class
          An abstract class
          An interface
          System.Object
          A class derived from a generic type, but not a specific specialization of a generic type (inflated type). For example, you can't use the [SerializeReference] attribute with the type <code class="mono">MyData&lt;int&gt;</code>, instead you must create a non-generic subclass of your generic instance type and use that as the field type instead, like this:<br /><br /><code class="mono">public class MyIntData : MyData&lt;int&gt; {}</code><br /><br />The only exception to this limitation is when using <a href="https://docs.microsoft.com/en-us/dotnet/api/system.collections.generic.list-1">List&lt;T&gt;</a>, which is a special case described below.
        
        
          <strong>The value assigned to a field with the SerializeReference attribute must, unless it is null, follow these rules:</strong>

        
          Must be an instance of a custom class, with the [Serializable] attribute.
          Must be an instance of the field's type, or a type that derives from that type.
          Must not derive from UnityEngine.Object.  For example it cannot be a GameObject, MonoBehaviour, ScriptableObject or Transform.
          Must not be a C# <a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/value-types">Value type</a>. Therefore simple types like integers, as well as structures are not supported, and should be serialized without the <code class="mono">[SerializeReference]</code> attribute instead.
          Must not be a C# Dictionary, or other type that is not supported by Unity serialization
        
        
          <strong>Notes on the use of SerializeReference with arrays and lists:</strong>

        
          Unity supports serializing arrays and lists of objects by reference.
          For array and <code class="mono">List&lt;T&gt;</code> fields, the SerializeReference attribute applies to the elements of the array or list and not to the array or list object itself.
          You cannot assign an array or list to a field of type System.Object.  Instead the field type needs to be explicitly declared as an array or list.<br />This is demonstrated in this example:<br /><br /><code class="mono">[SerializeReference] public System.Object a = new List&lt;MyCustomClass&gt;(); // UNSUPPORTED</code><br /><code class="mono">[SerializeReference] public List&lt;MyCustomClass&gt; a = new List&lt;MyCustomClass&gt;(); // VALID</code>
        
        
          <strong>Other Notes:</strong>

        
          Animation is not supported on fields of referenced objects when the host object derives from ScriptableObject or ScriptedImporter.
          When types referred to by SerializeReference are no longer available when deserializing, Unity replaces the instance with null, but the serialized information is preserved. for more information see <a href="SerializationUtility.HasManagedReferencesWithMissingTypes.html">SerializationUtility.HasManagedReferencesWithMissingTypes</a>
        
        See Also: <a href="SerializedProperty-managedReferenceValue.html">SerializedProperty.managedReferenceValue</a>, <a href="MonoBehaviour.html">MonoBehaviour</a>, <a href="SerializationUtility.html">SerializationUtility</a>, <a href="Serialization.ManagedReferenceUtility.html">ManagedReferenceUtility</a>.<br /><br />
      </p>
              </div>
              <div class="subsection">
        <pre class="codeExampleCS">
using <a href="Rendering.VirtualTexturing.System.html">System</a>;
using UnityEngine;<br /><br />public class SerializeReferencePolymorphismExample : <a href="MonoBehaviour.html">MonoBehaviour</a>
{
    [<a href="Serializable.html">Serializable</a>]
    public class Base
    {
        public int m_Data = 1;
    }<br /><br />    [<a href="Serializable.html">Serializable</a>]
    public class Apple : Base
    {
        public string m_Description = "Ripe";
    }<br /><br />    [<a href="Serializable.html">Serializable</a>]
    public class Orange : Base
    {
        public bool m_IsRound = true;
    }<br /><br />    // Use <a href="SerializeReference.html">SerializeReference</a> if this field needs to hold both
    // Apples and Oranges.  Otherwise only m_Data from Base object would be serialized
    [<a href="SerializeReference.html">SerializeReference</a>]
    public Base m_Item = new Apple();<br /><br />    [<a href="SerializeReference.html">SerializeReference</a>]
    public Base m_Item2 = new Orange();<br /><br />    // Use by-value instead of <a href="SerializeReference.html">SerializeReference</a>, because
    // no polymorphism and no other field needs to share this object
    public Apple m_MyApple = new Apple();
}
</pre>
      </div>
              <div class="subsection">
        <pre class="codeExampleCS">
using <a href="Rendering.VirtualTexturing.System.html">System</a>;
using System.Text;
using UnityEngine;<br /><br />public class SerializeReferenceLinkedListExample : <a href="MonoBehaviour.html">MonoBehaviour</a>
{
    // This example shows a linked list structure with a single int per <a href="Experimental.GraphView.Node.html">Node</a>.
    // This would be much more efficiently represented using a List&lt;int&gt;, without any <a href="SerializeReference.html">SerializeReference</a> needed.
    // But it demonstrates an approach that can be extended for trees and other more advanced graphs<br /><br />    [<a href="Serializable.html">Serializable</a>]
    public class <a href="Experimental.GraphView.Node.html">Node</a>
    {
        // This field must use serialize reference so that serialization can store
        // a reference to another <a href="Experimental.GraphView.Node.html">Node</a> object, or null.  By-value
        // can never properly represent this sort of self-referencing structure.
        [<a href="SerializeReference.html">SerializeReference</a>]
        public <a href="Experimental.GraphView.Node.html">Node</a> m_Next = null;<br /><br />        public int m_Data = 1;
    }<br /><br />    [<a href="SerializeReference.html">SerializeReference</a>]
    public <a href="Experimental.GraphView.Node.html">Node</a> m_Front = null;<br /><br />    // Points to the last node in the list.  This is an
    // example of a having more than one field pointing to a single <a href="Experimental.GraphView.Node.html">Node</a>
    // object, which cannot be done with "by-value" serialization
    [<a href="SerializeReference.html">SerializeReference</a>]
    public <a href="Experimental.GraphView.Node.html">Node</a> m_End = null;<br /><br />    SerializeReferenceLinkedListExample()
    {
        AddEntry(1);
        AddEntry(3);
        AddEntry(9);
        AddEntry(81);
        PrintList();
    }<br /><br />    private void AddEntry(int data)
    {
        if (m_Front == null)
        {
            m_Front = new <a href="Experimental.GraphView.Node.html">Node</a>() {m_Data = data};
            m_End = m_Front;
        }
        else
        {
            m_End.m_Next = new <a href="Experimental.GraphView.Node.html">Node</a>() {m_Data = data};
            m_End = m_End.m_Next;
        }
    }<br /><br />    private void PrintList()
    {
        var sb = new StringBuilder();
        sb.Append("Link list contents: ");
        var position = m_Front;
        while (position != null)
        {
            sb.Append("  <a href="Experimental.GraphView.Node.html">Node</a> data " + position.m_Data).AppendLine();
            position = position.m_Next;
        }
        <a href="Debug.Log.html">Debug.Log</a>(sb.ToString());
    }
}
</pre>
      </div>
              <div class="subsection">
        <pre class="codeExampleCS">
using <a href="Rendering.VirtualTexturing.System.html">System</a>;
using System.Collections.Generic;
using UnityEngine;<br /><br />public interface IShape {}<br /><br />[<a href="Serializable.html">Serializable</a>]
public class Cube : IShape
{
    public <a href="Vector3.html">Vector3</a> size;
}<br /><br />[<a href="Serializable.html">Serializable</a>]
public class Thing
{
    public int weight;
}<br /><br />[<a href="ExecuteInEditMode.html">ExecuteInEditMode</a>]
public class BuildingBlocks : <a href="MonoBehaviour.html">MonoBehaviour</a>
{
    [<a href="SerializeReference.html">SerializeReference</a>]
    public List&lt;IShape&gt; inventory;<br /><br />    [<a href="SerializeReference.html">SerializeReference</a>]
    public System.Object bin;<br /><br />    [<a href="SerializeReference.html">SerializeReference</a>]
    public List&lt;System.Object&gt; bins;<br /><br />    void OnEnable()
    {
        if (inventory == null)
        {
            inventory = new List&lt;IShape&gt;()
            {
                new Cube() {size = new <a href="Vector3.html">Vector3</a>(1.0f, 1.0f, 1.0f)}
            };
            <a href="Debug.Log.html">Debug.Log</a>("Created list");
        }
        else
            <a href="Debug.Log.html">Debug.Log</a>("Read list");<br /><br />        if (bins == null)
        {
            // This is supported, the 'bins' serialized field is declared as a collection, with each entry as a reference.
            bins = new List&lt;System.Object&gt;() { new Cube(), new Thing() };
        }<br /><br />        if (bin == null)
        {
            // !! DO NOT USE !!
            // Although this is syntactically correct, it is not supported as a valid serialization construct because the 'bin' serialized field is declared as holding a single reference type.
            bin = new List&lt;System.Object&gt;() { new Cube() };
        }
    }
}
</pre>
      </div>
            </div>
            <div class="section">
              <div id="_content">
              </div>
            </div>
            <div class="footer-wrapper">
              <div class="footer clear">
                <div class="copy">Copyright © 2022 Unity Technologies. Publication 2022.3</div>
                <div class="menu">
                  <a href="https://learn.unity.com/">教程</a>
                  <a href="https://answers.unity3d.com">社区答案</a>
                  <a href="https://support.unity3d.com/hc/en-us">知识库</a>
                  <a href="https://forum.unity3d.com">论坛</a>
                  <a href="https://unity3d.com/asset-store">Asset Store</a>
                  <a href="https://docs.unity3d.com/Manual/TermsOfUse.html">商标和使用条款</a>
                  <a href="https://unity.com/legal">法律条款</a>
                  <a href="https://unity.com/legal/privacy-policy">隐私政策</a>
                  <a href="https://unity.com/legal/cookie-policy">Cookie</a>
                  <a href="https://unity.com/legal/do-not-sell-my-personal-information">不要出售或分享我的个人信息</a>
                  <div id="ot-sdk-btn-container">
                    <a id="ot-sdk-btn" class="ot-sdk-show-settings" href="javascript:void(0);">Your Privacy Choices (Cookie Settings)</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>