<!DOCTYPE html>
<html class="no-js" lang="zh-cn">
  <head>
    <link href="https://fonts.googleapis.com/css?family=Roboto&amp;display=swap" rel="stylesheet" />
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="twitter:card" content="summary" />
    <meta property="og:title" content="Search.QueryEngine&lt;T0&gt; - Unity 脚本 API" />
    <title>Search.QueryEngine&lt;T0&gt; - Unity 脚本 API</title>
    <meta name="description" content="A QueryEngine defines how to build a query from an input string.&#xA;It can be customized to support custom filters and operators." />
    <meta property="og:description" content="A QueryEngine defines how to build a query from an input string.&#xA;It can be customized to support custom filters and operators." />
    <meta name="author" content="Unity Technologies" />
    <link rel="shortcut icon" href="https://unity.com/themes/contrib/unity_base/images/favicons/favicon.ico" />
    <link rel="icon" type="image/png" href="../StaticFiles/images/favicons/favicon.png" />
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFiles/images/favicons/apple-touch-icon-152x152.png" />
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFiles/images/favicons/apple-touch-icon-144x144.png" />
    <link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFiles/images/favicons/apple-touch-icon-120x120.png" />
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFiles/images/favicons/apple-touch-icon-114x114.png" />
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFiles/images/favicons/apple-touch-icon-72x72.png" />
    <link rel="apple-touch-icon-precomposed" href="../StaticFiles/images/favicons/apple-touch-icon.png" />
    <meta name="msapplication-TileColor" content="#222c37" />
    <meta name="msapplication-TileImage" content="../StaticFiles/images/favicons/tileicon-144x144.png" />
    <script type="text/javascript" src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" charset="UTF-8" data-domain-script="6e91be4c-3145-4ea2-aa64-89d716064836" data-dLayer-ignore="true" data-document-language="true">
    </script>
    <script type="text/javascript">function OptanonWrapper() {}</script>
    <script>window.dataLayer = window.dataLayer || []; dataLayer.push({ event: 'dataLayer-initialized', user: { user_unity_id: undefined, user_logged_in: 'no' }, environment: { environment_locale: '', environment_currency: undefined }});</script>
    <script>var offline=(location.href.indexOf('docs.unity3d.com')==-1)?true:false;if(!offline){(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=   'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);  })(window,document,'script','dataLayer','GTM-5V25JL6');}</script>
    <script>
      var docs_type = 'ScriptReference';
      var lang = 'cn';
      var page = 'Search.QueryEngine&lt;T0&gt;';
      if(!page) page = 'index';
      var version = '2022.3';
      var docs_versions = [{version: '2023.2',version_string: '2023.2',supported: true},{version: '2023.1',version_string: '2023.1',supported: false},{version: '2022.3',version_string: '2022.3',supported: true},{version: '2022.2',version_string: '2022.2',supported: false},{version: '2022.1',version_string: '2022.1',supported: false},{version: '2021.3',version_string: '2021.3',supported: true},{version: '2021.2',version_string: '2021.2',supported: false},{version: '2021.1',version_string: '2021.1',supported: false},{version: '2020.3',version_string: '2020.3',supported: false},{version: '2020.2',version_string: '2020.2',supported: false},{version: '2020.1',version_string: '2020.1',supported: false},{version: '2019.4',version_string: '2019.4',supported: false},{version: '2019.3',version_string: '2019.3',supported: false},{version: '2019.2',version_string: '2019.2',supported: false},{version: '2019.1',version_string: '2019.1',supported: false},{version: '2018.4',version_string: '2018.4',supported: false},{version: '2018.3',version_string: '2018.3',supported: false},{version: '2018.2',version_string: '2018.2',supported: false},{version: '2018.1',version_string: '2018.1',supported: false},{version: '2017.4',version_string: '2017.4',supported: false},{version: '2017.3',version_string: '2017.3',supported: false},{version: '2017.2',version_string: '2017.2',supported: false},{version: '2017.1',version_string: '2017.1',supported: false},{version: '5.6',version_string: '560',supported: false},];</script>
    <script type="text/javascript" src="../StaticFiles/js/jquery.js">
    </script>
    <script type="text/javascript" src="../StaticFiles/js/core.js">
    </script>
    <script type="text/javascript" src="../StaticFiles/js/jquery.sidebar.min.js">
    </script>
    <script type="text/javascript" src="docdata/toc.js">
    </script>
    <script type="text/javascript" src="">
    </script>
    <script type="text/javascript" src="../StaticFiles/js/custom.js">
    </script>
    <script src="/StaticFilesConfig/feedback/feedback.js">
    </script>
    <link rel="stylesheet" type="text/css" href="../StaticFiles/css/core.css" />
    <link rel="stylesheet" type="text/css" href="../StaticFiles/css/custom.css" />
    <link rel="canonical" href="https://docs.unity3d.com/cn/2022.3/ScriptReference/Search.QueryEngine&lt;T0&gt;.html" />
    <link rel="alternate" href="https://docs.unity3d.com/en/2022.3/ScriptReference/Search.QueryEngine&lt;T0&gt;.html" hreflang="en" />
    <link rel="alternate" href="https://docs.unity3d.com/cn/2022.3/ScriptReference/Search.QueryEngine&lt;T0&gt;.html" hreflang="zh" />
    <link rel="alternate" href="https://docs.unity3d.com/ja/2022.3/ScriptReference/Search.QueryEngine&lt;T0&gt;.html" hreflang="ja" />
    <link rel="alternate" href="https://docs.unity3d.com/kr/2022.3/ScriptReference/Search.QueryEngine&lt;T0&gt;.html" hreflang="ko" />
    <link rel="alternate" href="https://docs.unity3d.com/2022.3/Documentation/ScriptReference/Search.QueryEngine&lt;T0&gt;.html" hreflang="x-default" />
  </head>
  <body>
    <div class="header-wrapper">
      <div id="header" class="header">
        <div class="content">
          <div class="spacer">
            <div class="menu">
              <div id="nav-open" for="nav-input">
                <span>
                </span>
              </div>
              <div class="logo">
                <a href="./index.html">
                </a>
              </div>
              <div class="search-form">
                <form action="30_search.html" method="get" class="apisearch">
                  <input type="text" name="q" placeholder="搜索脚本..." autosave="Unity Reference" results="5" class="sbox field" id="q">
                  </input>
                  <input type="submit" class="submit">
                  </input>
                </form>
              </div>
              <ul class="menu-items">
                <li class="menu-item">
                  <a href="../Manual/index.html" class="">手册</a>
                </li>
                <li class="menu-item">
                  <a href="../ScriptReference/index.html" class="selected">脚本 API</a>
                </li>
              </ul>
            </div>
          </div>
          <div class="more">
            <div class="filler">
            </div>
            <ul>
              <li>
                <a href="https://unity3d.com/">
                unity3d.com
              </a>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <div class="toolbar">
        <div class="content">
          <div class="version-switcher">
            <div class="current toggle" data-target=".version-list">
              <div class="version-number">
                <div class="d-inline-block">
          Version:
          <b>2022.3</b></div>
                <div class="d-inline-block arrow">
                </div>
              </div>
            </div>
            <div class="version-list" style="display:none;">
              <ul class="versions">
                <li class="supported">
                  <a class="docs_version_url_2023.2" href="/cn/2023.2/ScriptReference/Search.QueryEngine&lt;T0&gt;.html">2023.2</a>
                </li>
                <li class="">
                  <a class="docs_version_url_2023.1" href="/cn/2023.1/ScriptReference/Search.QueryEngine&lt;T0&gt;.html">2023.1</a>
                </li>
                <li class="supported">
                  <a class="docs_version_url_2022.3" href="/cn/2022.3/ScriptReference/Search.QueryEngine&lt;T0&gt;.html">2022.3</a>
                </li>
                <li class="">
                  <a class="docs_version_url_2022.2" href="/cn/2022.2/ScriptReference/Search.QueryEngine&lt;T0&gt;.html">2022.2</a>
                </li>
                <li class="">
                  <a class="docs_version_url_2022.1" href="/cn/2022.1/ScriptReference/Search.QueryEngine&lt;T0&gt;.html">2022.1</a>
                </li>
                <li class="supported">
                  <a class="docs_version_url_2021.3" href="/cn/2021.3/ScriptReference/Search.QueryEngine&lt;T0&gt;.html">2021.3</a>
                </li>
                <li class="">
                  <a class="docs_version_url_2021.2" href="/cn/2021.2/ScriptReference/Search.QueryEngine&lt;T0&gt;.html">2021.2</a>
                </li>
                <li class="">
                  <a class="docs_version_url_2021.1" href="/cn/2021.1/ScriptReference/Search.QueryEngine&lt;T0&gt;.html">2021.1</a>
                </li>
                <li class="">
                  <a class="docs_version_url_2020.3" href="/cn/2020.3/ScriptReference/Search.QueryEngine&lt;T0&gt;.html">2020.3</a>
                </li>
                <li class="">
                  <a class="docs_version_url_2020.2" href="/cn/2020.2/ScriptReference/Search.QueryEngine&lt;T0&gt;.html">2020.2</a>
                </li>
                <li class="">
                  <a class="docs_version_url_2020.1" href="/cn/2020.1/ScriptReference/Search.QueryEngine&lt;T0&gt;.html">2020.1</a>
                </li>
                <li class="">
                  <a class="docs_version_url_2019.4" href="/cn/2019.4/ScriptReference/Search.QueryEngine&lt;T0&gt;.html">2019.4</a>
                </li>
                <li class="">
                  <a class="docs_version_url_2019.3" href="/cn/2019.3/ScriptReference/Search.QueryEngine&lt;T0&gt;.html">2019.3</a>
                </li>
                <li class="">
                  <a class="docs_version_url_2019.2" href="/cn/2019.2/ScriptReference/Search.QueryEngine&lt;T0&gt;.html">2019.2</a>
                </li>
                <li class="">
                  <a class="docs_version_url_2019.1" href="/cn/2019.1/ScriptReference/Search.QueryEngine&lt;T0&gt;.html">2019.1</a>
                </li>
                <li class="">
                  <a class="docs_version_url_2018.4" href="/cn/2018.4/ScriptReference/Search.QueryEngine&lt;T0&gt;.html">2018.4</a>
                </li>
                <li class="">
                  <a class="docs_version_url_2018.3" href="/cn/2018.3/ScriptReference/Search.QueryEngine&lt;T0&gt;.html">2018.3</a>
                </li>
                <li class="">
                  <a class="docs_version_url_2018.2" href="/cn/2018.2/ScriptReference/Search.QueryEngine&lt;T0&gt;.html">2018.2</a>
                </li>
                <li class="">
                  <a class="docs_version_url_2018.1" href="/cn/2018.1/ScriptReference/Search.QueryEngine&lt;T0&gt;.html">2018.1</a>
                </li>
                <li class="">
                  <a class="docs_version_url_2017.4" href="/cn/2017.4/ScriptReference/Search.QueryEngine&lt;T0&gt;.html">2017.4</a>
                </li>
                <li class="">
                  <a class="docs_version_url_2017.3" href="/cn/2017.3/ScriptReference/Search.QueryEngine&lt;T0&gt;.html">2017.3</a>
                </li>
                <li class="">
                  <a class="docs_version_url_2017.2" href="/cn/2017.2/ScriptReference/Search.QueryEngine&lt;T0&gt;.html">2017.2</a>
                </li>
                <li class="">
                  <a class="docs_version_url_2017.1" href="/cn/2017.1/ScriptReference/Search.QueryEngine&lt;T0&gt;.html">2017.1</a>
                </li>
                <li class="">
                  <a class="docs_version_url_560" href="/cn/560/ScriptReference/Search.QueryEngine&lt;T0&gt;.html">5.6</a>
                </li>
                <div class="versionsWithThisPage" style="display:none;">
                  <li>
                    <p>包含此页的版本：</p>
                  </li>
                </div>
                <div class="versionsWithoutThisPage" style="display:none;">
                  <li>
                    <p>不含此页的版本：</p>
                  </li>
                </div>
              </ul>
              <ul class="description">
                <li>
                  <div class="supported-box">
                  </div>受支持</li>
                <li>
                  <div class="legacy-box">
                  </div>旧版</li>
              </ul>
            </div>
          </div>
          <ul class="nav-menu-items">
            <li class="menu-item">
              <a href="../Manual/index.html" class="">手册</a>
            </li>
            <li class="menu-item">
              <a href="../ScriptReference/index.html" class="selected">脚本 API</a>
            </li>
          </ul>
          <div class="lang-switcher">
            <div class="current toggle" data-target=".lang-list">
              <div class="lbl">语言:
        <span class="b">中文</span></div>
              <div class="arrow">
              </div>
            </div>
            <div class="lang-list" style="display:none;">
              <ul>
                <li>
                  <a data-lang="en" href="/2022.3/Documentation/ScriptReference/Search.QueryEngine&lt;T0&gt;.html">English</a>
                </li>
                <li>
                  <a data-lang="cn" href="/cn/2022.3/ScriptReference/Search.QueryEngine&lt;T0&gt;.html">中文</a>
                </li>
                <li>
                  <a data-lang="ja" href="/ja/2022.3/ScriptReference/Search.QueryEngine&lt;T0&gt;.html">日本語</a>
                </li>
                <li>
                  <a data-lang="kr" href="/kr/2022.3/ScriptReference/Search.QueryEngine&lt;T0&gt;.html">한국어</a>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div id="master-wrapper" class="master-wrapper clear">
      <div id="sidebar" class="sidebar hidden">
        <div class="sidebar-wrap">
          <div class="content">
            <div class="sidebar-menu">
              <div class="toc">
                <h2>脚本 API</h2>
                <div class="version-switcher">
                  <div class="current toggle" data-target=".version-list">
                    <div class="version-number">
                      <div class="d-inline-block">
          Version:
          <b>2022.3</b></div>
                      <div class="d-inline-block arrow">
                      </div>
                    </div>
                  </div>
                  <div class="version-list" style="display:none;">
                    <ul class="versions">
                      <li class="supported">
                        <a class="docs_version_url_2023.2" href="/cn/2023.2/ScriptReference/Search.QueryEngine&lt;T0&gt;.html">2023.2</a>
                      </li>
                      <li class="">
                        <a class="docs_version_url_2023.1" href="/cn/2023.1/ScriptReference/Search.QueryEngine&lt;T0&gt;.html">2023.1</a>
                      </li>
                      <li class="supported">
                        <a class="docs_version_url_2022.3" href="/cn/2022.3/ScriptReference/Search.QueryEngine&lt;T0&gt;.html">2022.3</a>
                      </li>
                      <li class="">
                        <a class="docs_version_url_2022.2" href="/cn/2022.2/ScriptReference/Search.QueryEngine&lt;T0&gt;.html">2022.2</a>
                      </li>
                      <li class="">
                        <a class="docs_version_url_2022.1" href="/cn/2022.1/ScriptReference/Search.QueryEngine&lt;T0&gt;.html">2022.1</a>
                      </li>
                      <li class="supported">
                        <a class="docs_version_url_2021.3" href="/cn/2021.3/ScriptReference/Search.QueryEngine&lt;T0&gt;.html">2021.3</a>
                      </li>
                      <li class="">
                        <a class="docs_version_url_2021.2" href="/cn/2021.2/ScriptReference/Search.QueryEngine&lt;T0&gt;.html">2021.2</a>
                      </li>
                      <li class="">
                        <a class="docs_version_url_2021.1" href="/cn/2021.1/ScriptReference/Search.QueryEngine&lt;T0&gt;.html">2021.1</a>
                      </li>
                      <li class="">
                        <a class="docs_version_url_2020.3" href="/cn/2020.3/ScriptReference/Search.QueryEngine&lt;T0&gt;.html">2020.3</a>
                      </li>
                      <li class="">
                        <a class="docs_version_url_2020.2" href="/cn/2020.2/ScriptReference/Search.QueryEngine&lt;T0&gt;.html">2020.2</a>
                      </li>
                      <li class="">
                        <a class="docs_version_url_2020.1" href="/cn/2020.1/ScriptReference/Search.QueryEngine&lt;T0&gt;.html">2020.1</a>
                      </li>
                      <li class="">
                        <a class="docs_version_url_2019.4" href="/cn/2019.4/ScriptReference/Search.QueryEngine&lt;T0&gt;.html">2019.4</a>
                      </li>
                      <li class="">
                        <a class="docs_version_url_2019.3" href="/cn/2019.3/ScriptReference/Search.QueryEngine&lt;T0&gt;.html">2019.3</a>
                      </li>
                      <li class="">
                        <a class="docs_version_url_2019.2" href="/cn/2019.2/ScriptReference/Search.QueryEngine&lt;T0&gt;.html">2019.2</a>
                      </li>
                      <li class="">
                        <a class="docs_version_url_2019.1" href="/cn/2019.1/ScriptReference/Search.QueryEngine&lt;T0&gt;.html">2019.1</a>
                      </li>
                      <li class="">
                        <a class="docs_version_url_2018.4" href="/cn/2018.4/ScriptReference/Search.QueryEngine&lt;T0&gt;.html">2018.4</a>
                      </li>
                      <li class="">
                        <a class="docs_version_url_2018.3" href="/cn/2018.3/ScriptReference/Search.QueryEngine&lt;T0&gt;.html">2018.3</a>
                      </li>
                      <li class="">
                        <a class="docs_version_url_2018.2" href="/cn/2018.2/ScriptReference/Search.QueryEngine&lt;T0&gt;.html">2018.2</a>
                      </li>
                      <li class="">
                        <a class="docs_version_url_2018.1" href="/cn/2018.1/ScriptReference/Search.QueryEngine&lt;T0&gt;.html">2018.1</a>
                      </li>
                      <li class="">
                        <a class="docs_version_url_2017.4" href="/cn/2017.4/ScriptReference/Search.QueryEngine&lt;T0&gt;.html">2017.4</a>
                      </li>
                      <li class="">
                        <a class="docs_version_url_2017.3" href="/cn/2017.3/ScriptReference/Search.QueryEngine&lt;T0&gt;.html">2017.3</a>
                      </li>
                      <li class="">
                        <a class="docs_version_url_2017.2" href="/cn/2017.2/ScriptReference/Search.QueryEngine&lt;T0&gt;.html">2017.2</a>
                      </li>
                      <li class="">
                        <a class="docs_version_url_2017.1" href="/cn/2017.1/ScriptReference/Search.QueryEngine&lt;T0&gt;.html">2017.1</a>
                      </li>
                      <li class="">
                        <a class="docs_version_url_560" href="/cn/560/ScriptReference/Search.QueryEngine&lt;T0&gt;.html">5.6</a>
                      </li>
                      <div class="versionsWithThisPage" style="display:none;">
                        <li>
                          <p>包含此页的版本：</p>
                        </li>
                      </div>
                      <div class="versionsWithoutThisPage" style="display:none;">
                        <li>
                          <p>不含此页的版本：</p>
                        </li>
                      </div>
                    </ul>
                    <ul class="description">
                      <li>
                        <div class="supported-box">
                        </div>受支持</li>
                      <li>
                        <div class="legacy-box">
                        </div>旧版</li>
                    </ul>
                  </div>
                </div>
                <div class="clear">
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id="content-wrap" class="content-wrap opened-sidebar">
        <div class="content-block">
          <div class="content">
            <div class="section">
              <div class="mb20 clear" id="">
                <h1 class="heading inherit">QueryEngine&lt;T0&gt;</h1>
                <div class="clear">
                </div>
                <p class="cl mb0 left mr10">class in UnityEditor.Search</p>
                <div class="clear">
                </div>
                <a href="" class="switch-link gray-btn sbtn left hide">切换到手册</a>
                <div class="clear">
                </div>
              </div>
              <div class="subsection">
                <div class="signature">
                  <div class="signature-CS sig-block">
                    <span style="color:red;">
                    </span>
                  </div>
                </div>
              </div>
              <div class="subsection">
                <h2>描述</h2>
                <p>A QueryEngine defines how to build a query from an input string.
It can be customized to support custom filters and operators.</p>
              </div>
              <div class="subsection">
                <p>
        &lt;TData&gt;: The filtered data type.
      </p>
              </div>
              <div class="subsection">
        <pre class="codeExampleCS">using System.Collections.Generic;
using System.Linq;
using <a href="UnityEditor.html">UnityEditor</a>;
using UnityEditor.Search;
using UnityEngine;

static class Example_QueryEngine
{
    static List&lt;MyObjectType&gt; s_Data;

    static <a href="Search.QueryEngine.html">QueryEngine</a>&lt;MyObjectType&gt; SetupQueryEngine()
    {
        // Set up the query engine
        var queryEngine = new <a href="Search.QueryEngine.html">QueryEngine</a>&lt;MyObjectType&gt;();

        // Add a filter for MyObjectType.id that supports all operators
        queryEngine.AddFilter("id", myObj =&gt; myObj.id);
        // Add a filter for MyObjectType.name that supports only contains (:), equal (=) and not equal (!=)
        queryEngine.AddFilter("n", myObj =&gt; myObj.name, new[] { ":", "=", "!=" });
        // Add a filter for MyObjectType.active that supports only equal and not equal
        queryEngine.AddFilter("a", myObj =&gt; myObj.active, new[] { "=", "!=" });
        // Add a filter for the computed property magnitude that supports equal, not equal, lesser, greater, lesser or equal and greater or equal.
        queryEngine.AddFilter("m", myObj =&gt; myObj.position.magnitude, new[] { "=", "!=", "&lt;", "&gt;", "&lt;=", "&gt;=" });

        // Set up what data from objects of type MyObjectType will be matched against search words
        queryEngine.SetSearchDataCallback(myObj =&gt; new[] { myObj.id.ToString(), myObj.name });

        return queryEngine;
    }

    [<a href="MenuItem.html">MenuItem</a>("Examples/<a href="Search.QueryEngine.html">QueryEngine</a>/Class")]
    public static void RunExample()
    {
        s_Data = GenerateExampleData();
        var queryEngine = SetupQueryEngine();
        TestFiltering(queryEngine, s_Data);
    }

    static void TestFiltering(<a href="Search.QueryEngine.html">QueryEngine</a>&lt;MyObjectType&gt; queryEngine, IEnumerable&lt;MyObjectType&gt; inputData)
    {
        // Find objects that have an id &gt; 2 and are active
        var filteredData = FilterData("id&gt;2 a=true", queryEngine, inputData);
        ValidateData(filteredData, s_Data.Where(myObj =&gt; myObj.id &gt; 2 &amp;&amp; myObj.active));

        // Find objects that are not active and have a name that contains Test
        filteredData = FilterData("a=false n:Test", queryEngine, inputData);
        ValidateData(filteredData, s_Data.Where(myObj =&gt; myObj.name.Contains("Test") &amp;&amp; !myObj.active));

        // Find objects that have a magnitude higher than 1 or the id 0.
        filteredData = FilterData("m&gt;1 or id=0", queryEngine, inputData);
        ValidateData(filteredData, s_Data.Where(myObj =&gt; myObj.position.magnitude &gt; 1f || myObj.id == 0));
    }

    static IEnumerable&lt;MyObjectType&gt; FilterData(string inputQuery, <a href="Search.QueryEngine.html">QueryEngine</a>&lt;MyObjectType&gt; queryEngine, IEnumerable&lt;MyObjectType&gt; inputData)
    {
        // Parse the query string into a query operation
        var query = queryEngine.ParseQuery(inputQuery);

        // If the query is not valid, print all errors and return an empty data set
        if (!query.valid)
        {
            foreach (var queryError in query.errors)
            {
                <a href="Debug.LogFormat.html">Debug.LogFormat</a>(<a href="LogType.Error.html">LogType.Error</a>, <a href="LogOption.NoStacktrace.html">LogOption.NoStacktrace</a>, null, $"<a href="PackageManager.Error.html">Error</a> parsing input at {queryError.index}: {queryError.reason}");
            }

            return new List&lt;MyObjectType&gt;();
        }

        // Apply the query on a data set and get the filtered result.
        var filteredData = query.Apply(inputData);
        return filteredData;
    }

    static void ValidateData(IEnumerable&lt;MyObjectType&gt; filteredData, IEnumerable&lt;MyObjectType&gt; expectedData)
    {
        var filteredDataArray = filteredData.ToArray();
        var expectedDataArray = expectedData.ToArray();
        <a href="Debug.Assert.html">Debug.Assert</a>(filteredDataArray.Length == expectedDataArray.Length, $"Filtered data should have {expectedDataArray.Length} elements.");
        if (filteredDataArray.Length != expectedDataArray.Length)
            return;

        for (var i = 0; i &lt; expectedDataArray.Length; i++)
        {
            <a href="Debug.Assert.html">Debug.Assert</a>(filteredDataArray[i] == expectedDataArray[i], $"{filteredDataArray[i]} should be equal to {expectedDataArray[i]}");
        }
    }

    static List&lt;MyObjectType&gt; GenerateExampleData()
    {
        var data = new List&lt;MyObjectType&gt;()
        {
            new MyObjectType { id = 0, name = "Test 1", position = new <a href="Vector2.html">Vector2</a>(0, 0), active = false },
            new MyObjectType { id = 1, name = "Test 2", position = new <a href="Vector2.html">Vector2</a>(0, 1), active = true },
            new MyObjectType { id = 2, name = "Test 3", position = new <a href="Vector2.html">Vector2</a>(1, 0), active = false },
            new MyObjectType { id = 3, name = "Test 4", position = new <a href="Vector2.html">Vector2</a>(1, 1), active = true },
            new MyObjectType { id = 4, name = "Test 5", position = new <a href="Vector2.html">Vector2</a>(2, 0), active = false },
            new MyObjectType { id = 5, name = "Test 6", position = new <a href="Vector2.html">Vector2</a>(0, 2), active = true }
        };

        return data;
    }

    /// &lt;summary&gt;
    /// Custom type. This is the type of objects that will be searched by the <a href="Search.QueryEngine.html">QueryEngine</a>.
    /// &lt;/summary&gt;
    class MyObjectType
    {
        public int id { get; set; }
        public string name { get; set; }
        public <a href="Vector2.html">Vector2</a> position { get; set; }
        public bool active { get; set; }

        public MyObjectType()
        {
            id = 0;
            name = "";
            position = <a href="Vector2-zero.html">Vector2.zero</a>;
            active = false;
        }

        public override string ToString()
        {
            return $"({id}, {name}, ({position.x}, {position.y}), {active})";
        }
    }
}
</pre>
      </div>
              <div class="subsection">
                <h2>变量</h2>
                <table class="list">
      <tr><td class="lbl"><a href="Search.QueryEngine_1-globalStringComparison.html">globalStringComparison</a></td><td class="desc">Global string comparison options for word matching and filter handling (if not overridden).</td></tr>
      <tr><td class="lbl"><a href="Search.QueryEngine_1-searchDataCallback.html">searchDataCallback</a></td><td class="desc">The callback used to get the data to match to the search words.</td></tr>
      <tr><td class="lbl"><a href="Search.QueryEngine_1-searchDataOverridesStringComparison.html">searchDataOverridesStringComparison</a></td><td class="desc">Indicates if word/phrase matching uses searchDataStringComparison or not.</td></tr>
      <tr><td class="lbl"><a href="Search.QueryEngine_1-searchDataStringComparison.html">searchDataStringComparison</a></td><td class="desc">String comparison options for word/phrase matching.</td></tr>
      <tr><td class="lbl"><a href="Search.QueryEngine_1-searchWordMatcher.html">searchWordMatcher</a></td><td class="desc">The function used to match the search data against the search words.</td></tr>
      <tr><td class="lbl"><a href="Search.QueryEngine_1-skipIncompleteFilters.html">skipIncompleteFilters</a></td><td class="desc">Boolean. Indicates if incomplete filters should be skipped.
If true, filters are skipped. If false and validateFilters is true, incomplete filters will generate errors when parsed.</td></tr>
      <tr><td class="lbl"><a href="Search.QueryEngine_1-skipUnknownFilters.html">skipUnknownFilters</a></td><td class="desc">Boolean. Indicates if unknown filters should be skipped.
If true, unknown filters are skipped. If false and validateFilters is true, unknown filters will generate errors if no default filter handler is provided.</td></tr>
      <tr><td class="lbl"><a href="Search.QueryEngine_1-validateFilters.html">validateFilters</a></td><td class="desc">Get or set if the engine must validate filters when parsing the query. Defaults to true.</td></tr>
    </table>
              </div>
              <div class="subsection">
                <h2>构造函数</h2>
                <table class="list">
      <tr><td class="lbl"><a href="Search.QueryEngine_1-ctor.html">QueryEngine_1</a></td><td class="desc">Constructs a new QueryEngine.</td></tr>
    </table>
              </div>
              <div class="subsection">
                <h2>公共函数</h2>
                <table class="list">
      <tr><td class="lbl"><a href="Search.QueryEngine_1.AddFilter.html">AddFilter</a></td><td class="desc">Adds a new custom filter.</td></tr>
      <tr><td class="lbl"><a href="Search.QueryEngine_1.AddFiltersFromAttribute.html">AddFiltersFromAttribute</a></td><td class="desc">Adds all custom filters that are identified with the method attribute TFilterAttribute.</td></tr>
      <tr><td class="lbl"><a href="Search.QueryEngine_1.AddNestedQueryAggregator.html">AddNestedQueryAggregator</a></td><td class="desc">Adds a new nested query aggregator. An aggregator is an operation that can be applied on a nested query to aggregate the results of the nested query according to certain criteria.</td></tr>
      <tr><td class="lbl"><a href="Search.QueryEngine_1.AddOperator.html">AddOperator</a></td><td class="desc">Adds a custom filter operator.</td></tr>
      <tr><td class="lbl"><a href="Search.QueryEngine_1.AddOperatorHandler.html">AddOperatorHandler</a></td><td class="desc">Adds a custom filter operator handler.</td></tr>
      <tr><td class="lbl"><a href="Search.QueryEngine_1.AddTypeParser.html">AddTypeParser</a></td><td class="desc">Adds a type parser that parses a string and returns a custom type. Used by custom operator handlers (see AddOperatorHandler).</td></tr>
      <tr><td class="lbl"><a href="Search.QueryEngine_1.ClearFilters.html">ClearFilters</a></td><td class="desc">Removes all filters that were added on the QueryEngine.</td></tr>
      <tr><td class="lbl"><a href="Search.QueryEngine_1.GetAllFilters.html">GetAllFilters</a></td><td class="desc">Get all filters added on this QueryEngine.</td></tr>
      <tr><td class="lbl"><a href="Search.QueryEngine_1.GetOperator.html">GetOperator</a></td><td class="desc">Get a custom operator added on the QueryEngine.</td></tr>
      <tr><td class="lbl"><a href="Search.QueryEngine_1.ParseQuery.html">ParseQuery</a></td><td class="desc">Parses a query string into a ParsedQuery operation. This ParsedQuery operation can then be used to filter any data set of type TData.</td></tr>
      <tr><td class="lbl"><a href="Search.QueryEngine_1.RemoveFilter.html">RemoveFilter</a></td><td class="desc">Removes a custom filter.</td></tr>
      <tr><td class="lbl"><a href="Search.QueryEngine_1.RemoveOperator.html">RemoveOperator</a></td><td class="desc">Removes a custom operator that was added on the QueryEngine.</td></tr>
      <tr><td class="lbl"><a href="Search.QueryEngine_1.SetDefaultFilter.html">SetDefaultFilter</a></td><td class="desc">Sets the default filter handler for filters that were not registered.</td></tr>
      <tr><td class="lbl"><a href="Search.QueryEngine_1.SetDefaultParamFilter.html">SetDefaultParamFilter</a></td><td class="desc">Sets the default filter handler for function filters that were not registered.</td></tr>
      <tr><td class="lbl"><a href="Search.QueryEngine_1.SetFilterNestedQueryTransformer.html">SetFilterNestedQueryTransformer</a></td><td class="desc">Sets a filter's nested query transformer function. This function takes the result of a nested query and extracts the necessary data to compare with the filter.</td></tr>
      <tr><td class="lbl"><a href="Search.QueryEngine_1.SetGlobalStringComparisonOptions.html">SetGlobalStringComparisonOptions</a></td><td class="desc">Sets global string comparison options. Used for word matching and filter handling (unless overridden by filter).</td></tr>
      <tr><td class="lbl"><a href="Search.QueryEngine_1.SetNestedQueryHandler.html">SetNestedQueryHandler</a></td><td class="desc">Sets the function that will handle nested queries. Only one handler can be set.</td></tr>
      <tr><td class="lbl"><a href="Search.QueryEngine_1.SetSearchDataCallback.html">SetSearchDataCallback</a></td><td class="desc">Sets the callback used to fetch the data that is matched against the search words.</td></tr>
      <tr><td class="lbl"><a href="Search.QueryEngine_1.SetSearchWordMatcher.html">SetSearchWordMatcher</a></td><td class="desc">Set the search word matching function to be used instead of the default one. Set to null to use the default.</td></tr>
      <tr><td class="lbl"><a href="Search.QueryEngine_1.TryGetFilter.html">TryGetFilter</a></td><td class="desc">Get a filter by its token.</td></tr>
    </table>
              </div>
            </div>
            <div class="section">
              <div id="_content">
              </div>
            </div>
            <div class="footer-wrapper">
              <div class="footer clear">
                <div class="copy">Copyright © 2022 Unity Technologies. Publication 2022.3</div>
                <div class="menu">
                  <a href="https://learn.unity.com/">教程</a>
                  <a href="https://answers.unity3d.com">社区答案</a>
                  <a href="https://support.unity3d.com/hc/en-us">知识库</a>
                  <a href="https://forum.unity3d.com">论坛</a>
                  <a href="https://unity3d.com/asset-store">Asset Store</a>
                  <a href="https://docs.unity3d.com/Manual/TermsOfUse.html">商标和使用条款</a>
                  <a href="https://unity.com/legal">法律条款</a>
                  <a href="https://unity.com/legal/privacy-policy">隐私政策</a>
                  <a href="https://unity.com/legal/cookie-policy">Cookie</a>
                  <a href="https://unity.com/legal/do-not-sell-my-personal-information">不要出售或分享我的个人信息</a>
                  <div id="ot-sdk-btn-container">
                    <a id="ot-sdk-btn" class="ot-sdk-show-settings" href="javascript:void(0);">Your Privacy Choices (Cookie Settings)</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>