<!DOCTYPE html><html lang="en" class="no-js">
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<script type="text/javascript" src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" charset="UTF-8" data-domain-script="6e91be4c-3145-4ea2-aa64-89d716064836" data-dLayer-ignore="true" data-document-language="true"></script><script type="text/javascript">function OptanonWrapper() {}</script><script>window.dataLayer = window.dataLayer || []; dataLayer.push({ event: 'dataLayer-initialized', user: { user_unity_id: undefined, user_logged_in: 'no' }, environment: { environment_locale: 'en-us', environment_currency: undefined }});</script><script>var offline=(location.href.indexOf('docs.unity3d.com')==-1)?true:false;if(!offline){(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=   'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);  })(window,document,'script','dataLayer','GTM-5V25JL6');}</script><link href="https://fonts.googleapis.com/css?family=Roboto&amp;display=swap" rel="stylesheet">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Unity - Manual: Generate 2D visual content</title>
<meta property="og:image" content="https://unity3d.com/files/images/ogimg.jpg">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="https://unity.com/themes/contrib/unity_base/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFilesManual/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFilesManual/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFilesManual/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFilesManual/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFilesManual/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFilesManual/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFilesManual/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFilesManual/images/favicons/tileicon-144x144.png">
<script type="text/javascript" src="/StaticFilesConfig/UnityVersionsInfo.js"></script><script type="text/javascript" src="../StaticFilesManual/js/jquery.js?ts=20241003"></script><script type="text/javascript" src="../StaticFilesManual/js/core.js?ts=20241003"></script><script type="text/javascript" src="docdata/toc.js?ts=20241003"></script><script type="text/javascript" src="docdata/global_toc.js?ts=20241003"></script><link rel="stylesheet" type="text/css" href="../StaticFilesManual/css/core.css?ts=20241003">
<link rel="stylesheet" href="../StaticFilesManual/css/prism.css">
<script src="../StaticFilesManual/js/prism.js"></script><script src="/StaticFilesConfig/feedback/feedback.js"></script><script src="../StaticFilesManual/js/jquery.sidebar.min.js"></script><link rel="stylesheet" href="../StaticFilesManual/css/mobileoptimisation.css">
<script src="../StaticFilesManual/js/mobileoptimisation.js"></script>
</head>
<body>
<div id="DocsAnalyticsData" data-area="none" data-pagetype="manual"></div>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div id="nav-open" for="nav-input"><span></span></div>
<div class="logo"><a href="https://docs.unity3d.com"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul>
<li><a href="../Manual/index.html" class="selected">Manual</a></li>
<li><a href="../ScriptReference/index.html">Scripting API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity.com/">unity.com</a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="toggle version-number" id="VersionNumber" data-target=".otherversionscontent">
                                Version: <b>2022.3</b><div class="otherversionscontent" id="OtherVersionsContent" style="display: none;">
<ul id="OtherVersionsContentUl"></ul>
<div id="otherVersionsLegend"><ul>
<li>
<div id="supportedColour" class="legendBox"></div>Supported</li>
<li>
<div id="notFoundColour" class="legendBox"></div>Legacy</li>
</ul></div>
</div>
<div id="VersionSwitcherArrow" class="arrow versionSwitcherArrow"></div>
</div>
<div class="lang-switcher"><div class="current toggle" data-target=".lang-list">
<div class="lbl">Language
:                <span class="b">English</span>
</div>
<div class="arrow"></div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/UIE-generate-2d-visual-content.html">English</a></li>
<li><a href="/cn/current/Manual/UIE-generate-2d-visual-content.html">中文</a></li>
<li><a href="/ja/current/Manual/UIE-generate-2d-visual-content.html">日本語</a></li>
<li><a href="/kr/current/Manual/UIE-generate-2d-visual-content.html">한국어</a></li>
</ul></div>
</div></div>
</div></div>
<div class="mobileLogo"><a href="https://docs.unity3d.com"></a></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc" id="customScrollbar">
<h2>Unity Manual</h2>
<div class="search-form sidebar-search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" id="mobileSearchBtn" class="submit" value="Search">
</form></div>
<div class="toggle version-number sidebar-version-switcher" id="VersionNumber" data-target=".otherversionscontent"><form id="otherVersionsContentMobileForm"><div class="ui-field-contain">
<label for="select-native-4">Version: 2022.3</label><select name="select-native-4" id="versionsSelectMobile"><option>Select a different version</option>
<optgroup id="versionsWithThisPageMobile" label="Versions with this page"></optgroup>
<optgroup id="versionsWithoutThisPageMobile" label="Versions without this page"></optgroup></select>
</div></form></div>
<div class="lang-switcher"><div class="current toggle" data-target=".lang-list">
<div class="lbl">Language
:                <span class="b">English</span>
</div>
<div class="arrow"></div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/UIE-generate-2d-visual-content.html">English</a></li>
<li><a href="/cn/current/Manual/UIE-generate-2d-visual-content.html">中文</a></li>
<li><a href="/ja/current/Manual/UIE-generate-2d-visual-content.html">日本語</a></li>
<li><a href="/kr/current/Manual/UIE-generate-2d-visual-content.html">한국어</a></li>
</ul></div>
</div></div>
</div></div></div></div></div>
<div id="content-wrap" class="content-wrap"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UIToolkits.html">User interface (UI)</a></li>
<li><a href="UIElements.html">UI Toolkit</a></li>
<li><a href="UIE-ui-renderer.html">UI Renderer</a></li>
<li>Generate 2D visual content</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="UIE-ui-renderer.html"></a></span><div class="tip">UI Renderer</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="UIE-pie-chart.html"></a></span><div class="tip">Create a pie chart in the Editor and runtime UI</div>
</div>
</div></div>
<div id="_leavefeedback"></div>
<h1>Generate 2D visual content</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p>You use the <span class="notooltips">Mesh</span> API or <a href="#use-the-vector-api">Vector API</a> to generate 2D visual content onto a visual element. </p>

<p>You can use the <span class="notooltips">Mesh</span> API to draws custom shapes. The <span class="notooltips">Mesh</span> API is a tool for advanced users. If you only want to generate simple geometry, use the Vector API instead. Inspired by <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/canvas">HTML Canvas</a>, the Vector API draws 2D vector graphics, such as lines, arcs, and shapes. </p>

<p><a name="use-the-mesh-api"></a></p>

<h2>Use the Mesh API</h2>

<p>To use the <span class="notooltips">Mesh</span> API, allocate a mesh with the <a href="../ScriptReference/UIElements.MeshGenerationContext.Allocate.html"><code>MeshGenerationContext.Allocate</code></a> method and then fill the vertices and indices. The <a href="../ScriptReference/UIElements.MeshGenerationContext.Allocate.html"><code>MeshGenerationContext.Allocate</code></a> method allocates and draws the specified number of vertices and indices required to express geometry for drawing the content of a visual element. For details on geometry generation conventions, see <a href="../ScriptReference/UIElements.Vertex-position.html">Vertex.position</a>.</p>

<p>The following code snippet generates a single <span class="notooltips">quad</span>. It allocates vertices and indices, and provides coordinates in a clockwise direction:</p>

<pre><code class="lang-csharp">class QuadMeshElement : VisualElement
{
    public Color color = Color.red;

    public QuadMeshElement()
    {
        generateVisualContent += OnGenerateVisualContent;
    }

    void OnGenerateVisualContent(MeshGenerationContext mgc)
    {
        var mesh = mgc.Allocate(4, 6);

        var p0 = Vector2.zero;
        var p1 = new Vector2(layout.width, 0);
        var p2 = new Vector2(layout.width, layout.height);
        var p3 = new Vector2(0, layout.height);

        mesh.SetNextVertex(new Vertex() { position = new Vector3(p0.x, p0.y, Vertex.nearZ), tint = color });
        mesh.SetNextVertex(new Vertex() { position = new Vector3(p1.x, p1.y, Vertex.nearZ), tint = color });
        mesh.SetNextVertex(new Vertex() { position = new Vector3(p2.x, p2.y, Vertex.nearZ), tint = color });
        mesh.SetNextVertex(new Vertex() { position = new Vector3(p3.x, p3.y, Vertex.nearZ), tint = color });

        mesh.SetNextIndex(0);
        mesh.SetNextIndex(1);
        mesh.SetNextIndex(2);
        mesh.SetNextIndex(0);
        mesh.SetNextIndex(2);
        mesh.SetNextIndex(3);
    }
}
</code></pre>

<p><a name="use-the-vector-api"></a></p>

<h2>Use the Vector API</h2>

<p>To use the Vector API, access the <a href="../ScriptReference/UIElements.Painter2D.html"><code>Painter2D</code></a> object from the <a href="../ScriptReference/UIElements.MeshGenerationContext.html"><code>MeshGenerationContext</code></a> and generate paths with it. You can then use <a href="../ScriptReference/UIElements.Painter2D.Stroke.html"><code>Stroke</code></a> to draw lines or <a href="../ScriptReference/UIElements.Painter2D.Fill.html"><code>Fill</code></a> to draw shapes.</p>

<p>To build paths, you issue commands that move a kind of “virtual pen.” For example, to generate the <a href="#use-the-mesh-api">same quad in the Mesh API example</a>, move the “pen” to the first position, and chain lines together. After the path is done, use <a href="../ScriptReference/UIElements.Painter2D.Fill.html"><code>Fill</code></a> to build the shape.</p>

<pre><code class="lang-csharp">class QuadVectorElement : VisualElement
{
    public Color color = Color.red;

    public QuadVectorElement()
    {
        generateVisualContent += OnGenerateVisualContent;
    }

    void OnGenerateVisualContent(MeshGenerationContext mgc)
    {
        var p0 = Vector2.zero;
        var p1 = new Vector2(layout.width, 0);
        var p2 = new Vector2(layout.width, layout.height);
        var p3 = new Vector2(0, layout.height);

        var painter2D = mgc.painter2D;

        painter2D.fillColor = color;

        painter2D.BeginPath();
        painter2D.MoveTo(p0);
        painter2D.LineTo(p1);
        painter2D.LineTo(p2);
        painter2D.LineTo(p3);
        painter2D.ClosePath();
        painter2D.Fill();
    }
}
</code></pre>

<h3>Line</h3>

<p>The <a href="../ScriptReference/UIElements.Painter2D.LineTo.html"><code>LineTo</code></a> method generates a straight line from the current pen position to the provided one. Before you draw lines, define properties, such as the stroke color, the line width, the joins, and caps.</p>

<p>When you draw lines, the properties of <a href="Scriptref:UIElements.LineJoin"><code>LineJoin</code></a> and <a href="Scriptref:UIElements.LineCap"><code>LineCap</code></a> control the styles of line joins and caps.</p>

<p>The following image illustrates the different styles of line caps and joins:</p>

<figure>
<img src="../uploads/Main/uitk/line-caps-joins.png" alt="Different styles of line caps and joins">
<figcaption>Different styles of line caps and joins</figcaption>
</figure>

<p>The following code snippet draws a zigzag line:</p>

<figure>
<img src="../uploads/Main/uitk/linto.png" alt="A zigzag line">
<figcaption>A zigzag line</figcaption>
</figure>

<pre><code class="lang-csharp">painter2D.lineWidth = 10.0f;
painter2D.strokeColor = Color.white;
painter2D.lineJoin = LineJoin.Round;
painter2D.lineCap = LineCap.Round;

painter2D.BeginPath();
painter2D.MoveTo(new Vector2(100, 100));
painter2D.LineTo(new Vector2(120, 120));
painter2D.LineTo(new Vector2(140, 100));
painter2D.LineTo(new Vector2(160, 120));
painter2D.LineTo(new Vector2(180, 100));
painter2D.LineTo(new Vector2(200, 120));
painter2D.LineTo(new Vector2(220, 100));
painter2D.Stroke();
</code></pre>

<h3>Arc</h3>

<p>You can use the following methods to draw arcs:</p>

<ul>
<li>The <a href="../ScriptReference/UIElements.Painter2D.Arc.html"><code>Arc</code></a> method generates an arc from the provided arc center, the radius, and the starting and ending angles.</li>
<li>The <a href="../ScriptReference/UIElements.Painter2D.ArcTo.html"><code>ArcTo</code></a> method generates an arc between two straight segments.</li>
</ul>

<p>The following code snippet uses <code>Arc</code> to draws a sector with a border:</p>

<figure>
<img src="../uploads/Main/uitk/arc.png" alt="A sector with a border">
<figcaption>A sector with a border</figcaption>
</figure>

<pre><code class="lang-csharp">painter2D.lineWidth = 2.0f;
painter2D.strokeColor = Color.red;
painter2D.fillColor = Color.blue;

painter2D.BeginPath();
// Move to the arc center
painter2D.MoveTo(new Vector2(100, 100));

// Draw the arc, and close the path
painter2D.Arc(new Vector2(100, 100), 50.0f, 10.0f, 95.0f);
painter2D.ClosePath();

// Fill and stroke the path
painter2D.Fill();
painter2D.Stroke();
</code></pre>

<p>The following code snippet uses <code>ArcTo</code> to draw an arc of the requested radius in the corner of the lines:</p>

<figure>
<img src="../uploads/Main/uitk/arc-to.png" alt="A line with arc">
<figcaption>A line with arc</figcaption>
</figure>

<pre><code class="lang-csharp">painter2D.BeginPath();
painter2D.MoveTo(new Vector2(100, 100));
painter2D.ArcTo(new Vector2(150, 150), new Vector2(200, 100), 20.0f);
painter2D.LineTo(new Vector2(200, 100));
painter2D.Stroke();
</code></pre>

<h3>Curves</h3>

<p>You can use the following methods to draw curves:</p>

<ul>
<li>The <a href="../ScriptReference/UIElements.Painter2D.BezierCurveTo.html"><code>BezierCurveTo</code></a> method generates a cubic bezier curve by two control points and the final position of the cubic bezier.</li>
<li>The <a href="../ScriptReference/UIElements.Painter2D.QuadraticCurveTo.html"><code>QuadraticCurveTo</code></a> method generates a quadratic bezier curve by a control point and the final position of the quadratic bezier.</li>
</ul>

<p>The following code snippet uses <code>BezierCurveTo</code> to draw a bezier curve:</p>

<figure>
<img src="../uploads/Main/uitk/curve.png" alt="A bezier curve">
<figcaption>A bezier curve</figcaption>
</figure>

<pre><code class="lang-csharp">painter2D.BeginPath();
painter2D.MoveTo(new Vector2(100, 100));
painter2D.BezierCurveTo(new Vector2(150, 150), new Vector2(200, 50), new Vector2(250, 100));
painter2D.Stroke();
</code></pre>

<p>The following code snippet uses <code>QuadraticCurveTo</code> to draw a quadratic curve:</p>

<figure>
<img src="../uploads/Main/uitk/curve-quadratic.png" alt="A quadratic curve">
<figcaption>A quadratic curve</figcaption>
</figure>

<pre><code class="lang-csharp">painter2D.BeginPath();
painter2D.MoveTo(new Vector2(100, 100));
painter2D.QuadraticCurveTo(new Vector2(150, 150), new Vector2(250, 100));
painter2D.Stroke();
</code></pre>

<h3>Holes in fills</h3>

<p>You can construct paths with holes in them when you do a <a href="../ScriptReference/UIElements.Painter2D.html"><code>Fill</code></a>. When you call <code>MoveTo</code>, it starts a new sub-path. To create a hole, use the <a href="../ScriptReference/UIElements.FillRule.html">fill rule</a> to overlap the various sub-paths with each other.</p>

<p>The <a href="../ScriptReference/UIElements.FillRule.html">fill rule</a> determines how to fill the inside of a shape:</p>

<ul>
<li>
<code>OddEven</code>: Draw a ray from that point to infinity in any direction and count the number of path segments from the given shape that the ray crosses. If this number is odd, the point is inside; if even, the point is outside.</li>
<li>
<code>NonZero</code>: Draw a ray from that point to infinity in any direction, and then examine the places where a segment of the shape crosses the ray. Start with a count of zero, and add one each time a path segment crosses the ray from left to right. Subtract one each time a path segment crosses the ray from right to left. After you count the crossings, if the result is zero, then the point is outside the path. Otherwise, it’s inside.</li>
</ul>

<p>The following code snippet creates a rectangle with a diamond shape hole in it:</p>

<figure>
<img src="../uploads/Main/uitk/hole.png" alt="A rectangle shape with a hole in it">
<figcaption>A rectangle shape with a hole in it</figcaption>
</figure>

<pre><code class="lang-csharp">painter2D.BeginPath();
painter2D.MoveTo(new Vector2(10, 10));
painter2D.LineTo(new Vector2(300, 10));
painter2D.LineTo(new Vector2(300, 150));
painter2D.LineTo(new Vector2(10, 150));
painter2D.ClosePath();

painter2D.MoveTo(new Vector2(150, 50));
painter2D.LineTo(new Vector2(175, 75));
painter2D.LineTo(new Vector2(150, 100));
painter2D.LineTo(new Vector2(125, 75));
painter2D.ClosePath();

painter2D.Fill(FillRule.OddEven);
</code></pre>

<h2>Additional resources</h2>

<ul>
<li><a href="../ScriptReference/UIElements.MeshGenerationContext.html"><code>MeshGenerationContext</code></a></li>
<li><a href="../ScriptReference/UIElements.Painter2D.html"><code>Painter2D</code></a></li>
<li><a href="UIE-pie-chart.html">Create a pie chart in the Editor and runtime UI</a></li>
<li><a href="UIE-radial-progress.html">Use Mesh API to create a radial progress indicator</a></li>
<li><a href="UIE-radial-progress-use-vector-api.html">Use Vector API to create a radial progress indicator</a></li>
</ul>
<div id="_content"></div>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="UIE-ui-renderer.html"></a></span><div class="tip">UI Renderer</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="UIE-pie-chart.html"></a></span><div class="tip">Create a pie chart in the Editor and runtime UI</div>
</div>
</div>
</div>
<div class="footer-wrapper"><div class="footer clear">
<div class="copy">Copyright © 2024 Unity Technologies. Publication Date: 2024-10-03.</div>
<div class="menu">
<a href="https://learn.unity.com/">Tutorials</a><a href="https://answers.unity3d.com">Community Answers</a><a href="https://support.unity3d.com/hc/en-us">Knowledge Base</a><a href="https://forum.unity3d.com">Forums</a><a href="https://unity3d.com/asset-store">Asset Store</a><a href="https://docs.unity3d.com/Manual/TermsOfUse.html">Terms of use</a><a href="https://unity.com/legal">Legal</a><a href="https://unity.com/legal/privacy-policy">Privacy Policy</a><a href="https://unity.com/legal/cookie-policy">Cookies</a><a href="https://unity.com/legal/do-not-sell-my-personal-information">Do Not Sell or Share My Personal Information</a><div id="ot-sdk-btn-container"><a id="ot-sdk-btn" class="ot-sdk-show-settings" href="javascript:void(0);">Your Privacy Choices (Cookie Settings)</a></div>
</div>
</div></div>
</div></div></div>
</div>
</body>
</html>
