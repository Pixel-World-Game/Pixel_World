<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    <script type="text/javascript" src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" charset="UTF-8" data-domain-script="6e91be4c-3145-4ea2-aa64-89d716064836" data-dLayer-ignore="true" data-document-language="true">
    </script>
    <script type="text/javascript">function OptanonWrapper() {}</script>
    <script>window.dataLayer = window.dataLayer || []; dataLayer.push({ event: 'dataLayer-initialized', user: { user_unity_id: undefined, user_logged_in: 'no' }, environment: { environment_locale: 'en-us', environment_currency: undefined }});</script>
    <script>var offline=(location.href.indexOf('docs.unity3d.com')==-1)?true:false;if(!offline){(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=   'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);  })(window,document,'script','dataLayer','GTM-5V25JL6');}</script>
    <link href="https://fonts.googleapis.com/css?family=Roboto&amp;display=swap" rel="stylesheet" />
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Unity - Scripting API: LineUtility.Simplify</title>
    <meta property="og:image" content="https://unity3d.com/files/images/ogimg.jpg" />
    <meta name="author" content="Unity Technologies" />
    <link rel="shortcut icon" href="https://unity.com/themes/contrib/unity_base/images/favicons/favicon.ico" />
    <link rel="icon" type="image/png" href="../../../StaticFiles/images/favicons/favicon.png" />
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFiles/images/favicons/apple-touch-icon-152x152.png" />
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFiles/images/favicons/apple-touch-icon-144x144.png" />
    <link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFiles/images/favicons/apple-touch-icon-120x120.png" />
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFiles/images/favicons/apple-touch-icon-114x114.png" />
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFiles/images/favicons/apple-touch-icon-72x72.png" />
    <link rel="apple-touch-icon-precomposed" href="../StaticFiles/images/favicons/apple-touch-icon.png" />
    <meta name="msapplication-TileColor" content="#222c37" />
    <meta name="msapplication-TileImage" content="../StaticFiles/images/favicons/tileicon-144x144.png" />
    <script type="text/javascript" src="/StaticFilesConfig/UnityVersionsInfo.js">
    </script>
    <script type="text/javascript" src="../StaticFiles/js/jquery.js">
    </script>
    <script type="text/javascript" src="docdata/toc.js">//toc</script>
    <!--local TOC-->
    <script type="text/javascript" src="docdata/global_toc.js">//toc</script>
    <!--global TOC, including other platforms-->
    <script type="text/javascript" src="../StaticFiles/js/core.js">
    </script>
    <link rel="stylesheet" href="../StaticFiles/css/prism.css" />
    <script type="text/javascript" src="../StaticFiles/js/prism.js">
    </script>
    <link rel="stylesheet" type="text/css" href="../StaticFiles/css/core.css" />
    <script src="/StaticFilesConfig/feedback/feedback.js">
    </script>
    <script src="../StaticFiles/js/jquery.sidebar.min.js">
    </script>
    <script type="text/javascript" src="../StaticFiles/js/mobileoptimisation.js">
    </script>
    <link rel="stylesheet" href="../StaticFiles/css/mobileoptimisation.css" />
  </head>
  <body>
    <div id="DocsAnalyticsData" data-area="none" data-pagetype="scriptref">
    </div>
    <div class="header-wrapper">
      <div id="header" class="header">
        <div class="content">
          <div class="spacer">
            <div class="menu">
              <div id="nav-open" for="nav-input">
                <span>
                </span>
              </div>
              <div class="logo">
                <a href="">
                </a>
              </div>
              <div class="search-form">
                <form action="30_search.html" method="get" class="apisearch">
                  <input type="text" name="q" placeholder="Search scripting..." autosave="Unity Reference" results="5" class="sbox field" id="q">
                  </input>
                  <input type="submit" class="submit">
                  </input>
                </form>
              </div>
              <ul>
                <li>
                  <a href="../Manual/index.html">Manual</a>
                </li>
                <li>
                  <a href="../ScriptReference/index.html" class="selected">Scripting API</a>
                </li>
              </ul>
            </div>
          </div>
          <div class="more">
            <div class="filler">
            </div>
            <ul>
              <li>
                <a href="https://unity.com/">unity.com</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <div class="toolbar">
        <div class="content clear">
          <div class="toggle version-number" id="VersionNumber" data-target=".otherversionscontent">
                                Version: <b>2022.3</b><div class="otherversionscontent" id="OtherVersionsContent" style="display: none;"><ul id="OtherVersionsContentUl"></ul><div id="otherVersionsLegend"><ul><li><div id="supportedColour" class="legendBox"></div>Supported</li><li><div id="notFoundColour" class="legendBox"></div>Legacy</li></ul></div></div><div id="VersionSwitcherArrow" class="arrow versionSwitcherArrow"></div></div>
          <div class="lang-switcher hide">
            <div class="current toggle" data-target=".lang-list">
              <div class="lbl">Language<span class="b">English</span></div>
              <div class="arrow">
              </div>
            </div>
            <div class="lang-list" style="display:none;">
              <ul>
                <li>
                  <a href="">English</a>
                </li>
              </ul>
            </div>
          </div>
          <div class="script-lang">
            <ul>
              <li class="selected" data-lang="CS">C#</li>
            </ul>
          </div>
          <div class="mobileLogo">
            <a href="https://docs.unity3d.com">
            </a>
          </div>
        </div>
      </div>
    </div>
    <div id="master-wrapper" class="master-wrapper clear">
      <div id="sidebar" class="sidebar">
        <div class="sidebar-wrap">
          <div class="content">
            <div class="sidebar-menu">
              <div class="toc" id="customScrollbar">
                <h2>Scripting API</h2>
                <div class="search-form sidebar-search-form">
                  <form action="30_search.html" method="get" class="apisearch">
                    <input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q">
                    </input>
                    <input type="submit" id="mobileSearchBtn" class="submit" value="Search">
                    </input>
                  </form>
                </div>
                <div class="toggle version-number sidebar-version-switcher" id="VersionNumber" data-target=".otherversionscontent">
                  <form id="otherVersionsContentMobileForm">
                    <div class="ui-field-contain">
                      <label for="select-native-4">Version: 2022.3</label>
                      <select name="select-native-4" id="versionsSelectMobile">
                        <option>Select a different version</option>
                        <optgroup id="versionsWithThisPageMobile" label="Versions with this page">
                        </optgroup>
                        <optgroup id="versionsWithoutThisPageMobile" label="Versions without this page">
                        </optgroup>
                      </select>
                    </div>
                  </form>
                </div>
                <div class="lang-switcher hide">
                  <div class="toggle" data-target=".lang-list">
                    <div class="lbl">Language<span class="b">English</span></div>
                    <div class="arrow">
                    </div>
                  </div>
                  <div class="lang-list" style="display:none;">
                    <ul>
                      <li>
                        <a href="">English</a>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id="content-wrap" class="content-wrap">
        <div class="content-block">
          <div class="content">
            <div class="section">
              <div class="mb20 clear" id="">
                <h1 class="heading inherit">
                  <a href="LineUtility.html">LineUtility</a>.Simplify</h1>
                <div class="clear">
                </div>
                <div class="scrollToFeedback">
                  <a id="scrollToFeedback">Leave feedback</a>
                </div>
                <div class="clear">
                </div>
                <div class="suggest">
                  <a class="blue-btn sbtn">Suggest a change</a>
                  <div class="suggest-wrap rel hide">
                    <div class="loading hide">
                      <div>
                      </div>
                      <div>
                      </div>
                      <div>
                      </div>
                    </div>
                    <div class="suggest-success hide">
                      <h2>Success!</h2>
                      <p>Thank you for helping us improve the quality of Unity Documentation. Although we cannot accept all submissions, we do read each suggested change from our users and will make updates where applicable.</p>
                      <a class="gray-btn sbtn close">Close</a>
                    </div>
                    <div class="suggest-failed hide">
                      <h2>Submission failed</h2>
                      <p>For some reason your suggested change could not be submitted. Please &lt;a&gt;try again&lt;/a&gt; in a few minutes. And thank you for taking the time to help us improve the quality of Unity Documentation.</p>
                      <a class="gray-btn sbtn close">Close</a>
                    </div>
                    <div class="suggest-form clear">
                      <label for="suggest_name">Your name</label>
                      <input id="suggest_name" type="text">
                      </input>
                      <label for="suggest_email">Your email</label>
                      <input id="suggest_email" type="email">
                      </input>
                      <label for="suggest_body" class="clear">Suggestion<span class="r">*</span></label>
                      <textarea id="suggest_body" class="req">
                      </textarea>
                      <button id="suggest_submit" class="blue-btn mr10">Submit suggestion</button>
                      <p class="mb0">
                        <a class="cancel left lh42 cn">Cancel</a>
                      </p>
                    </div>
                  </div>
                </div>
                <a href="" class="switch-link gray-btn sbtn left hide">
                </a>
                <div class="clear">
                </div>
              </div>
              <div class="subsection">
                <div class="signature">
                  <div class="signature-CS sig-block">
                    <span style="color:red;">
                    </span>
                    <h2>Declaration</h2>public static void <span class="sig-kw">Simplify</span>(List&lt;Vector3&gt; <span class="sig-kw">points</span>,
float <span class="sig-kw">tolerance</span>,
List&lt;int&gt; <span class="sig-kw">pointsToKeep</span>);
    </div>
                  <div class="signature-CS sig-block">
                    <span style="color:red;">
                    </span>
                    <h2>Declaration</h2>public static void <span class="sig-kw">Simplify</span>(List&lt;Vector3&gt; <span class="sig-kw">points</span>,
float <span class="sig-kw">tolerance</span>,
List&lt;Vector3&gt; <span class="sig-kw">simplifiedPoints</span>);
    </div>
                  <div class="signature-CS sig-block">
                    <span style="color:red;">
                    </span>
                    <h2>Declaration</h2>public static void <span class="sig-kw">Simplify</span>(List&lt;Vector2&gt; <span class="sig-kw">points</span>,
float <span class="sig-kw">tolerance</span>,
List&lt;int&gt; <span class="sig-kw">pointsToKeep</span>);
    </div>
                  <div class="signature-CS sig-block">
                    <span style="color:red;">
                    </span>
                    <h2>Declaration</h2>public static void <span class="sig-kw">Simplify</span>(List&lt;Vector2&gt; <span class="sig-kw">points</span>,
float <span class="sig-kw">tolerance</span>,
List&lt;Vector2&gt; <span class="sig-kw">simplifiedPoints</span>);
    </div>
                </div>
              </div>
              <div class="subsection">
                <h3>Parameters</h3>
                <table class="list">
                  <tr>
                    <td class="name lbl">points</td>
                    <td class="desc">The points that make up the original line.</td>
                  </tr>
                  <tr>
                    <td class="name lbl">tolerance</td>
                    <td class="desc">This value is used to evaluate which points should be removed from the line. A higher value results in a simpler line (less points). A positive value close to zero results in a line with little to no reduction. A value of zero or less has no effect.</td>
                  </tr>
                  <tr>
                    <td class="name lbl">pointsToKeep</td>
                    <td class="desc">Populated by this function. Contains the indexes of the points that should be generate a simplified version..</td>
                  </tr>
                  <tr>
                    <td class="name lbl">simplifiedPoints</td>
                    <td class="desc">Populated by this function. Contains the points that form the simplified line.</td>
                  </tr>
                </table>
              </div>
              <div class="subsection">
                <h3>Description</h3>
                <p>Generates a simplified version of the original line by removing points that fall within the specified tolerance.</p>
              </div>
              <div class="subsection">
        <p>As an example, you can use this function for reducing a complex line made up of thousands of points. The line can be reduced to hundreds or even less points and still maintain a form closely matching the original. You can generate multiple versions of the same line with varying detail levels by adjusting the tolerance (higher tolerance values results in less points in the generated line). The generated line can then be displayed using the LODGroup system.<br /><br />The Simplify algorithm is based on the <a href="https://en.wikipedia.org/wiki/Ramer-Douglas-Peucker_algorithm">Ramer Douglas Peucker algorithm</a> ; it creates a line that closely represents the provided line but with fewer points(determined by tolerance).<br /><br /><strong>Note:</strong> This function can handle a large number of points as it is non-recursive.  The 2D version of this function performs better than this function as it uses a simpler way to evaluate the points.<br /><br />Additional resources: <a href="LineRenderer.Simplify.html">LineRenderer.Simplify</a>.<br /><br /><strong>The following example shows how to apply line simplification to an existing line.</strong></p>
      </div>
              <div class="subsection">
        <pre class="codeExampleCS">
using System.Collections.Generic;
using System.Linq;
using UnityEngine;<br /><br />// This example shows how to apply line simplification to a line that already contains points.
[<a href="RequireComponent.html">RequireComponent</a>(typeof(<a href="LineRenderer.html">LineRenderer</a>))]
public class SimpleExampleLineUtility : <a href="MonoBehaviour.html">MonoBehaviour</a>
{
    public float tolerance = 1;
    void Start()
    {
        // Get the points.
        var lineRenderer = GetComponent&lt;<a href="LineRenderer.html">LineRenderer</a>&gt;();
        int pointsBefore = lineRenderer.positionCount;
        var points = new <a href="Vector3.html">Vector3</a>[pointsBefore];
        lineRenderer.GetPositions(points);<br /><br />        // Simplify.
        var simplifiedPoints = new List&lt;<a href="Vector3.html">Vector3</a>&gt;();
        <a href="LineUtility.Simplify.html">LineUtility.Simplify</a>(points.ToList(), tolerance, simplifiedPoints);<br /><br />        // Assign back to the line renderer.
        lineRenderer.positionCount = simplifiedPoints.Count;
        lineRenderer.SetPositions(simplifiedPoints.ToArray());<br /><br />        <a href="Debug.Log.html">Debug.Log</a>("Line reduced from " + pointsBefore + " to " + lineRenderer.positionCount);
    }
}
</pre>
      </div>
              <div class="subsection">
        <p>The following example shows how the pointsToKeep parameter can be used to return a list of indices. The list can then be used to simplify a line that retains points in that list. Additional points can still be added on to the resulting simplified line.</p>
      </div>
              <div class="subsection">
        <pre class="codeExampleCS">
using System.Collections.Generic;
using System.Linq;
using UnityEngine;<br /><br />// This example shows how to use the pointsToKeep parameter to generate a new simplified version of the line.
[<a href="RequireComponent.html">RequireComponent</a>(typeof(<a href="LineRenderer.html">LineRenderer</a>))]
public class SimpleExampleLineUtilityPointsToKeep : <a href="MonoBehaviour.html">MonoBehaviour</a>
{
    public float tolerance = 1;
    void Start()
    {
        // Get the points.
        var lineRenderer = GetComponent&lt;<a href="LineRenderer.html">LineRenderer</a>&gt;();
        int pointsBefore = lineRenderer.positionCount;
        var points = new <a href="Vector3.html">Vector3</a>[pointsBefore];
        lineRenderer.GetPositions(points);<br /><br />        // Simplify.
        var pointsToKeep = new List&lt;int&gt;();
        <a href="LineUtility.Simplify.html">LineUtility.Simplify</a>(points.ToList(), tolerance, pointsToKeep);<br /><br />        var simplifiedPoints = new <a href="Vector3.html">Vector3</a>[pointsToKeep.Count];
        for (int i = 0; i &lt; simplifiedPoints.Length; ++i)
        {
            simplifiedPoints[i] = points[pointsToKeep[i]];
        }<br /><br />        // Assign back to the line renderer.
        lineRenderer.positionCount = simplifiedPoints.Length;
        lineRenderer.SetPositions(simplifiedPoints);<br /><br />        <a href="Debug.Log.html">Debug.Log</a>("Line reduced from " + pointsBefore + " to " + lineRenderer.positionCount);
    }
}
</pre>
      </div>
              <div class="subsection">
        <p>This example generates a line in the shape of a sine wave and provides a GUI for customizing the line generation and simplification parameters.</p>
      </div>
              <div class="subsection">
        <pre class="codeExampleCS">
using System.Collections.Generic;
using UnityEngine;<br /><br />// This example creates a sine wave and then simplifies it using the <a href="LineUtility.html">LineUtility</a>.
// The parameters can be adjusted through an in game <a href="GUI.html">GUI</a> to allow for experimentation.
[<a href="RequireComponent.html">RequireComponent</a>(typeof(<a href="LineRenderer.html">LineRenderer</a>))]
public class LineUtilityExample : <a href="MonoBehaviour.html">MonoBehaviour</a>
{
    public int numberOfPoints = 1000;
    public float length = 50;
    public float waveHeight = 10;
    public float tolerance = 0.1f;<br /><br />    private <a href="LineRenderer.html">LineRenderer</a> lineRenderer;
    private List&lt;<a href="Vector3.html">Vector3</a>&gt; points = new List&lt;<a href="Vector3.html">Vector3</a>&gt;(); // Generated points before LineOptimizer is used.
    private List&lt;<a href="Vector3.html">Vector3</a>&gt; simplifiedPoints = new List&lt;<a href="Vector3.html">Vector3</a>&gt;(); // Simplified points after LineOptimizer is used.<br /><br />    public void Start()
    {
        lineRenderer = GetComponent&lt;<a href="LineRenderer.html">LineRenderer</a>&gt;();
    }<br /><br />    // Generates the sine wave points.
    public void GeneratePoints()
    {
        points.Clear();
        float halfWaveHeight = waveHeight * 0.5f;
        float step = length / numberOfPoints;
        for (int i = 0; i &lt; numberOfPoints; ++i)
        {
            points.Add(new <a href="Vector3.html">Vector3</a>(i * step, <a href="Mathf.Sin.html">Mathf.Sin</a>(i * step) * halfWaveHeight, 0));
        }
    }<br /><br />    // Simplify the line using the LineOptimizer.
    public void SimplifyLine()
    {
        simplifiedPoints.Clear();
        <a href="LineUtility.Simplify.html">LineUtility.Simplify</a>(points, tolerance, simplifiedPoints);
        lineRenderer.positionCount = simplifiedPoints.Count;
        lineRenderer.SetPositions(simplifiedPoints.ToArray());
    }<br /><br />    // Draw a simple <a href="GUI.html">GUI</a> slider with a label.
    private static float GUISlider(string label, float value, float min, float max)
    {
        <a href="GUILayout.BeginHorizontal.html">GUILayout.BeginHorizontal</a>(<a href="GUILayout.Width.html">GUILayout.Width</a>(<a href="Screen-width.html">Screen.width</a> / 2.0f));
        <a href="GUILayout.Label.html">GUILayout.Label</a>(label + "(" + value + ") :", <a href="GUILayout.Width.html">GUILayout.Width</a>(150));
        var val = <a href="GUILayout.HorizontalSlider.html">GUILayout.HorizontalSlider</a>(value, min, max);
        <a href="GUILayout.EndHorizontal.html">GUILayout.EndHorizontal</a>();
        return val;
    }<br /><br />    public void OnGUI()
    {
        <a href="GUILayout.Label.html">GUILayout.Label</a>("<a href="LineUtility.Simplify.html">LineUtility.Simplify</a>", GUI.skin.box);<br /><br />        // We use <a href="GUI-changed.html">GUI.changed</a> to detect if a value was changed via the <a href="GUI.html">GUI</a>, if it has we can then re-generate the points and simplify the line again.
        <a href="GUI-changed.html">GUI.changed</a> = false;<br /><br />        numberOfPoints = (int)GUISlider("Number of Points", numberOfPoints, 0, 1000);
        length = GUISlider("<a href="UIElements.Length.html">Length</a>", length, 0, 100);
        waveHeight = GUISlider("Wave Height", waveHeight, 0, 100);
        if (<a href="GUI-changed.html">GUI.changed</a>)
            GeneratePoints();<br /><br />        tolerance = GUISlider("Simplify Tolerance", tolerance, 0, 2);
        if (<a href="GUI-changed.html">GUI.changed</a>)
            SimplifyLine();<br /><br />        float percentRemoved = 100.0f - ((float)lineRenderer.positionCount / numberOfPoints) * 100.0f;
        if (tolerance &gt; 0.0f)
            <a href="GUILayout.Label.html">GUILayout.Label</a>("Points after simplification: " + lineRenderer.positionCount + "(Removed " + percentRemoved.ToString("##.##") + "%)");
    }
}
</pre>
      </div>
            </div>
            <div class="section">
              <div id="_content">
              </div>
            </div>
            <div class="footer-wrapper">
              <div class="footer clear">
                <div class="copy">
                  <p>
                    <known_issues>Is something described here not working as you expect it to? It might be a <b>Known Issue</b>. Please check with the Issue Tracker at </known_issues>
                    <a href="https://issuetracker.unity3d.com">issuetracker.unity3d.com</a>.</p>Copyright ©2024 Unity Technologies. Publication Date: 2024-10-03.
                                        </div>
                <div class="menu">
                  <a href="https://unity3d.com/learn">Tutorials</a>
                  <a href="https://answers.unity3d.com">Community Answers</a>
                  <a href="https://support.unity3d.com/hc/en-us">Knowledge Base</a>
                  <a href="https://forum.unity3d.com">Forums</a>
                  <a href="https://unity3d.com/asset-store">Asset Store</a>
                  <a href="https://docs.unity3d.com/Manual/TermsOfUse.html">Terms of use</a>
                  <a href="https://unity.com/legal">Legal</a>
                  <a href="https://unity.com/legal/privacy-policy">Privacy Policy</a>
                  <a href="https://unity.com/legal/cookie-policy">Cookies</a>
                  <a href="https://unity.com/legal/do-not-sell-my-personal-information">Do Not Sell or Share My Personal Information</a>
                  <div id="ot-sdk-btn-container">
                    <a id="ot-sdk-btn" class="ot-sdk-show-settings" href="javascript:void(0);">Your Privacy Choices (Cookie Settings)</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>